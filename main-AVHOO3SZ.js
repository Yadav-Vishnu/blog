var zR=Object.defineProperty,GR=Object.defineProperties;var WR=Object.getOwnPropertyDescriptors;var wI=Object.getOwnPropertySymbols,KR=Object.getPrototypeOf,QR=Object.prototype.hasOwnProperty,YR=Object.prototype.propertyIsEnumerable,ZR=Reflect.get;var EI=(t,e,n)=>e in t?zR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,A=(t,e)=>{for(var n in e||={})QR.call(e,n)&&EI(t,n,e[n]);if(wI)for(var n of wI(e))YR.call(e,n)&&EI(t,n,e[n]);return t},me=(t,e)=>GR(t,WR(e));var ur=(t,e,n)=>ZR(KR(t),n,e);var f=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var DI=null;var Uh=1,TI=Symbol("SIGNAL");function Dt(t){let e=DI;return DI=t,e}var CI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function JR(t){if(!($h(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Uh)){if(!t.producerMustRecompute(t)&&!jh(t)){t.dirty=!1,t.lastCleanEpoch=Uh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Uh}}function bI(t){return t&&(t.nextProducerIndex=0),Dt(t)}function SI(t,e){if(Dt(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if($h(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Bh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function jh(t){Sc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(JR(n),r!==n.version))return!0}return!1}function AI(t){if(Sc(t),$h(t))for(let e=0;e<t.producerNode.length;e++)Bh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Bh(t,e){if(XR(t),Sc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Bh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Sc(i),i.producerIndexOfThis[r]=e}}function $h(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Sc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function XR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function ex(){throw new Error}var tx=ex;function RI(t){tx=t}function L(t){return typeof t=="function"}function es(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ac=es(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Zr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var xe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(L(r))try{r()}catch(s){e=s instanceof Ac?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{xI(s)}catch(o){e=e??[],o instanceof Ac?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ac(e)}}add(e){var n;if(e&&e!==this)if(this.closed)xI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Zr(n,e)}remove(e){let{_finalizers:n}=this;n&&Zr(n,e),e instanceof t&&e._removeParent(this)}};xe.EMPTY=(()=>{let t=new xe;return t.closed=!0,t})();var Hh=xe.EMPTY;function Rc(t){return t instanceof xe||t&&"closed"in t&&L(t.remove)&&L(t.add)&&L(t.unsubscribe)}function xI(t){L(t)?t():t.unsubscribe()}var Wt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ts={setTimeout(t,e,...n){let{delegate:r}=ts;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ts;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function xc(t){ts.setTimeout(()=>{let{onUnhandledError:e}=Wt;if(e)e(t);else throw t})}function Do(){}var MI=qh("C",void 0,void 0);function NI(t){return qh("E",void 0,t)}function PI(t){return qh("N",t,void 0)}function qh(t,e,n){return{kind:t,value:e,error:n}}var Jr=null;function ns(t){if(Wt.useDeprecatedSynchronousErrorHandling){let e=!Jr;if(e&&(Jr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Jr;if(Jr=null,n)throw r}}else t()}function OI(t){Wt.useDeprecatedSynchronousErrorHandling&&Jr&&(Jr.errorThrown=!0,Jr.error=t)}var Xr=class extends xe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Rc(e)&&e.add(this)):this.destination=ix}static create(e,n,r){return new rs(e,n,r)}next(e){this.isStopped?Gh(PI(e),this):this._next(e)}error(e){this.isStopped?Gh(NI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gh(MI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},nx=Function.prototype.bind;function zh(t,e){return nx.call(t,e)}var Wh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Mc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Mc(r)}else Mc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Mc(n)}}},rs=class extends Xr{constructor(e,n,r){super();let i;if(L(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Wt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&zh(e.next,s),error:e.error&&zh(e.error,s),complete:e.complete&&zh(e.complete,s)}):i=e}this.destination=new Wh(i)}};function Mc(t){Wt.useDeprecatedSynchronousErrorHandling?OI(t):xc(t)}function rx(t){throw t}function Gh(t,e){let{onStoppedNotification:n}=Wt;n&&ts.setTimeout(()=>n(t,e))}var ix={closed:!0,next:Do,error:rx,complete:Do};var is=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Tt(t){return t}function Kh(...t){return Qh(t)}function Qh(t){return t.length===0?Tt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var te=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=ox(n)?n:new rs(n,r,i);return ns(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=kI(r),new r((i,s)=>{let o=new rs({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[is](){return this}pipe(...n){return Qh(n)(this)}toPromise(n){return n=kI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function kI(t){var e;return(e=t??Wt.Promise)!==null&&e!==void 0?e:Promise}function sx(t){return t&&L(t.next)&&L(t.error)&&L(t.complete)}function ox(t){return t&&t instanceof Xr||sx(t)&&Rc(t)}function Yh(t){return L(t?.lift)}function ne(t){return e=>{if(Yh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Y(t,e,n,r,i){return new Zh(t,e,n,r,i)}var Zh=class extends Xr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ss(){return ne((t,e)=>{let n=null;t._refCount++;let r=Y(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var os=class extends te{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Yh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xe;let n=this.getSubject();e.add(this.source.subscribe(Y(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xe.EMPTY)}return e}refCount(){return ss()(this)}};var FI=es(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var vt=(()=>{class t extends te{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Nc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new FI}next(n){ns(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ns(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ns(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Hh:(this.currentObservers=null,s.push(n),new xe(()=>{this.currentObservers=null,Zr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new te;return n.source=this,n}}return t.create=(e,n)=>new Nc(e,n),t})(),Nc=class extends vt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Hh}};var Qe=class extends vt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Jh={now(){return(Jh.delegate||Date).now()},delegate:void 0};var Pc=class extends xe{constructor(e,n){super()}schedule(e,n=0){return this}};var To={setInterval(t,e,...n){let{delegate:r}=To;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=To;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var as=class extends Pc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return To.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&To.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Zr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var cs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};cs.now=Jh.now;var us=class extends cs{constructor(e,n=cs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Xh=new us(as);var Oc=class extends as{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var kc=class extends us{};var ef=new kc(Oc);var kt=new te(t=>t.complete());function LI(t){return t&&L(t.schedule)}function VI(t){return t[t.length-1]}function Fc(t){return L(VI(t))?t.pop():void 0}function lr(t){return LI(VI(t))?t.pop():void 0}function tf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function jI(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function UI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ei(t){return this instanceof ei?(this.v=t,this):new ei(t)}function BI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(p){return new Promise(function(m,w){s.push([h,p,m,w])>1||a(h,p)})})}function a(h,p){try{c(r[h](p))}catch(m){d(s[0][3],m)}}function c(h){h.value instanceof ei?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function $I(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof UI=="function"?UI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Lc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Vc(t){return L(t?.then)}function Uc(t){return L(t[is])}function jc(t){return Symbol.asyncIterator&&L(t?.[Symbol.asyncIterator])}function Bc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ax(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $c=ax();function Hc(t){return L(t?.[$c])}function qc(t){return BI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ei(n.read());if(i)return yield ei(void 0);yield yield ei(r)}}finally{n.releaseLock()}})}function zc(t){return L(t?.getReader)}function Pe(t){if(t instanceof te)return t;if(t!=null){if(Uc(t))return cx(t);if(Lc(t))return ux(t);if(Vc(t))return lx(t);if(jc(t))return HI(t);if(Hc(t))return dx(t);if(zc(t))return hx(t)}throw Bc(t)}function cx(t){return new te(e=>{let n=t[is]();if(L(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ux(t){return new te(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function lx(t){return new te(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,xc)})}function dx(t){return new te(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function HI(t){return new te(e=>{fx(t,e).catch(n=>e.error(n))})}function hx(t){return HI(qc(t))}function fx(t,e){var n,r,i,s;return jI(this,void 0,void 0,function*(){try{for(n=$I(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function _t(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function dr(t,e=0){return ne((n,r)=>{n.subscribe(Y(r,i=>_t(r,t,()=>r.next(i),e),()=>_t(r,t,()=>r.complete(),e),i=>_t(r,t,()=>r.error(i),e)))})}function hr(t,e=0){return ne((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function qI(t,e){return Pe(t).pipe(hr(e),dr(e))}function zI(t,e){return Pe(t).pipe(hr(e),dr(e))}function GI(t,e){return new te(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function WI(t,e){return new te(n=>{let r;return _t(n,e,()=>{r=t[$c](),_t(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>L(r?.return)&&r.return()})}function Gc(t,e){if(!t)throw new Error("Iterable cannot be null");return new te(n=>{_t(n,e,()=>{let r=t[Symbol.asyncIterator]();_t(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function KI(t,e){return Gc(qc(t),e)}function QI(t,e){if(t!=null){if(Uc(t))return qI(t,e);if(Lc(t))return GI(t,e);if(Vc(t))return zI(t,e);if(jc(t))return Gc(t,e);if(Hc(t))return WI(t,e);if(zc(t))return KI(t,e)}throw Bc(t)}function Me(t,e){return e?QI(t,e):Pe(t)}function U(...t){let e=lr(t);return Me(t,e)}function ls(t,e){let n=L(t)?t:()=>t,r=i=>i.error(n());return new te(e?i=>e.schedule(r,0,i):r)}function nf(t){return!!t&&(t instanceof te||L(t.lift)&&L(t.subscribe))}var Vn=es(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Z(t,e){return ne((n,r)=>{let i=0;n.subscribe(Y(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:px}=Array;function mx(t,e){return px(e)?t(...e):t(e)}function Wc(t){return Z(e=>mx(t,e))}var{isArray:gx}=Array,{getPrototypeOf:yx,prototype:vx,keys:_x}=Object;function Kc(t){if(t.length===1){let e=t[0];if(gx(e))return{args:e,keys:null};if(Ix(e)){let n=_x(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Ix(t){return t&&typeof t=="object"&&yx(t)===vx}function Qc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Yc(...t){let e=lr(t),n=Fc(t),{args:r,keys:i}=Kc(t);if(r.length===0)return Me([],e);let s=new te(wx(r,e,i?o=>Qc(i,o):Tt));return n?s.pipe(Wc(n)):s}function wx(t,e,n=Tt){return r=>{YI(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)YI(e,()=>{let u=Me(t[c],e),l=!1;u.subscribe(Y(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function YI(t,e,n){t?_t(n,t,e):e()}function ZI(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},p=w=>u<r?m(w):c.push(w),m=w=>{s&&e.next(w),u++;let _=!1;Pe(n(w,l++)).subscribe(Y(e,b=>{i?.(b),s?p(b):e.next(b)},()=>{_=!0},void 0,()=>{if(_)try{for(u--;c.length&&u<r;){let b=c.shift();o?_t(e,o,()=>m(b)):m(b)}h()}catch(b){e.error(b)}}))};return t.subscribe(Y(e,p,()=>{d=!0,h()})),()=>{a?.()}}function je(t,e,n=1/0){return L(e)?je((r,i)=>Z((s,o)=>e(r,s,i,o))(Pe(t(r,i))),n):(typeof e=="number"&&(n=e),ne((r,i)=>ZI(r,i,t,n)))}function rf(t=1/0){return je(Tt,t)}function JI(){return rf(1)}function ds(...t){return JI()(Me(t,lr(t)))}function Zc(t){return new te(e=>{Pe(t()).subscribe(e)})}function sf(...t){let e=Fc(t),{args:n,keys:r}=Kc(t),i=new te(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;Pe(n[l]).subscribe(Y(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?Qc(r,a):a),s.complete())}))}});return e?i.pipe(Wc(e)):i}function Kt(t,e){return ne((n,r)=>{let i=0;n.subscribe(Y(r,s=>t.call(e,s,i++)&&r.next(s)))})}function fr(t){return ne((e,n)=>{let r=null,i=!1,s;r=e.subscribe(Y(n,void 0,void 0,o=>{s=Pe(t(o,fr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function XI(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(Y(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function hs(t,e){return L(e)?je(t,e,1):je(t,1)}function pr(t){return ne((e,n)=>{let r=!1;e.subscribe(Y(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Un(t){return t<=0?()=>kt:ne((e,n)=>{let r=0;e.subscribe(Y(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function of(t){return Z(()=>t)}function Jc(t=Ex){return ne((e,n)=>{let r=!1;e.subscribe(Y(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Ex(){return new Vn}function Co(t){return ne((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function ln(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Kt((i,s)=>t(i,s,r)):Tt,Un(1),n?pr(e):Jc(()=>new Vn))}function fs(t){return t<=0?()=>kt:ne((e,n)=>{let r=[];e.subscribe(Y(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function af(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Kt((i,s)=>t(i,s,r)):Tt,fs(1),n?pr(e):Jc(()=>new Vn))}function cf(t,e){return ne(XI(t,e,arguments.length>=2,!0))}function uf(...t){let e=lr(t);return ne((n,r)=>{(e?ds(t,n,e):ds(t,n)).subscribe(r)})}function Qt(t,e){return ne((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(Y(r,c=>{i?.unsubscribe();let u=0,l=s++;Pe(t(c,l)).subscribe(i=Y(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function lf(t){return ne((e,n)=>{Pe(t).subscribe(Y(n,()=>n.complete(),Do)),!n.closed&&e.subscribe(n)})}function Oe(t,e,n){let r=L(t)||e||n?{next:t,error:e,complete:n}:t;return r?ne((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Y(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Tt}var $w="https://g.co/ng/security#xss",R=class extends Error{constructor(e,n){super(pp(e,n)),this.code=e}};function pp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ge(t){for(let e in t)if(t[e]===ge)return e;throw Error("Could not find renamed property on target object.")}function Dx(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function dt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(dt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function ew(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Tx=ge({__forward_ref__:ge});function vr(t){return t.__forward_ref__=vr,t.toString=function(){return dt(this())},t}function lt(t){return Hw(t)?t():t}function Hw(t){return typeof t=="function"&&t.hasOwnProperty(Tx)&&t.__forward_ref__===vr}function qw(t){return t&&!!t.\u0275providers}var Cx=ge({\u0275cmp:ge}),bx=ge({\u0275dir:ge}),Sx=ge({\u0275pipe:ge}),Ax=ge({\u0275mod:ge}),lu=ge({\u0275fac:ge}),bo=ge({__NG_ELEMENT_ID__:ge}),tw=ge({__NG_ENV_ID__:ge});function Bo(t){return typeof t=="string"?t:t==null?"":String(t)}function Rx(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Bo(t)}function xx(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new R(-200,`Circular dependency in DI detected for ${t}${n}`)}function mp(t,e){throw new R(-201,!1)}function Mx(t,e){t==null&&Nx(e,t,null,"!=")}function Nx(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function M(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function rt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Mu(t){return nw(t,Gw)||nw(t,Ww)}function zw(t){return Mu(t)!==null}function nw(t,e){return t.hasOwnProperty(e)?t[e]:null}function Px(t){let e=t&&(t[Gw]||t[Ww]);return e||null}function rw(t){return t&&(t.hasOwnProperty(iw)||t.hasOwnProperty(Ox))?t[iw]:null}var Gw=ge({\u0275prov:ge}),iw=ge({\u0275inj:ge}),Ww=ge({ngInjectableDef:ge}),Ox=ge({ngInjectorDef:ge}),K=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(K||{}),Sf;function kx(){return Sf}function It(t){let e=Sf;return Sf=t,e}function Kw(t,e,n){let r=Mu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&K.Optional)return null;if(e!==void 0)return e;mp(t,"Injector")}var Ct=globalThis;var N=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=M({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var Fx={},Ro=Fx,Af="__NG_DI_FLAG__",du="ngTempTokenPath",Lx="ngTokenPath",Vx=/\n/gm,Ux="\u0275",sw="__source",So;function mr(t){let e=So;return So=t,e}function jx(t,e=K.Default){if(So===void 0)throw new R(-203,!1);return So===null?Kw(t,void 0,e):So.get(t,e&K.Optional?null:void 0,e)}function j(t,e=K.Default){return(kx()||jx)(lt(t),e)}function S(t,e=K.Default){return j(t,Nu(e))}function Nu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Rf(t){let e=[];for(let n=0;n<t.length;n++){let r=lt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new R(900,!1);let i,s=K.Default;for(let o=0;o<r.length;o++){let a=r[o],c=Bx(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(j(i,s))}else e.push(j(r))}return e}function Qw(t,e){return t[Af]=e,t.prototype[Af]=e,t}function Bx(t){return t[Af]}function $x(t,e,n,r){let i=t[du];throw e[sw]&&i.unshift(e[sw]),t.message=Hx(`
`+t.message,i,n,r),t[Lx]=i,t[du]=null,t}function Hx(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Ux?t.slice(2):t;let i=dt(e);if(Array.isArray(e))i=e.map(dt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):dt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Vx,`
  `)}`}function $o(t){return{toString:t}.toString()}var Yw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Yw||{}),fn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(fn||{}),vs={},Ft=[],tt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(tt||{});function Zw(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function xf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];qx(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Jw(t){return t===3||t===4||t===6}function qx(t){return t.charCodeAt(0)===64}function xo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?ow(t,n,i,null,e[++r]):ow(t,n,i,null,null))}}return t}function ow(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Xw="ng-template";function zx(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&Zw(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function eE(t){return t.type===4&&t.value!==Xw}function Gx(t,e,n){let r=t.type===4&&!n?Xw:t.value;return e===r}function Wx(t,e,n){let r=4,i=t.attrs||[],s=Yx(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Yt(r)&&!Yt(c))return!1;if(o&&Yt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!Gx(t,c,n)||c===""&&e.length===1){if(Yt(r))return!1;o=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!zx(t.attrs,u,n)){if(Yt(r))return!1;o=!0}continue}let l=r&8?"class":c,d=Kx(l,i,eE(t),n);if(d===-1){if(Yt(r))return!1;o=!0;continue}if(u!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let p=r&8?h:null;if(p&&Zw(p,u,0)!==-1||r&2&&u!==h){if(Yt(r))return!1;o=!0}}}}return Yt(r)||o}function Yt(t){return(t&1)===0}function Kx(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return Zx(e,t)}function Qx(t,e,n=!1){for(let r=0;r<e.length;r++)if(Wx(t,e[r],n))return!0;return!1}function Yx(t){for(let e=0;e<t.length;e++){let n=t[e];if(Jw(n))return e}return t.length}function Zx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function aw(t,e){return t?":not("+e.trim()+")":e}function Jx(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Yt(o)&&(e+=aw(s,i),i=""),r=o,s=s||!Yt(r);n++}return i!==""&&(e+=aw(s,i)),e}function Xx(t){return t.map(Jx).join(",")}function eM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Yt(i))break;i=s}r++}return{attrs:e,classes:n}}function le(t){return $o(()=>{let e=oE(t),n=me(A({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Yw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||fn.Emulated,styles:t.styles||Ft,_:null,schemas:t.schemas||null,tView:null,id:""});aE(n);let r=t.dependencies;return n.directiveDefs=uw(r,!1),n.pipeDefs=uw(r,!0),n.id=rM(n),n})}function tM(t){return ii(t)||nE(t)}function nM(t){return t!==null}function it(t){return $o(()=>({type:t.type,bootstrap:t.bootstrap||Ft,declarations:t.declarations||Ft,imports:t.imports||Ft,exports:t.exports||Ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function cw(t,e){if(t==null)return vs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=tt.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==tt.None?[r,a]:r,e[s]=o):n[s]=r}return n}function qe(t){return $o(()=>{let e=oE(t);return aE(e),e})}function tE(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ii(t){return t[Cx]||null}function nE(t){return t[bx]||null}function rE(t){return t[Sx]||null}function iE(t){let e=ii(t)||nE(t)||rE(t);return e!==null?e.standalone:!1}function sE(t,e){let n=t[Ax]||null;if(!n&&e===!0)throw new Error(`Type ${dt(t)} does not have '\u0275mod' property.`);return n}function oE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||vs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ft,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cw(t.inputs,e),outputs:cw(t.outputs),debugInfo:null}}function aE(t){t.features?.forEach(e=>e(t))}function uw(t,e){if(!t)return null;let n=e?rE:tM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(nM)}function rM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Hn=0,J=1,F=2,nt=3,Zt=4,en=5,hu=6,Mo=7,Jt=8,_s=9,pn=10,He=11,No=12,lw=13,Ts=14,mn=15,Pu=16,ps=17,Po=18,Ou=19,cE=20,Ao=21,df=22,si=23,Xt=25,uE=1;var oi=7,fu=8,pu=9,Lt=10,gp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(gp||{});function ni(t){return Array.isArray(t)&&typeof t[uE]=="object"}function qn(t){return Array.isArray(t)&&t[uE]===!0}function lE(t){return(t.flags&4)!==0}function ku(t){return t.componentOffset>-1}function yp(t){return(t.flags&1)===1}function gr(t){return!!t.template}function iM(t){return(t[F]&512)!==0}function ai(t,e){let n=t.hasOwnProperty(lu);return n?t[lu]:null}var Mf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function dE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function _r(){return hE}function hE(t){return t.type.prototype.ngOnChanges&&(t.setInput=oM),sM}_r.ngInherit=!0;function sM(){let t=pE(this),e=t?.current;if(e){let n=t.previous;if(n===vs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function oM(t,e,n,r,i){let s=this.declaredInputs[r],o=pE(t)||aM(t,{previous:vs,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Mf(u&&u.currentValue,n,c===vs),dE(t,e,i,n)}var fE="__ngSimpleChanges__";function pE(t){return t[fE]||null}function aM(t,e){return t[fE]=e}var dw=null;var dn=function(t,e,n){dw?.(t,e,n)},cM="svg",uM="math",lM=!1;function dM(){return lM}function gn(t){for(;Array.isArray(t);)t=t[Hn];return t}function mE(t,e){return gn(e[t])}function Ut(t,e){return gn(e[t.index])}function gE(t,e){return t.data[e]}function yE(t,e){return t[e]}function Ir(t,e){let n=e[t];return ni(n)?n:n[Hn]}function vp(t){return(t[F]&128)===128}function hM(t){return qn(t[nt])}function mu(t,e){return e==null?null:t[e]}function vE(t){t[ps]=0}function fM(t){t[F]&1024||(t[F]|=1024,vp(t)&&Oo(t))}function pM(t,e){for(;t>0;)e=e[Ts],t--;return e}function _E(t){return t[F]&9216||t[si]?.dirty}function Nf(t){_E(t)?Oo(t):t[F]&64&&(dM()?(t[F]|=1024,Oo(t)):t[pn].changeDetectionScheduler?.notify())}function Oo(t){t[pn].changeDetectionScheduler?.notify();let e=ko(t);for(;e!==null&&!(e[F]&8192||(e[F]|=8192,!vp(e)));)e=ko(e)}function mM(t,e){if((t[F]&256)===256)throw new R(911,!1);t[Ao]===null&&(t[Ao]=[]),t[Ao].push(e)}function ko(t){let e=t[nt];return qn(e)?e[nt]:e}var Q={lFrame:AE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function gM(){return Q.lFrame.elementDepthCount}function yM(){Q.lFrame.elementDepthCount++}function vM(){Q.lFrame.elementDepthCount--}function IE(){return Q.bindingsEnabled}function _M(){return Q.skipHydrationRootTNode!==null}function IM(t){return Q.skipHydrationRootTNode===t}function wM(){Q.skipHydrationRootTNode=null}function ye(){return Q.lFrame.lView}function bt(){return Q.lFrame.tView}function wE(t){return Q.lFrame.contextLView=t,t[Jt]}function EE(t){return Q.lFrame.contextLView=null,t}function St(){let t=DE();for(;t!==null&&t.type===64;)t=t.parent;return t}function DE(){return Q.lFrame.currentTNode}function EM(){let t=Q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ho(t,e){let n=Q.lFrame;n.currentTNode=t,n.isParent=e}function TE(){return Q.lFrame.isParent}function DM(){Q.lFrame.isParent=!1}function TM(){return Q.lFrame.contextLView}function _p(){let t=Q.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function CM(t){return Q.lFrame.bindingIndex=t}function Ip(){return Q.lFrame.bindingIndex++}function bM(t){let e=Q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function SM(){return Q.lFrame.inI18n}function AM(t,e){let n=Q.lFrame;n.bindingIndex=n.bindingRootIndex=t,Pf(e)}function RM(){return Q.lFrame.currentDirectiveIndex}function Pf(t){Q.lFrame.currentDirectiveIndex=t}function xM(t){let e=Q.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function CE(t){Q.lFrame.currentQueryIndex=t}function MM(t){let e=t[J];return e.type===2?e.declTNode:e.type===1?t[en]:null}function bE(t,e,n){if(n&K.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&K.Host);)if(i=MM(s),i===null||(s=s[Ts],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=Q.lFrame=SE();return r.currentTNode=e,r.lView=t,!0}function wp(t){let e=SE(),n=t[J];Q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function SE(){let t=Q.lFrame,e=t===null?null:t.child;return e===null?AE(t):e}function AE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function RE(){let t=Q.lFrame;return Q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var xE=RE;function Ep(){let t=RE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function NM(t){return(Q.lFrame.contextLView=pM(t,Q.lFrame.contextLView))[Jt]}function Cs(){return Q.lFrame.selectedIndex}function ci(t){Q.lFrame.selectedIndex=t}function Dp(){let t=Q.lFrame;return gE(t.tView,t.selectedIndex)}function PM(){return Q.lFrame.currentNamespace}var ME=!0;function Tp(){return ME}function Cp(t){ME=t}function OM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=hE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function bp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function su(t,e,n){NE(t,e,3,n)}function ou(t,e,n,r){(t[F]&3)===n&&NE(t,e,n,r)}function hf(t,e){let n=t[F];(n&3)===e&&(n&=16383,n+=1,t[F]=n)}function NE(t,e,n,r){let i=r!==void 0?t[ps]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[ps]+=65536),(a<s||s==-1)&&(kM(t,n,e,c),t[ps]=(t[ps]&4294901760)+c+2),c++}function hw(t,e){dn(4,t,e);let n=Dt(null);try{e.call(t)}finally{Dt(n),dn(5,t,e)}}function kM(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[F]>>14<t[ps]>>16&&(t[F]&3)===e&&(t[F]+=16384,hw(a,s)):hw(a,s)}var ys=-1,ui=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function FM(t){return t instanceof ui}function LM(t){return(t.flags&8)!==0}function VM(t){return(t.flags&16)!==0}function PE(t){return t!==ys}function gu(t){return t&32767}function UM(t){return t>>16}function yu(t,e){let n=UM(t),r=e;for(;n>0;)r=r[Ts],n--;return r}var Of=!0;function vu(t){let e=Of;return Of=t,e}var jM=256,OE=jM-1,kE=5,BM=0,hn={};function $M(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(bo)&&(r=n[bo]),r==null&&(r=n[bo]=BM++);let i=r&OE,s=1<<i;e.data[t+(i>>kE)]|=s}function _u(t,e){let n=FE(t,e);if(n!==-1)return n;let r=e[J];r.firstCreatePass&&(t.injectorIndex=e.length,ff(r.data,t),ff(e,null),ff(r.blueprint,null));let i=Sp(t,e),s=t.injectorIndex;if(PE(i)){let o=gu(i),a=yu(i,e),c=a[J].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function ff(t,e){t.push(0,0,0,0,0,0,0,0,e)}function FE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Sp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=BE(i),r===null)return ys;if(n++,i=i[Ts],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ys}function kf(t,e,n){$M(t,e,n)}function HM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(Jw(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function LE(t,e,n){if(n&K.Optional||t!==void 0)return t;mp(e,"NodeInjector")}function VE(t,e,n,r){if(n&K.Optional&&r===void 0&&(r=null),!(n&(K.Self|K.Host))){let i=t[_s],s=It(void 0);try{return i?i.get(e,r,n&K.Optional):Kw(e,r,n&K.Optional)}finally{It(s)}}return LE(r,e,n)}function UE(t,e,n,r=K.Default,i){if(t!==null){if(e[F]&2048&&!(r&K.Self)){let o=KM(t,e,n,r,hn);if(o!==hn)return o}let s=jE(t,e,n,r,hn);if(s!==hn)return s}return VE(e,n,r,i)}function jE(t,e,n,r,i){let s=GM(n);if(typeof s=="function"){if(!bE(e,t,r))return r&K.Host?LE(i,n,r):VE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&K.Optional))mp(n);else return o}finally{xE()}}else if(typeof s=="number"){let o=null,a=FE(t,e),c=ys,u=r&K.Host?e[mn][en]:null;for((a===-1||r&K.SkipSelf)&&(c=a===-1?Sp(t,e):e[a+8],c===ys||!pw(r,!1)?a=-1:(o=e[J],a=gu(c),e=yu(c,e)));a!==-1;){let l=e[J];if(fw(s,a,l.data)){let d=qM(a,e,n,o,r,u);if(d!==hn)return d}c=e[a+8],c!==ys&&pw(r,e[J].data[a+8]===u)&&fw(s,a,e)?(o=l,a=gu(c),e=yu(c,e)):a=-1}}return i}function qM(t,e,n,r,i,s){let o=e[J],a=o.data[t+8],c=r==null?ku(a)&&Of:r!=o&&(a.type&3)!==0,u=i&K.Host&&s===a,l=zM(a,o,n,c,u);return l!==null?Is(e,o,l,a):hn}function zM(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let p=d;p<h;p++){let m=o[p];if(p<c&&n===m||p>=c&&m.type===n)return p}if(i){let p=o[c];if(p&&gr(p)&&p.type===n)return c}return null}function Is(t,e,n,r){let i=t[n],s=e.data;if(FM(i)){let o=i;o.resolving&&xx(Rx(s[n]));let a=vu(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?It(o.injectImpl):null,l=bE(t,r,K.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&OM(n,s[n],e)}finally{u!==null&&It(u),vu(a),o.resolving=!1,xE()}}return i}function GM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(bo)?t[bo]:void 0;return typeof e=="number"?e>=0?e&OE:WM:e}function fw(t,e,n){let r=1<<t;return!!(n[e+(t>>kE)]&r)}function pw(t,e){return!(t&K.Self)&&!(t&K.Host&&e)}var ri=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return UE(this._tNode,this._lView,e,Nu(r),n)}};function WM(){return new ri(St(),ye())}function pi(t){return $o(()=>{let e=t.prototype.constructor,n=e[lu]||Ff(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[lu]||Ff(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Ff(t){return Hw(t)?()=>{let e=Ff(lt(t));return e&&e()}:ai(t)}function KM(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[F]&2048&&!(o[F]&512);){let a=jE(s,o,n,r|K.Self,hn);if(a!==hn)return a;let c=s.parent;if(!c){let u=o[cE];if(u){let l=u.get(n,hn,r);if(l!==hn)return l}c=BE(o),o=o[Ts]}s=c}return i}function BE(t){let e=t[J],n=e.type;return n===2?e.declTNode:n===1?t[en]:null}function Ap(t){return HM(St(),t)}var Xc="__parameters__";function QM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function $E(t,e,n){return $o(()=>{let r=QM(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(Xc)?c[Xc]:Object.defineProperty(c,Xc,{value:[]})[Xc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function YM(t){return typeof t=="function"}function Rp(t,e){t.forEach(n=>Array.isArray(n)?Rp(n,e):e(n))}function HE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Iu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ZM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function JM(t,e,n){let r=qo(t,e);return r>=0?t[r|1]=n:(r=~r,ZM(t,r,e,n)),r}function pf(t,e){let n=qo(t,e);if(n>=0)return t[n|1]}function qo(t,e){return XM(t,e,1)}function XM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ke=Qw($E("Optional"),8);var qE=Qw($E("SkipSelf"),4);var ws=new N("ENVIRONMENT_INITIALIZER"),zE=new N("INJECTOR",-1),GE=new N("INJECTOR_DEF_TYPES"),wu=class{get(e,n=Ro){if(n===Ro){let r=new Error(`NullInjectorError: No provider for ${dt(e)}!`);throw r.name="NullInjectorError",r}return n}};function Fu(t){return{\u0275providers:t}}function bs(...t){return{\u0275providers:WE(!0,t),\u0275fromNgModule:!0}}function WE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Rp(e,o=>{let a=o;Lf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&KE(i,s),n}function KE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];xp(i,s=>{e(s,r)})}}function Lf(t,e,n,r){if(t=lt(t),!t)return!1;let i=null,s=rw(t),o=!s&&ii(t);if(!s&&!o){let c=t.ngModule;if(s=rw(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Lf(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Rp(s.imports,l=>{Lf(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&KE(u,e)}if(!a){let u=ai(i)||(()=>new i);e({provide:i,useFactory:u,deps:Ft},i),e({provide:GE,useValue:i,multi:!0},i),e({provide:ws,useValue:()=>j(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;xp(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function xp(t,e){for(let n of t)qw(n)&&(n=n.\u0275providers),Array.isArray(n)?xp(n,e):e(n)}var eN=ge({provide:String,useValue:ge});function QE(t){return t!==null&&typeof t=="object"&&eN in t}function tN(t){return!!(t&&t.useExisting)}function nN(t){return!!(t&&t.useFactory)}function Es(t){return typeof t=="function"}function rN(t){return!!t.useClass}var Lu=new N("Set Injector scope."),au={},iN={},mf;function Mp(){return mf===void 0&&(mf=new wu),mf}var Vt=class{},Fo=class extends Vt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Uf(e,o=>this.processProvider(o)),this.records.set(zE,ms(void 0,this)),i.has("environment")&&this.records.set(Vt,ms(void 0,this));let s=this.records.get(Lu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(GE,Ft,K.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=mr(this),r=It(void 0),i;try{return e()}finally{mr(n),It(r)}}get(e,n=Ro,r=K.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(tw))return e[tw](this);r=Nu(r);let i,s=mr(this),o=It(void 0);try{if(!(r&K.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=uN(e)&&Mu(e);u&&this.injectableDefInScope(u)?c=ms(Vf(e),au):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&K.Self?Mp():this.parent;return n=r&K.Optional&&n===Ro?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[du]=a[du]||[]).unshift(dt(e)),s)throw a;return $x(a,e,"R3InjectorError",this.source)}else throw a}finally{It(o),mr(s)}}resolveInjectorInitializers(){let e=mr(this),n=It(void 0),r;try{let i=this.get(ws,Ft,K.Self);for(let s of i)s()}finally{mr(e),It(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(dt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new R(205,!1)}processProvider(e){e=lt(e);let n=Es(e)?e:lt(e&&e.provide),r=oN(e);if(!Es(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ms(void 0,au,!0),i.factory=()=>Rf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===au&&(n.value=iN,n.value=n.factory()),typeof n.value=="object"&&n.value&&cN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=lt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Vf(t){let e=Mu(t),n=e!==null?e.factory:ai(t);if(n!==null)return n;if(t instanceof N)throw new R(204,!1);if(t instanceof Function)return sN(t);throw new R(204,!1)}function sN(t){if(t.length>0)throw new R(204,!1);let n=Px(t);return n!==null?()=>n.factory(t):()=>new t}function oN(t){if(QE(t))return ms(void 0,t.useValue);{let e=YE(t);return ms(e,au)}}function YE(t,e,n){let r;if(Es(t)){let i=lt(t);return ai(i)||Vf(i)}else if(QE(t))r=()=>lt(t.useValue);else if(nN(t))r=()=>t.useFactory(...Rf(t.deps||[]));else if(tN(t))r=()=>j(lt(t.useExisting));else{let i=lt(t&&(t.useClass||t.provide));if(aN(t))r=()=>new i(...Rf(t.deps));else return ai(i)||Vf(i)}return r}function ms(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function aN(t){return!!t.deps}function cN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function uN(t){return typeof t=="function"||typeof t=="object"&&t instanceof N}function Uf(t,e){for(let n of t)Array.isArray(n)?Uf(n,e):n&&qw(n)?Uf(n.\u0275providers,e):e(n)}function mi(t,e){t instanceof Fo&&t.assertNotDestroyed();let n,r=mr(t),i=It(void 0);try{return e()}finally{mr(r),It(i)}}function mw(t,e=null,n=null,r){let i=ZE(t,e,n,r);return i.resolveInjectorInitializers(),i}function ZE(t,e=null,n=null,r,i=new Set){let s=[n||Ft,bs(t)];return r=r||(typeof t=="object"?void 0:dt(t)),new Fo(s,e||Mp(),r||null,i)}var ht=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return mw({name:""},i,r,"");{let s=r.name??"";return mw({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Ro,e.NULL=new wu,e.\u0275prov=M({token:e,providedIn:"any",factory:()=>j(zE)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var jf;function JE(t){jf=t}function XE(){if(jf!==void 0)return jf;if(typeof document<"u")return document;throw new R(210,!1)}var Np=new N("AppId",{providedIn:"root",factory:()=>lN}),lN="ng",Pp=new N("Platform Initializer"),wr=new N("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var Op=new N("CSP nonce",{providedIn:"root",factory:()=>XE().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function eD(t){return t instanceof Function?t():t}function tD(t){return(t.flags&128)===128}var jn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(jn||{});var nD=new Map,dN=0;function hN(){return dN++}function fN(t){nD.set(t[Ou],t)}function pN(t){nD.delete(t[Ou])}var gw="__ngContext__";function li(t,e){ni(e)?(t[gw]=e[Ou],fN(e)):t[gw]=e}var mN;function kp(t,e){return mN(t,e)}function gs(t,e,n,r,i){if(r!=null){let s,o=!1;qn(r)?s=r:ni(r)&&(o=!0,r=r[Hn]);let a=gn(r);t===0&&n!==null?i==null?aD(e,n,a):Eu(e,n,a,i||null,!0):t===1&&n!==null?Eu(e,n,a,i||null,!0):t===2?NN(e,a,o):t===3&&e.destroyNode(a),s!=null&&ON(e,t,s,n,i)}}function gN(t,e){return t.createText(e)}function yN(t,e,n){t.setValue(e,n)}function rD(t,e,n){return t.createElement(e,n)}function vN(t,e){iD(t,e),e[Hn]=null,e[en]=null}function _N(t,e,n,r,i,s){r[Hn]=i,r[en]=e,Vu(t,r,n,1,i,s)}function iD(t,e){e[pn].changeDetectionScheduler?.notify(),Vu(t,e,e[He],2,null,null)}function IN(t){let e=t[No];if(!e)return gf(t[J],t);for(;e;){let n=null;if(ni(e))n=e[No];else{let r=e[Lt];r&&(n=r)}if(!n){for(;e&&!e[Zt]&&e!==t;)ni(e)&&gf(e[J],e),e=e[nt];e===null&&(e=t),ni(e)&&gf(e[J],e),n=e&&e[Zt]}e=n}}function wN(t,e,n,r){let i=Lt+r,s=n.length;r>0&&(n[i-1][Zt]=e),r<s-Lt?(e[Zt]=n[i],HE(n,Lt+r,e)):(n.push(e),e[Zt]=null),e[nt]=n;let o=e[Pu];o!==null&&n!==o&&EN(o,e);let a=e[Po];a!==null&&a.insertView(t),Nf(e),e[F]|=128}function EN(t,e){let n=t[pu],i=e[nt][nt][mn];e[mn]!==i&&(t[F]|=gp.HasTransplantedViews),n===null?t[pu]=[e]:n.push(e)}function sD(t,e){let n=t[pu],r=n.indexOf(e);n.splice(r,1)}function Bf(t,e){if(t.length<=Lt)return;let n=Lt+e,r=t[n];if(r){let i=r[Pu];i!==null&&i!==t&&sD(i,r),e>0&&(t[n-1][Zt]=r[Zt]);let s=Iu(t,Lt+e);vN(r[J],r);let o=s[Po];o!==null&&o.detachView(s[J]),r[nt]=null,r[Zt]=null,r[F]&=-129}return r}function oD(t,e){if(!(e[F]&256)){let n=e[He];n.destroyNode&&Vu(t,e,n,3,null,null),IN(e)}}function gf(t,e){if(!(e[F]&256)){e[F]&=-129,e[F]|=256,e[si]&&AI(e[si]),TN(t,e),DN(t,e),e[J].type===1&&e[He].destroy();let n=e[Pu];if(n!==null&&qn(e[nt])){n!==e[nt]&&sD(n,e);let r=e[Po];r!==null&&r.detachView(t)}pN(e)}}function DN(t,e){let n=t.cleanup,r=e[Mo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Mo]=null);let i=e[Ao];if(i!==null){e[Ao]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function TN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ui)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];dn(4,a,c);try{c.call(a)}finally{dn(5,a,c)}}else{dn(4,i,s);try{s.call(i)}finally{dn(5,i,s)}}}}}function CN(t,e,n){return bN(t,e.parent,n)}function bN(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Hn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===fn.None||s===fn.Emulated)return null}return Ut(r,n)}}function Eu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function aD(t,e,n){t.appendChild(e,n)}function yw(t,e,n,r,i){r!==null?Eu(t,e,n,r,i):aD(t,e,n)}function SN(t,e,n,r){t.removeChild(e,n,r)}function Fp(t,e){return t.parentNode(e)}function AN(t,e){return t.nextSibling(e)}function RN(t,e,n){return MN(t,e,n)}function xN(t,e,n){return t.type&40?Ut(t,n):null}var MN=xN,vw;function Lp(t,e,n,r){let i=CN(t,r,e),s=e[He],o=r.parent||e[en],a=RN(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)yw(s,i,n[c],a,!1);else yw(s,i,n,a,!1);vw!==void 0&&vw(s,r,e,n,i)}function cu(t,e){if(e!==null){let n=e.type;if(n&3)return Ut(e,t);if(n&4)return $f(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return cu(t,r);{let i=t[e.index];return qn(i)?$f(-1,i):gn(i)}}else{if(n&32)return kp(e,t)()||gn(t[e.index]);{let r=cD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ko(t[mn]);return cu(i,r)}else return cu(t,e.next)}}}return null}function cD(t,e){if(e!==null){let r=t[mn][en],i=e.projection;return r.projection[i]}return null}function $f(t,e){let n=Lt+t+1;if(n<e.length){let r=e[n],i=r[J].firstChild;if(i!==null)return cu(r,i)}return e[oi]}function NN(t,e,n){let r=Fp(t,e);r&&SN(t,r,e,n)}function Vp(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&li(gn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Vp(t,e,n.child,r,i,s,!1),gs(e,t,i,a,s);else if(c&32){let u=kp(n,r),l;for(;l=u();)gs(e,t,i,l,s);gs(e,t,i,a,s)}else c&16?PN(t,e,r,n,i,s):gs(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Vu(t,e,n,r,i,s){Vp(n,r,t.firstChild,e,i,s,!1)}function PN(t,e,n,r,i,s){let o=n[mn],c=o[en].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];gs(e,t,i,l,s)}else{let u=c,l=o[nt];tD(r)&&(u.flags|=128),Vp(t,e,u,l,i,s,!0)}}function ON(t,e,n,r,i){let s=n[oi],o=gn(n);s!==o&&gs(e,t,r,s,i);for(let a=Lt;a<n.length;a++){let c=n[a];Vu(c[J],c,t,e,r,s)}}function kN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:jn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=jn.Important),t.setStyle(n,r,i,s))}}function FN(t,e,n){t.setAttribute(e,"style",n)}function uD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function lD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&xf(t,e,r),i!==null&&uD(t,e,i),s!==null&&FN(t,e,s)}var eu;function LN(){if(eu===void 0&&(eu=null,Ct.trustedTypes))try{eu=Ct.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return eu}function Uu(t){return LN()?.createHTML(t)||t}var tu;function dD(){if(tu===void 0&&(tu=null,Ct.trustedTypes))try{tu=Ct.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return tu}function _w(t){return dD()?.createHTML(t)||t}function Iw(t){return dD()?.createScriptURL(t)||t}var Du=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$w})`}};function Ss(t){return t instanceof Du?t.changingThisBreaksApplicationSecurity:t}function ju(t,e){let n=VN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${$w})`)}return n===e}function VN(t){return t instanceof Du&&t.getTypeName()||null}function UN(t){let e=new qf(t);return jN()?new Hf(e):e}var Hf=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Uu(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},qf=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Uu(e),n}};function jN(){try{return!!new window.DOMParser().parseFromString(Uu(""),"text/html")}catch{return!1}}var BN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Up(t){return t=String(t),t.match(BN)?t:"unsafe:"+t}function zn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function zo(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var hD=zn("area,br,col,hr,img,wbr"),fD=zn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pD=zn("rp,rt"),$N=zo(pD,fD),HN=zo(fD,zn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qN=zo(pD,zn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ww=zo(hD,HN,qN,$N),mD=zn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zN=zn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),GN=zn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),WN=zo(mD,zN,GN),KN=zn("script,style,template"),zf=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!ww.hasOwnProperty(n))return this.sanitizedSomething=!0,!KN.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!WN.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;mD[a]&&(c=Up(c)),this.buf.push(" ",o,'="',Ew(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();ww.hasOwnProperty(n)&&!hD.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Ew(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},QN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,YN=/([^\#-~ |!])/g;function Ew(t){return t.replace(/&/g,"&amp;").replace(QN,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(YN,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var nu;function gD(t,e){let n=null;try{nu=nu||UN(t);let r=e?String(e):"";n=nu.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=nu.getInertBodyElement(r)}while(r!==s);let a=new zf().sanitizeChildren(Dw(n)||n);return Uu(a)}finally{if(n){let r=Dw(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Dw(t){return"content"in t&&ZN(t)?t.content:null}function ZN(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Go=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Go||{});function yD(t){let e=jp();return e?_w(e.sanitize(Go.HTML,t)||""):ju(t,"HTML")?_w(Ss(t)):gD(XE(),Bo(t))}function Wo(t){let e=jp();return e?e.sanitize(Go.URL,t)||"":ju(t,"URL")?Ss(t):Up(Bo(t))}function JN(t){let e=jp();if(e)return Iw(e.sanitize(Go.RESOURCE_URL,t)||"");if(ju(t,"ResourceURL"))return Iw(Ss(t));throw new R(904,!1)}function XN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?JN:Wo}function vD(t,e,n){return XN(e,n)(t)}function jp(){let t=ye();return t&&t[pn].sanitizer}var Gf=class{};var eP="h",tP="b";var nP=()=>null;function Bp(t,e,n=!1){return nP(t,e,n)}var Wf=class{},Tu=class{};function rP(t){let e=Error(`No component factory found for ${dt(t)}.`);return e[iP]=t,e}var iP="ngComponent";var Kf=class{resolveComponentFactory(e){throw rP(e)}},Bu=(()=>{let e=class e{};e.NULL=new Kf;let t=e;return t})();function sP(){return $u(St(),ye())}function $u(t,e){return new Er(Ut(t,e))}var Er=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=sP;let t=e;return t})();var Lo=class{},gi=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>oP();let t=e;return t})();function oP(){let t=ye(),e=St(),n=Ir(e.index,t);return(ni(n)?n:t)[He]}var aP=(()=>{let e=class e{};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),yf={};function _D(t){return uP(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function cP(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function uP(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var Qf=class{constructor(){}supports(e){return _D(e)}create(e){return new Yf(e)}},lP=(t,e)=>e,Yf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||lP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<Tw(r,i,s)?n:r,a=Tw(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let p=h<s.length?s[h]:s[h]=0,m=p+h;l<=m&&m<u&&(s[h]=p+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!_D(e))throw new R(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,cP(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Zf(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Cu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Cu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Zf=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Jf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Cu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Jf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Tw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Cw(){return new $p([new Qf])}var $p=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Cw()),deps:[[e,new qE,new ke]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new R(901,!1)}};e.\u0275prov=M({token:e,providedIn:"root",factory:Cw});let t=e;return t})();function bu(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(gn(s)),qn(s)&&dP(s,r);let o=n.type;if(o&8)bu(t,e,n.child,r);else if(o&32){let a=kp(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=cD(e,n);if(Array.isArray(a))r.push(...a);else{let c=ko(e[mn]);bu(c[J],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function dP(t,e){for(let n=Lt;n<t.length;n++){let r=t[n],i=r[J].firstChild;i!==null&&bu(r[J],r,i,e)}t[oi]!==t[Hn]&&e.push(t[oi])}var ID=[];function hP(t){return t[si]??fP(t)}function fP(t){let e=ID.pop()??Object.create(mP);return e.lView=t,e}function pP(t){t.lView[si]!==t&&(t.lView=null,ID.push(t))}var mP=me(A({},CI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Oo(t.lView)},consumerOnSignalRead(){this.lView[si]=this}});function wD(t){return DD(t[No])}function ED(t){return DD(t[Zt])}function DD(t){for(;t!==null&&!qn(t);)t=t[Zt];return t}var gP="ngOriginalError";function vf(t){return t[gP]}var Bn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&vf(e);for(;n&&vf(n);)n=vf(n);return n||null}},TD=new N("",{providedIn:"root",factory:()=>S(Bn).handleError.bind(void 0)});var CD=!1,yP=new N("",{providedIn:"root",factory:()=>CD});var Dr={};function G(t=1){bD(bt(),ye(),Cs()+t,!1)}function bD(t,e,n,r){if(!r)if((e[F]&3)===3){let s=t.preOrderCheckHooks;s!==null&&su(e,s,n)}else{let s=t.preOrderHooks;s!==null&&ou(e,s,0,n)}ci(n)}function P(t,e=K.Default){let n=ye();if(n===null)return j(t,e);let r=St();return UE(r,n,lt(t),e)}function SD(t,e,n,r,i,s){let o=Dt(null);try{let a=null;i&tt.SignalBased&&(a=e[r][TI]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&tt.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):dE(e,a,r,s)}finally{Dt(o)}}function vP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ci(~i);else{let s=i,o=n[++r],a=n[++r];AM(o,s);let c=e[s];a(2,c)}}}finally{ci(-1)}}function Hu(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[Hn]=i,d[F]=r|4|128|8|64,(u!==null||t&&t[F]&2048)&&(d[F]|=2048),vE(d),d[nt]=d[Ts]=t,d[Jt]=n,d[pn]=o||t&&t[pn],d[He]=a||t&&t[He],d[_s]=c||t&&t[_s]||null,d[en]=s,d[Ou]=hN(),d[hu]=l,d[cE]=u,d[mn]=e.type==2?t[mn]:d,d}function qu(t,e,n,r,i){let s=t.data[e];if(s===null)s=_P(t,e,n,r,i),SM()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=EM();s.injectorIndex=o===null?-1:o.injectorIndex}return Ho(s,!0),s}function _P(t,e,n,r,i){let s=DE(),o=TE(),a=o?s:s&&s.parent,c=t.data[e]=TP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function AD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function RD(t,e,n,r,i){let s=Cs(),o=r&2;try{ci(-1),o&&e.length>Xt&&bD(t,e,Xt,!1),dn(o?2:0,i),n(r,i)}finally{ci(s),dn(o?3:1,i)}}function xD(t,e,n){if(lE(e)){let r=Dt(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Dt(r)}}}function MD(t,e,n){IE()&&(xP(t,e,n,Ut(n,e)),(n.flags&64)===64&&LD(t,e,n))}function ND(t,e,n=Ut){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function PD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Hp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Hp(t,e,n,r,i,s,o,a,c,u,l){let d=Xt+r,h=d+i,p=IP(d,h),m=typeof u=="function"?u():u;return p[J]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:l}}function IP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Dr);return n}function wP(t,e,n,r){let s=r.get(yP,CD)||n===fn.ShadowDom,o=t.selectRootElement(e,s);return EP(o),o}function EP(t){DP(t)}var DP=()=>null;function TP(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return _M()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function bw(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=tt.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?Sw(r,n,u,a,c):Sw(r,n,u,a)}return r}function Sw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function CP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,p=h?h.inputs:null,m=h?h.outputs:null;c=bw(0,d.inputs,l,c,p),u=bw(1,d.outputs,l,u,m);let w=c!==null&&o!==null&&!eE(e)?BP(c,l,o):null;a.push(w)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function bP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function OD(t,e,n,r,i,s,o,a){let c=Ut(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(qp(t,n,l,r,i),ku(e)&&SP(n,e.index)):e.type&3?(r=bP(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function SP(t,e){let n=Ir(e,t);n[F]&16||(n[F]|=64)}function kD(t,e,n,r){if(IE()){let i=r===null?null:{"":-1},s=NP(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&FD(t,e,n,o,i,a),i&&PP(n,r,i)}n.mergedAttrs=xo(n.mergedAttrs,n.attrs)}function FD(t,e,n,r,i,s){for(let u=0;u<r.length;u++)kf(_u(n,e),t,r[u].type);kP(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=AD(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=xo(n.mergedAttrs,l.hostAttrs),FP(t,n,e,c,l),OP(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}CP(t,n,s)}function AP(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;RP(o)!=a&&o.push(a),o.push(n,r,s)}}function RP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function xP(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;ku(n)&&LP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||_u(n,e),li(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Is(e,t,a,n);if(li(u,e),o!==null&&jP(e,a-i,u,c,n,o),gr(c)){let l=Ir(n.index,e);l[Jt]=Is(e,t,a,n)}}}function LD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=RM();try{ci(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Pf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&MP(c,u)}}finally{ci(-1),Pf(o)}}function MP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function NP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(Qx(e,o.selectors,!1))if(r||(r=[]),gr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Xf(t,e,c)}else r.unshift(o),Xf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Xf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function PP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new R(-301,!1);r.push(e[i],s)}}}function OP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gr(e)&&(n[""]=t)}}function kP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function FP(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=ai(i.type,!0)),o=new ui(s,gr(i),P);t.blueprint[r]=o,n[r]=o,AP(t,e,r,AD(t,n,i.hostVars,Dr),i)}function LP(t,e,n){let r=Ut(e,t),i=PD(n),s=t[pn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=zu(t,Hu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function VP(t,e,n,r,i,s){let o=Ut(t,e);UP(e[He],o,s,t.value,n,r,i)}function UP(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Bo(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function jP(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];SD(r,n,c,u,l,d)}}function BP(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function VD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function UD(t,e){let n=t.contentQueries;if(n!==null){let r=Dt(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];CE(s),a.contentQueries(2,e[o],o)}}}finally{Dt(r)}}}function zu(t,e){return t[No]?t[lw][Zt]=e:t[No]=e,t[lw]=e,e}function ep(t,e,n){CE(0);let r=Dt(null);try{e(t,n)}finally{Dt(r)}}function $P(t){return t[Mo]||(t[Mo]=[])}function HP(t){return t.cleanup||(t.cleanup=[])}function jD(t,e){let n=t[_s],r=n?n.get(Bn,null):null;r&&r.handleError(e)}function qp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];SD(l,u,r,a,c,i)}}function qP(t,e,n){let r=mE(e,t);yN(t[He],r,n)}var zP=100;function GP(t,e=!0){let n=t[pn],r=n.rendererFactory,i=!1;i||r.begin?.();try{WP(t)}catch(s){throw e&&jD(t,s),s}finally{i||(r.end?.(),n.inlineEffectRunner?.flush())}}function WP(t){tp(t,0);let e=0;for(;_E(t);){if(e===zP)throw new R(103,!1);e++,tp(t,1)}}function KP(t,e,n,r){let i=e[F];if((i&256)===256)return;let s=!1;!s&&e[pn].inlineEffectRunner?.flush(),wp(e);let o=null,a=null;!s&&QP(t)&&(a=hP(e),o=bI(a));try{vE(e),CM(t.bindingStartIndex),n!==null&&RD(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&su(e,d,null)}else{let d=t.preOrderHooks;d!==null&&ou(e,d,0,null),hf(e,0)}if(YP(e),BD(e,0),t.contentQueries!==null&&UD(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&su(e,d)}else{let d=t.contentHooks;d!==null&&ou(e,d,1),hf(e,1)}vP(t,e);let u=t.components;u!==null&&HD(e,u,0);let l=t.viewQuery;if(l!==null&&ep(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&su(e,d)}else{let d=t.viewHooks;d!==null&&ou(e,d,2),hf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[df]){for(let d of e[df])d();e[df]=null}s||(e[F]&=-73)}catch(c){throw Oo(e),c}finally{a!==null&&(SI(a,o),pP(a)),Ep()}}function QP(t){return t.type!==2}function BD(t,e){for(let n=wD(t);n!==null;n=ED(n))for(let r=Lt;r<n.length;r++){let i=n[r];$D(i,e)}}function YP(t){for(let e=wD(t);e!==null;e=ED(e)){if(!(e[F]&gp.HasTransplantedViews))continue;let n=e[pu];for(let r=0;r<n.length;r++){let i=n[r],s=i[nt];fM(i)}}}function ZP(t,e,n){let r=Ir(e,t);$D(r,n)}function $D(t,e){vp(t)&&tp(t,e)}function tp(t,e){let r=t[J],i=t[F],s=t[si],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&jh(s)),s&&(s.dirty=!1),t[F]&=-9217,o)KP(r,t,r.template,t[Jt]);else if(i&8192){BD(t,1);let a=r.components;a!==null&&HD(t,a,1)}}function HD(t,e,n){for(let r=0;r<e.length;r++)ZP(t,e[r],n)}function zp(t){for(t[pn].changeDetectionScheduler?.notify();t;){t[F]|=64;let e=ko(t);if(iM(t)&&!e)return t;t=e}return null}var di=class{get rootNodes(){let e=this._lView,n=e[J];return bu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Jt]}set context(e){this._lView[Jt]=e}get destroyed(){return(this._lView[F]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[nt];if(qn(e)){let n=e[fu],r=n?n.indexOf(this):-1;r>-1&&(Bf(e,r),Iu(n,r))}this._attachedToViewContainer=!1}oD(this._lView[J],this._lView)}onDestroy(e){mM(this._lView,e)}markForCheck(){zp(this._cdRefInjectingView||this._lView)}detach(){this._lView[F]&=-129}reattach(){Nf(this._lView),this._lView[F]|=128}detectChanges(){this._lView[F]|=1024,GP(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,iD(this._lView[J],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=e,Nf(this._lView)}},As=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=JP;let t=e;return t})();function JP(t){return XP(St(),ye(),(t&16)===16)}function XP(t,e,n){if(ku(t)&&!n){let r=Ir(t.index,e);return new di(r,r)}else if(t.type&47){let r=e[mn];return new di(r,e)}return null}var Aw=new Set;function qD(t){Aw.has(t)||(Aw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var np=class extends vt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=_f(s),i&&(i=_f(i)),o&&(o=_f(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof xe&&e.add(a),a}};function _f(t){return e=>{setTimeout(t,void 0,e)}}var et=np;function Rw(...t){}function eO(){let t=typeof Ct.requestAnimationFrame=="function",e=Ct[t?"requestAnimationFrame":"setTimeout"],n=Ct[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ue=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new et(!1),this.onMicrotaskEmpty=new et(!1),this.onStable=new et(!1),this.onError=new et(!1),typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=eO().nativeRequestAnimationFrame,rO(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new R(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,tO,Rw,Rw);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},tO={};function Gp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nO(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ct,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,rp(t),t.isCheckStableRunning=!0,Gp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),rp(t))}function rO(t){let e=()=>{nO(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(iO(a))return n.invokeTask(i,s,o,a);try{return xw(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Mw(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return xw(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Mw(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,rp(t),Gp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function rp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function xw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Mw(t){t._nesting--,Gp(t)}function iO(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var zD=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let s of r)s();return!!this.handler?.execute()||r.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function sO(t,e){let n=Ir(e,t),r=n[J];oO(r,n);let i=n[Hn];i!==null&&n[hu]===null&&(n[hu]=Bp(i,n[_s])),Wp(r,n,n[Jt])}function oO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Wp(t,e,n){wp(e);try{let r=t.viewQuery;r!==null&&ep(1,r,n);let i=t.template;i!==null&&RD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&UD(t,e),t.staticViewQueries&&ep(2,t.viewQuery,n);let s=t.components;s!==null&&aO(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[F]&=-5,Ep()}}function aO(t,e){for(let n=0;n<e.length;n++)sO(t,e[n])}function ip(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=ew(i,a);else if(s==2){let c=a,u=e[++o];r=ew(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Su=class extends Bu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ii(e);return new Vo(n,this.ngModule)}};function Nw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function cO(t){let e=t.toLowerCase();return e==="svg"?cM:e==="math"?uM:null}var sp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Nu(r);let i=this.injector.get(e,yf,r);return i!==yf||n===yf?i:this.parentInjector.get(e,n,r)}},Vo=class extends Tu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Nw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Nw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Xx(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof Vt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new sp(e,s):e,a=o.get(Lo,null);if(a===null)throw new R(407,!1);let c=o.get(aP,null),u=o.get(zD,null),l=o.get(Gf,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:l},h=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",m=r?wP(h,r,this.componentDef.encapsulation,o):rD(h,p,cO(p)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let _=null;m!==null&&(_=Bp(m,o,!0));let b=Hp(0,null,null,1,0,null,null,null,null,null,null),q=Hu(null,b,null,w,null,null,d,h,o,null,_);wp(q);let W,z;try{let _e=this.componentDef,ie,ut=null;_e.findHostDirectiveDefs?(ie=[],ut=new Map,_e.findHostDirectiveDefs(_e,ie,ut),ie.push(_e)):ie=[_e];let Ot=uO(q,m),Yr=lO(Ot,m,_e,ie,q,d,h);z=gE(b,Xt),m&&fO(h,_e,m,r),n!==void 0&&pO(z,this.ngContentSelectors,n),W=hO(Yr,_e,ie,ut,q,[mO]),Wp(b,q,null)}finally{Ep()}return new op(this.componentType,W,$u(z,q),q,z)}},op=class extends Wf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new di(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;qp(s[J],s,i,e,n),this.previousInputValues.set(e,n);let o=Ir(this._tNode.index,s);zp(o)}}get injector(){return new ri(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function uO(t,e){let n=t[J],r=Xt;return t[r]=e,qu(n,r,2,"#host",null)}function lO(t,e,n,r,i,s,o){let a=i[J];dO(r,t,e,o);let c=null;e!==null&&(c=Bp(e,i[_s]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Hu(i,PD(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Xf(a,t,r.length-1),zu(i,d),i[t.index]=d}function dO(t,e,n,r){for(let i of t)e.mergedAttrs=xo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ip(e,e.mergedAttrs,!0),n!==null&&lD(r,n,e))}function hO(t,e,n,r,i,s){let o=St(),a=i[J],c=Ut(o,i);FD(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=Is(i,a,d,o);li(h,i)}LD(a,i,o),c&&li(c,i);let u=Is(i,a,o.directiveStart+o.componentOffset,o);if(t[Jt]=i[Jt]=u,s!==null)for(let l of s)l(u,e);return xD(a,o,t),u}function fO(t,e,n,r){if(r)xf(t,n,["ng-version","17.1.0"]);else{let{attrs:i,classes:s}=eM(e.selectors[0]);i&&xf(t,n,i),s&&s.length>0&&uD(t,n,s.join(" "))}}function pO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function mO(){let t=St();bp(ye()[J],t)}function gO(t){return Object.getPrototypeOf(t.prototype).constructor}function yn(t){let e=gO(t.type),n=!0,r=[t];for(;e;){let i;if(gr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new R(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=ru(t.inputs),o.inputTransforms=ru(t.inputTransforms),o.declaredInputs=ru(t.declaredInputs),o.outputs=ru(t.outputs);let a=i.hostBindings;a&&wO(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&_O(t,c),u&&IO(t,u),yO(t,i),Dx(t.outputs,i.outputs),gr(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===yn&&(n=!1)}}e=Object.getPrototypeOf(e)}vO(r)}function yO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function vO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=xo(i.hostAttrs,n=xo(n,i.hostAttrs))}}function ru(t){return t===vs?{}:t===Ft?[]:t}function _O(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function IO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function wO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Kp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var f6=new RegExp(`^(\\d+)*(${tP}|${eP})*(.*)`);var EO=()=>null;function Pw(t,e){return EO(t,e)}function DO(t,e,n,r){let i=e.tView,o=t[F]&4096?4096:16,a=Hu(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[Pu]=c;let u=t[Po];return u!==null&&(a[Po]=u.createEmbeddedView(i)),Wp(i,a,n),a}function Ow(t,e){return!e||e.firstChild===null||tD(t)}function TO(t,e,n,r=!0){let i=e[J];if(wN(i,e,t,n),r){let o=$f(n,t),a=e[He],c=Fp(a,t[oi]);c!==null&&_N(i,t[en],a,e,c,o)}let s=e[hu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}var Rs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=CO;let t=e;return t})();function CO(){let t=St();return SO(t,ye())}var bO=Rs,GD=class extends bO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return $u(this._hostTNode,this._hostLView)}get injector(){return new ri(this._hostTNode,this._hostLView)}get parentInjector(){let e=Sp(this._hostTNode,this._hostLView);if(PE(e)){let n=yu(e,this._hostLView),r=gu(e),i=n[J].data[r+8];return new ri(i,n)}else return new ri(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=kw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Lt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Pw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Ow(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!YM(e),a;if(o)a=n;else{let m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}let c=o?e:new Vo(ii(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let w=(o?u:this.parentInjector).get(Vt,null);w&&(s=w)}let l=ii(c.componentType??{}),d=Pw(this._lContainer,l?.id??null),h=d?.firstChild??null,p=c.create(u,i,h,s);return this.insertImpl(p.hostView,a,Ow(this._hostTNode,d)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(hM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[nt],u=new GD(c,c[en],c[nt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return TO(o,i,s,r),e.attachToViewContainerRef(),HE(If(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=kw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Bf(this._lContainer,n);r&&(Iu(If(this._lContainer),n),oD(r[J],r))}detach(e){let n=this._adjustIndex(e,-1),r=Bf(this._lContainer,n);return r&&Iu(If(this._lContainer),n)!=null?new di(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function kw(t){return t[fu]}function If(t){return t[fu]||(t[fu]=[])}function SO(t,e){let n,r=e[t.index];return qn(r)?n=r:(n=VD(r,e,null,t),e[t.index]=n,zu(e,n)),RO(n,e,t,r),new GD(n,t,e)}function AO(t,e){let n=t[He],r=n.createComment(""),i=Ut(e,t),s=Fp(n,i);return Eu(n,s,r,AN(n,i),!1),r}var RO=NO,xO=()=>!1;function MO(t,e,n){return xO(t,e,n)}function NO(t,e,n,r){if(t[oi])return;let i;n.type&8?i=gn(r):i=AO(e,n),t[oi]=i}function WD(t,e,n){return t[e]=n}function hi(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function PO(t,e,n,r){let i=hi(t,e,n);return hi(t,e+1,r)||i}function OO(t,e,n,r,i,s,o,a,c){let u=e.consts,l=qu(e,t,4,o||null,mu(u,a));kD(e,n,l,mu(u,c)),bp(e,l);let d=l.tView=Hp(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function Be(t,e,n,r,i,s,o,a){let c=ye(),u=bt(),l=t+Xt,d=u.firstCreatePass?OO(l,u,c,e,n,r,i,s,o):u.data[l];Ho(d,!1);let h=kO(u,c,d,t);Tp()&&Lp(u,c,h,d),li(h,c);let p=VD(h,c,h,d);return c[l]=p,zu(c,p),MO(p,d,c),yp(d)&&MD(u,c,d),o!=null&&ND(c,d,a),Be}var kO=FO;function FO(t,e,n,r){return Cp(!0),e[He].createComment("")}function Ko(t,e,n,r){let i=ye(),s=Ip();if(hi(i,s,e)){let o=bt(),a=Dp();VP(a,i,t,e,n,r)}return Ko}function KD(t,e,n,r){return hi(t,Ip(),n)?e+Bo(n)+r:Dr}function iu(t,e){return t<<17|e<<2}function fi(t){return t>>17&32767}function LO(t){return(t&2)==2}function VO(t,e){return t&131071|e<<17}function ap(t){return t|2}function Ds(t){return(t&131068)>>2}function wf(t,e){return t&-131069|e<<2}function UO(t){return(t&1)===1}function cp(t){return t|1}function jO(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=fi(o),c=Ds(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||qo(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=fi(t[a+1]);t[r+1]=iu(h,a),h!==0&&(t[h+1]=wf(t[h+1],r)),t[a+1]=VO(t[a+1],r)}else t[r+1]=iu(a,0),a!==0&&(t[a+1]=wf(t[a+1],r)),a=r;else t[r+1]=iu(c,0),a===0?a=r:t[c+1]=wf(t[c+1],r),c=r;u&&(t[r+1]=ap(t[r+1])),Fw(t,l,r,!0),Fw(t,l,r,!1),BO(e,l,t,r,s),o=iu(a,c),s?e.classBindings=o:e.styleBindings=o}function BO(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&qo(s,e)>=0&&(n[r+1]=cp(n[r+1]))}function Fw(t,e,n,r){let i=t[n+1],s=e===null,o=r?fi(i):Ds(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];$O(c,e)&&(a=!0,t[o+1]=r?cp(u):ap(u)),o=r?fi(u):Ds(u)}a&&(t[n+1]=r?ap(i):cp(i))}function $O(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?qo(t,e)>=0:!1}function de(t,e,n){let r=ye(),i=Ip();if(hi(r,i,e)){let s=bt(),o=Dp();OD(s,o,r,t,e,r[He],n,!1)}return de}function Lw(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";qp(t,n,s[o],o,r)}function Gu(t,e){return HO(t,e,null,!0),Gu}function HO(t,e,n,r){let i=ye(),s=bt(),o=bM(2);if(s.firstUpdatePass&&zO(s,t,o,r),e!==Dr&&hi(i,o,e)){let a=s.data[Cs()];YO(s,a,i,i[He],t,i[o+1]=ZO(e,n),r,o)}}function qO(t,e){return e>=t.expandoStartIndex}function zO(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Cs()],o=qO(t,n);JO(s,r)&&e===null&&!o&&(e=!1),e=GO(i,s,e,r),jO(i,s,e,n,o,r)}}function GO(t,e,n,r){let i=xM(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Ef(null,t,e,n,r),n=Uo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Ef(i,t,e,n,r),s===null){let c=WO(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Ef(null,t,e,c[1],r),c=Uo(c,e.attrs,r),KO(t,e,r,c))}else s=QO(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function WO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ds(r)!==0)return t[fi(r)]}function KO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[fi(i)]=r}function QO(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Uo(r,o,n)}return Uo(r,e.attrs,n)}function Ef(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Uo(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Uo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),JM(t,o,n?!0:e[++s]))}return t===void 0?null:t}function YO(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=UO(u)?Vw(c,e,n,i,Ds(u),o):void 0;if(!Au(l)){Au(s)||LO(u)&&(s=Vw(c,null,n,i,a,o));let d=mE(Cs(),n);kN(r,o,d,i,s)}}function Vw(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===Dr&&(h=d?Ft:void 0);let p=d?pf(h,r):l===r?h:void 0;if(u&&!Au(p)&&(p=pf(c,r)),Au(p)&&(a=p,o))return a;let m=t[i+1];i=o?fi(m):Ds(m)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=pf(c,r))}return a}function Au(t){return t!==void 0}function ZO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=dt(Ss(t)))),t}function JO(t,e){return(t.flags&(e?8:16))!==0}function XO(t,e,n,r,i,s){let o=e.consts,a=mu(o,i),c=qu(e,t,2,r,a);return kD(e,n,c,mu(o,s)),c.attrs!==null&&ip(c,c.attrs,!1),c.mergedAttrs!==null&&ip(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function v(t,e,n,r){let i=ye(),s=bt(),o=Xt+t,a=i[He],c=s.firstCreatePass?XO(o,s,i,e,n,r):s.data[o],u=ek(s,i,c,a,e,t);i[o]=u;let l=yp(c);return Ho(c,!0),lD(a,u,c),(c.flags&32)!==32&&Tp()&&Lp(s,i,u,c),gM()===0&&li(u,i),yM(),l&&(MD(s,i,c),xD(s,c,i)),r!==null&&ND(i,c),v}function y(){let t=St();TE()?DM():(t=t.parent,Ho(t,!1));let e=t;IM(e)&&wM(),vM();let n=bt();return n.firstCreatePass&&(bp(n,t),lE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&LM(e)&&Lw(n,e,ye(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&VM(e)&&Lw(n,e,ye(),e.stylesWithoutHost,!1),y}function se(t,e,n,r){return v(t,e,n,r),y(),se}var ek=(t,e,n,r,i,s)=>(Cp(!0),rD(r,i,PM()));function QD(){return ye()}var ti=void 0;function tk(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var nk=["en",[["a","p"],["AM","PM"],ti],[["AM","PM"],ti,ti],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ti,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ti,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ti,"{1} 'at' {0}",ti],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",tk],Df={};function jt(t){let e=rk(t),n=Uw(e);if(n)return n;let r=e.split("-")[0];if(n=Uw(r),n)return n;if(r==="en")return nk;throw new R(701,!1)}function Uw(t){return t in Df||(Df[t]=Ct.ng&&Ct.ng.common&&Ct.ng.common.locales&&Ct.ng.common.locales[t]),Df[t]}var Ne=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ne||{});function rk(t){return t.toLowerCase().replace(/_/g,"-")}var Ru="en-US";var ik=Ru;function sk(t){Mx(t,"Expected localeId to be defined"),typeof t=="string"&&(ik=t.toLowerCase().replace(/_/g,"-"))}function yi(t){return!!t&&typeof t.then=="function"}function YD(t){return!!t&&typeof t.subscribe=="function"}function Tr(t,e,n,r){let i=ye(),s=bt(),o=St();return ak(s,i,i[He],o,t,e,r),Tr}function ok(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Mo],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function ak(t,e,n,r,i,s,o){let a=yp(r),u=t.firstCreatePass&&HP(t),l=e[Jt],d=$P(e),h=!0;if(r.type&3||o){let w=Ut(r,e),_=o?o(w):w,b=d.length,q=o?z=>o(gn(z[r.index])):r.index,W=null;if(!o&&a&&(W=ok(t,e,i,r.index)),W!==null){let z=W.__ngLastListenerFn__||W;z.__ngNextListenerFn__=s,W.__ngLastListenerFn__=s,h=!1}else{s=Bw(r,e,l,s,!1);let z=n.listen(_,i,s);d.push(s,z),u&&u.push(i,q,b,b+1)}}else s=Bw(r,e,l,s,!1);let p=r.outputs,m;if(h&&p!==null&&(m=p[i])){let w=m.length;if(w)for(let _=0;_<w;_+=2){let b=m[_],q=m[_+1],_e=e[b][q].subscribe(s),ie=d.length;d.push(s,_e),u&&u.push(i,r.index,ie,-(ie+1))}}}function jw(t,e,n,r){try{return dn(6,e,n),n(r)!==!1}catch(i){return jD(t,i),!1}finally{dn(7,e,n)}}function Bw(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Ir(t.index,e):e;zp(a);let c=jw(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=jw(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function Cr(t=1){return NM(t)}function Qo(t,e,n){return ZD(t,"",e,"",n),Qo}function ZD(t,e,n,r,i){let s=ye(),o=KD(s,e,n,r);if(o!==Dr){let a=bt(),c=Dp();OD(a,c,s,t,o,s[He],i,!1)}return ZD}var Wu=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=lk;let t=e;return t})(),ck=Wu,uk=class extends ck{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=DO(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new di(i)}};function lk(){return dk(St(),ye())}function dk(t,e){return t.type&4?new uk(e,t,$u(t,e)):null}function hk(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function vi(t){let e=TM();return yE(e,Xt+t)}function E(t,e=""){let n=ye(),r=bt(),i=t+Xt,s=r.firstCreatePass?qu(r,i,1,e,null):r.data[i],o=fk(r,n,s,e,t);n[i]=o,Tp()&&Lp(r,n,o,s),Ho(s,!1)}var fk=(t,e,n,r,i)=>(Cp(!0),gN(e[He],r));function vn(t){return _n("",t,""),vn}function _n(t,e,n){let r=ye(),i=KD(r,t,e,n);return i!==Dr&&qP(r,Cs(),i),_n}function pk(t,e,n){let r=bt();if(r.firstCreatePass){let i=gr(t);up(n,r.data,r.blueprint,i,!0),up(e,r.data,r.blueprint,i,!1)}}function up(t,e,n,r,i){if(t=lt(t),Array.isArray(t))for(let s=0;s<t.length;s++)up(t[s],e,n,r,i);else{let s=bt(),o=ye(),a=St(),c=Es(t)?t:lt(t.provide),u=YE(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Es(t)||!t.multi){let p=new ui(u,i,P),m=Cf(c,e,i?l:l+h,d);m===-1?(kf(_u(a,o),s,c),Tf(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),o.push(p)):(n[m]=p,o[m]=p)}else{let p=Cf(c,e,l+h,d),m=Cf(c,e,l,l+h),w=p>=0&&n[p],_=m>=0&&n[m];if(i&&!_||!i&&!w){kf(_u(a,o),s,c);let b=yk(i?gk:mk,n.length,i,r,u);!i&&_&&(n[m].providerFactory=b),Tf(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(b),o.push(b)}else{let b=JD(n[i?m:p],u,!i&&r);Tf(s,t,p>-1?p:m,b)}!i&&r&&_&&n[m].componentProviders++}}}function Tf(t,e,n,r){let i=Es(e),s=rN(e);if(i||s){let c=(s?lt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function JD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Cf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function mk(t,e,n,r){return lp(this.multi,[])}function gk(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Is(n,n[J],this.providerFactory.index,r);s=a.slice(0,o),lp(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],lp(i,s);return s}function lp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function yk(t,e,n,r,i){let s=new ui(t,n,P);return s.multi=[],s.index=e,s.componentProviders=0,JD(s,i,r&&!n),s}function xs(t,e=[]){return n=>{n.providersResolver=(r,i)=>pk(r,i?i(t):t,e)}}var yr=class{},jo=class{};var dp=class extends yr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Su(this);let i=sE(e);this._bootstrapComponents=eD(i.bootstrap),this._r3Injector=ZE(e,n,[{provide:yr,useValue:this},{provide:Bu,useValue:this.componentFactoryResolver},...r],dt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},hp=class extends jo{constructor(e){super(),this.moduleType=e}create(e){return new dp(this.moduleType,e,[])}};var xu=class extends yr{constructor(e){super(),this.componentFactoryResolver=new Su(this),this.instance=null;let n=new Fo([...e.providers,{provide:yr,useValue:this},{provide:Bu,useValue:this.componentFactoryResolver}],e.parent||Mp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Qp(t,e,n=null){return new xu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var vk=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=WE(!1,r.type),s=i.length>0?Qp([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=M({token:e,providedIn:"environment",factory:()=>new e(j(Vt))});let t=e;return t})();function he(t){qD("NgStandalone"),t.getStandaloneInjector=e=>e.get(vk).getOrCreateStandaloneInjector(t)}function XD(t,e,n,r){return n0(ye(),_p(),t,e,n,r)}function e0(t,e,n,r,i){return _k(ye(),_p(),t,e,n,r,i)}function t0(t,e){let n=t[e];return n===Dr?void 0:n}function n0(t,e,n,r,i,s){let o=e+n;return hi(t,o,i)?WD(t,o+1,s?r.call(s,i):r(i)):t0(t,o+1)}function _k(t,e,n,r,i,s,o){let a=e+n;return PO(t,a,i,s)?WD(t,a+2,o?r.call(o,i,s):r(i,s)):t0(t,a+2)}function Ku(t,e){let n=bt(),r,i=t+Xt;n.firstCreatePass?(r=Ik(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=ai(r.type,!0)),o,a=It(P);try{let c=vu(!1),u=s();return vu(c),hk(n,ye(),i,u),u}finally{It(a)}}function Ik(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Qu(t,e,n){let r=t+Xt,i=ye(),s=yE(i,r);return wk(i,r)?n0(i,_p(),e,s.transform,n,s):s.transform(n)}function wk(t,e){return t[J].data[e].pure}var $n=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},r0=new $n("17.1.0");var Yu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),fp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Yp=(()=>{let e=class e{compileModuleSync(r){return new hp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=sE(r),o=eD(s.declarations).reduce((a,c)=>{let u=ii(c);return u&&a.push(new Vo(u)),a},[]);return new fp(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Zu=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Qe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var i0=new N("");var s0=new N("Application Initializer"),o0=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=S(s0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(yi(o))r.push(o);else if(YD(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zp=new N("appBootstrapListener");function Ek(){RI(()=>{throw new R(600,!1)})}function Dk(t){return t.isBoundToModule}function Tk(t,e,n){try{let r=n();return yi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Yo=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=S(TD),this.afterRenderEffectManager=S(zD),this.componentTypes=[],this.components=[],this.isStable=S(Zu).hasPendingTasks.pipe(Z(r=>!r)),this._injector=S(Vt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Tu;if(!this._injector.get(o0).done){let p=!s&&iE(r),m=!1;throw new R(405,m)}let a;s?a=r:a=this._injector.get(Bu).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=Dk(a)?void 0:this._injector.get(yr),u=i||a.selector,l=a.create(ht.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(i0,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),bf(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new R(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{try{let r=this.afterRenderEffectManager.execute()}catch(r){this.internalErrorHandler(r)}this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;bf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Zp,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>bf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new R(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Ck=(()=>{let e=class e{constructor(){this.zone=S(ue),this.applicationRef=S(Yo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bk(t){return[{provide:ue,useFactory:t},{provide:ws,multi:!0,useFactory:()=>{let e=S(Ck,{optional:!0});return()=>e.initialize()}},{provide:ws,multi:!0,useFactory:()=>{let e=S(xk);return()=>{e.initialize()}}},{provide:TD,useFactory:Sk}]}function Sk(){let t=S(ue),e=S(Bn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Ak(t){let e=bk(()=>new ue(Rk(t)));return Fu([[],e])}function Rk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var xk=(()=>{let e=class e{constructor(){this.subscription=new xe,this.initialized=!1,this.zone=S(ue),this.pendingTasks=S(Zu)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ue.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ue.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Mk(){return typeof $localize<"u"&&$localize.locale||Ru}var Ju=new N("LocaleId",{providedIn:"root",factory:()=>S(Ju,K.Optional|K.SkipSelf)||Mk()});var a0=new N("PlatformDestroyListeners");var uu=null;function Nk(t=[],e){return ht.create({name:e,providers:[{provide:Lu,useValue:"platform"},{provide:a0,useValue:new Set([()=>uu=null])},...t]})}function Pk(t=[]){if(uu)return uu;let e=Nk(t);return uu=e,Ek(),Ok(e),e}function Ok(t){t.get(Pp,null)?.forEach(n=>n())}function c0(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Pk(r),s=[Ak(),...n||[]],a=new xu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(ue);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(Bn,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:p=>{u.handleError(p)}})});let d=()=>a.destroy(),h=i.get(a0);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),Tk(u,c,()=>{let p=a.get(o0);return p.runInitializers(),p.donePromise.then(()=>{let m=a.get(Ju,Ru);sk(m||Ru);let w=a.get(Yo);return e!==void 0&&w.bootstrap(e),w})})})}catch(e){return Promise.reject(e)}}function Gn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var tm=null;function Yn(){return tm}function p0(t){tm||(tm=t)}var ol=class{},Rt=new N("DocumentToken"),m0=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>S(kk),providedIn:"platform"});let t=e;return t})();var kk=(()=>{let e=class e extends m0{constructor(){super(),this._doc=S(Rt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yn().getBaseHref(this._doc)}onPopState(r){let i=Yn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Yn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function g0(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function u0(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function _i(t){return t&&t[0]!=="?"?"?"+t:t}var Ms=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>S(y0),providedIn:"root"});let t=e;return t})(),Fk=new N("appBaseHref"),y0=(()=>{let e=class e extends Ms{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??S(Rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return g0(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+_i(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+_i(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+_i(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(j(m0),j(Fk,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Jo=(()=>{let e=class e{constructor(r){this._subject=new et,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=Uk(u0(l0(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+_i(i))}normalize(r){return e.stripTrailingSlash(Vk(this._basePath,l0(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+_i(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+_i(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=_i,e.joinWithSlash=g0,e.stripTrailingSlash=u0,e.\u0275fac=function(i){return new(i||e)(j(Ms))},e.\u0275prov=M({token:e,factory:()=>Lk(),providedIn:"root"});let t=e;return t})();function Lk(){return new Jo(j(Ms))}function Vk(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function l0(t){return t.replace(/\/index.html$/,"")}function Uk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var ft=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(ft||{}),ve=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ve||{}),At=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(At||{}),Kn=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(Kn||{});function jk(t){return jt(t)[Ne.LocaleId]}function Bk(t,e,n){let r=jt(t),i=[r[Ne.DayPeriodsFormat],r[Ne.DayPeriodsStandalone]],s=Bt(i,e);return Bt(s,n)}function $k(t,e,n){let r=jt(t),i=[r[Ne.DaysFormat],r[Ne.DaysStandalone]],s=Bt(i,e);return Bt(s,n)}function Hk(t,e,n){let r=jt(t),i=[r[Ne.MonthsFormat],r[Ne.MonthsStandalone]],s=Bt(i,e);return Bt(s,n)}function qk(t,e){let r=jt(t)[Ne.Eras];return Bt(r,e)}function Xu(t,e){let n=jt(t);return Bt(n[Ne.DateFormat],e)}function el(t,e){let n=jt(t);return Bt(n[Ne.TimeFormat],e)}function tl(t,e){let r=jt(t)[Ne.DateTimeFormat];return Bt(r,e)}function ul(t,e){let n=jt(t),r=n[Ne.NumberSymbols][e];if(typeof r>"u"){if(e===Kn.CurrencyDecimal)return n[Ne.NumberSymbols][Kn.Decimal];if(e===Kn.CurrencyGroup)return n[Ne.NumberSymbols][Kn.Group]}return r}function v0(t){if(!t[Ne.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ne.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function zk(t){let e=jt(t);return v0(e),(e[Ne.ExtraData][2]||[]).map(r=>typeof r=="string"?Jp(r):[Jp(r[0]),Jp(r[1])])}function Gk(t,e,n){let r=jt(t);v0(r);let i=[r[Ne.ExtraData][0],r[Ne.ExtraData][1]],s=Bt(i,e)||[];return Bt(s,n)||[]}function Bt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Jp(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var Wk=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Zo={},Kk=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Qn=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Qn||{}),ae=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ae||{}),oe=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(oe||{});function Qk(t,e,n,r){let i=i1(t);e=Wn(n,e)||e;let o=[],a;for(;e;)if(a=Kk.exec(e),a){o=o.concat(a.slice(1));let l=o.pop();if(!l)break;e=l}else{o.push(e);break}let c=i.getTimezoneOffset();r&&(c=I0(r,c),i=r1(i,r,!0));let u="";return o.forEach(l=>{let d=t1(l);u+=d?d(i,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function al(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Wn(t,e){let n=jk(t);if(Zo[n]=Zo[n]||{},Zo[n][e])return Zo[n][e];let r="";switch(e){case"shortDate":r=Xu(t,At.Short);break;case"mediumDate":r=Xu(t,At.Medium);break;case"longDate":r=Xu(t,At.Long);break;case"fullDate":r=Xu(t,At.Full);break;case"shortTime":r=el(t,At.Short);break;case"mediumTime":r=el(t,At.Medium);break;case"longTime":r=el(t,At.Long);break;case"fullTime":r=el(t,At.Full);break;case"short":let i=Wn(t,"shortTime"),s=Wn(t,"shortDate");r=nl(tl(t,At.Short),[i,s]);break;case"medium":let o=Wn(t,"mediumTime"),a=Wn(t,"mediumDate");r=nl(tl(t,At.Medium),[o,a]);break;case"long":let c=Wn(t,"longTime"),u=Wn(t,"longDate");r=nl(tl(t,At.Long),[c,u]);break;case"full":let l=Wn(t,"fullTime"),d=Wn(t,"fullDate");r=nl(tl(t,At.Full),[l,d]);break}return r&&(Zo[n][e]=r),r}function nl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function tn(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function Yk(t,e){return tn(t,3).substring(0,e)}function Fe(t,e,n=0,r=!1,i=!1){return function(s,o){let a=Zk(t,s);if((n>0||a>-n)&&(a+=n),t===ae.Hours)a===0&&n===-12&&(a=12);else if(t===ae.FractionalSeconds)return Yk(a,e);let c=ul(o,Kn.MinusSign);return tn(a,e,c,r,i)}}function Zk(t,e){switch(t){case ae.FullYear:return e.getFullYear();case ae.Month:return e.getMonth();case ae.Date:return e.getDate();case ae.Hours:return e.getHours();case ae.Minutes:return e.getMinutes();case ae.Seconds:return e.getSeconds();case ae.FractionalSeconds:return e.getMilliseconds();case ae.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function we(t,e,n=ft.Format,r=!1){return function(i,s){return Jk(i,s,t,e,n,r)}}function Jk(t,e,n,r,i,s){switch(n){case oe.Months:return Hk(e,i,r)[t.getMonth()];case oe.Days:return $k(e,i,r)[t.getDay()];case oe.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let u=zk(e),l=Gk(e,i,r),d=u.findIndex(h=>{if(Array.isArray(h)){let[p,m]=h,w=o>=p.hours&&a>=p.minutes,_=o<m.hours||o===m.hours&&a<m.minutes;if(p.hours<m.hours){if(w&&_)return!0}else if(w||_)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return Bk(e,i,r)[o<12?0:1];case oe.Eras:return qk(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function rl(t){return function(e,n,r){let i=-1*r,s=ul(n,Kn.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Qn.Short:return(i>=0?"+":"")+tn(o,2,s)+tn(Math.abs(i%60),2,s);case Qn.ShortGMT:return"GMT"+(i>=0?"+":"")+tn(o,1,s);case Qn.Long:return"GMT"+(i>=0?"+":"")+tn(o,2,s)+":"+tn(Math.abs(i%60),2,s);case Qn.Extended:return r===0?"Z":(i>=0?"+":"")+tn(o,2,s)+":"+tn(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var Xk=0,sl=4;function e1(t){let e=al(t,Xk,1).getDay();return al(t,0,1+(e<=sl?sl:sl+7)-e)}function _0(t){return al(t.getFullYear(),t.getMonth(),t.getDate()+(sl-t.getDay()))}function Xp(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=_0(n),o=e1(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return tn(i,t,ul(r,Kn.MinusSign))}}function il(t,e=!1){return function(n,r){let s=_0(n).getFullYear();return tn(s,t,ul(r,Kn.MinusSign),e)}}var em={};function t1(t){if(em[t])return em[t];let e;switch(t){case"G":case"GG":case"GGG":e=we(oe.Eras,ve.Abbreviated);break;case"GGGG":e=we(oe.Eras,ve.Wide);break;case"GGGGG":e=we(oe.Eras,ve.Narrow);break;case"y":e=Fe(ae.FullYear,1,0,!1,!0);break;case"yy":e=Fe(ae.FullYear,2,0,!0,!0);break;case"yyy":e=Fe(ae.FullYear,3,0,!1,!0);break;case"yyyy":e=Fe(ae.FullYear,4,0,!1,!0);break;case"Y":e=il(1);break;case"YY":e=il(2,!0);break;case"YYY":e=il(3);break;case"YYYY":e=il(4);break;case"M":case"L":e=Fe(ae.Month,1,1);break;case"MM":case"LL":e=Fe(ae.Month,2,1);break;case"MMM":e=we(oe.Months,ve.Abbreviated);break;case"MMMM":e=we(oe.Months,ve.Wide);break;case"MMMMM":e=we(oe.Months,ve.Narrow);break;case"LLL":e=we(oe.Months,ve.Abbreviated,ft.Standalone);break;case"LLLL":e=we(oe.Months,ve.Wide,ft.Standalone);break;case"LLLLL":e=we(oe.Months,ve.Narrow,ft.Standalone);break;case"w":e=Xp(1);break;case"ww":e=Xp(2);break;case"W":e=Xp(1,!0);break;case"d":e=Fe(ae.Date,1);break;case"dd":e=Fe(ae.Date,2);break;case"c":case"cc":e=Fe(ae.Day,1);break;case"ccc":e=we(oe.Days,ve.Abbreviated,ft.Standalone);break;case"cccc":e=we(oe.Days,ve.Wide,ft.Standalone);break;case"ccccc":e=we(oe.Days,ve.Narrow,ft.Standalone);break;case"cccccc":e=we(oe.Days,ve.Short,ft.Standalone);break;case"E":case"EE":case"EEE":e=we(oe.Days,ve.Abbreviated);break;case"EEEE":e=we(oe.Days,ve.Wide);break;case"EEEEE":e=we(oe.Days,ve.Narrow);break;case"EEEEEE":e=we(oe.Days,ve.Short);break;case"a":case"aa":case"aaa":e=we(oe.DayPeriods,ve.Abbreviated);break;case"aaaa":e=we(oe.DayPeriods,ve.Wide);break;case"aaaaa":e=we(oe.DayPeriods,ve.Narrow);break;case"b":case"bb":case"bbb":e=we(oe.DayPeriods,ve.Abbreviated,ft.Standalone,!0);break;case"bbbb":e=we(oe.DayPeriods,ve.Wide,ft.Standalone,!0);break;case"bbbbb":e=we(oe.DayPeriods,ve.Narrow,ft.Standalone,!0);break;case"B":case"BB":case"BBB":e=we(oe.DayPeriods,ve.Abbreviated,ft.Format,!0);break;case"BBBB":e=we(oe.DayPeriods,ve.Wide,ft.Format,!0);break;case"BBBBB":e=we(oe.DayPeriods,ve.Narrow,ft.Format,!0);break;case"h":e=Fe(ae.Hours,1,-12);break;case"hh":e=Fe(ae.Hours,2,-12);break;case"H":e=Fe(ae.Hours,1);break;case"HH":e=Fe(ae.Hours,2);break;case"m":e=Fe(ae.Minutes,1);break;case"mm":e=Fe(ae.Minutes,2);break;case"s":e=Fe(ae.Seconds,1);break;case"ss":e=Fe(ae.Seconds,2);break;case"S":e=Fe(ae.FractionalSeconds,1);break;case"SS":e=Fe(ae.FractionalSeconds,2);break;case"SSS":e=Fe(ae.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=rl(Qn.Short);break;case"ZZZZZ":e=rl(Qn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=rl(Qn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=rl(Qn.Long);break;default:return null}return em[t]=e,e}function I0(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function n1(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function r1(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=I0(e,i);return n1(t,r*(s-i))}function i1(t){if(d0(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return al(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(Wk))return s1(r)}let e=new Date(t);if(!d0(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function s1(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,c,u),e}function d0(t){return t instanceof Date&&!isNaN(t.valueOf())}function w0(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var nm=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},br=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new nm(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),h0(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);h0(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(P(Rs),P(Wu),P($p))},e.\u0275dir=qe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function h0(t,e){t.context.$implicit=e.item}var Ns=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new rm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){f0("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){f0("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(P(Rs),P(Wu))},e.\u0275dir=qe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),rm=class{constructor(){this.$implicit=null,this.ngIf=null}};function f0(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${dt(e)}'.`)}function o1(t,e){return new R(2100,!1)}var a1="mediumDate",c1=new N("DATE_PIPE_DEFAULT_TIMEZONE"),u1=new N("DATE_PIPE_DEFAULT_OPTIONS"),ll=(()=>{let e=class e{constructor(r,i,s){this.locale=r,this.defaultTimezone=i,this.defaultOptions=s}transform(r,i,s,o){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??a1,c=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Qk(r,a,o||this.locale,c)}catch(a){throw o1(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(P(Ju,16),P(c1,24),P(u1,24))},e.\u0275pipe=tE({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var pt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=it({type:e}),e.\u0275inj=rt({});let t=e;return t})(),E0="browser",l1="server";function im(t){return t===l1}var cl=class{};var am=class extends ol{constructor(){super(...arguments),this.supportsDOMEvents=!0}},cm=class t extends am{static makeCurrent(){p0(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=d1();return n==null?null:h1(n)}resetBaseElement(){Xo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return w0(document.cookie,e)}},Xo=null;function d1(){return Xo=Xo||document.querySelector("base"),Xo?Xo.getAttribute("href"):null}function h1(t){return new URL(t,document.baseURI).pathname}var f1=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),um=new N("EventManagerPlugins"),b0=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new R(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(j(um),j(ue))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),dl=class{constructor(e){this._doc=e}},sm="ng-app-id",S0=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=im(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${sm}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(sm),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(sm,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(j(Rt),j(Np),j(Op,8),j(wr))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),om={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dm=/%COMP%/g,A0="%COMP%",p1=`_nghost-${A0}`,m1=`_ngcontent-${A0}`,g1=!0,y1=new N("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>g1});function v1(t){return m1.replace(dm,t)}function _1(t){return p1.replace(dm,t)}function R0(t,e){return e.map(n=>n.replace(dm,t))}var D0=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=im(c),this.defaultRenderer=new ea(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===fn.ShadowDom&&(i=me(A({},i),{encapsulation:fn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof hl?s.applyToHost(r):s instanceof ta&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case fn.Emulated:o=new hl(u,l,i,this.appId,d,a,c,h);break;case fn.ShadowDom:return new lm(u,l,r,i,a,c,this.nonce,h);default:o=new ta(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(j(b0),j(S0),j(Np),j(y1),j(Rt),j(wr),j(ue),j(Op))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),ea=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(om[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(T0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(T0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new R(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=om[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=om[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(jn.DashCase|jn.Important)?e.style.setProperty(n,r,i&jn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&jn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Yn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function T0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var lm=class extends ea{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=R0(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ta=class extends ea{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?R0(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},hl=class extends ta{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=v1(u),this.hostAttr=_1(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},I1=(()=>{let e=class e extends dl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(j(Rt))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),C0=["alt","control","meta","shift"],w1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},E1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},D1=(()=>{let e=class e extends dl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),C0.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=w1[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),C0.forEach(a=>{if(a!==s){let c=E1[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(j(Rt))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function x0(t,e){return c0(A({rootComponent:t},T1(e)))}function T1(t){return{appProviders:[...R1,...t?.providers??[]],platformProviders:A1}}function C1(){cm.makeCurrent()}function b1(){return new Bn}function S1(){return JE(document),document}var A1=[{provide:wr,useValue:E0},{provide:Pp,useValue:C1,multi:!0},{provide:Rt,useFactory:S1,deps:[]}];var R1=[{provide:Lu,useValue:"root"},{provide:Bn,useFactory:b1,deps:[]},{provide:um,useClass:I1,multi:!0,deps:[Rt,ue,wr]},{provide:um,useClass:D1,multi:!0,deps:[Rt]},D0,S0,b0,{provide:Lo,useExisting:D0},{provide:cl,useClass:f1,deps:[]},[]];function x1(){return new hm(j(Rt))}var hm=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(j(Rt))},e.\u0275prov=M({token:e,factory:function(i){let s=null;return i?s=new i:s=x1(),s},providedIn:"root"});let t=e;return t})();var H="primary",ga=Symbol("RouteTitle"),ym=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ls(t){return new ym(t)}function N1(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function P1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!In(t[n],e[n]))return!1;return!0}function In(t,e){let n=t?vm(t):void 0,r=e?vm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!F0(t[i],e[i]))return!1;return!0}function vm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function F0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function xr(t){return nf(t)?t:yi(t)?Me(Promise.resolve(t)):U(t)}var O1={exact:V0,subset:U0},L0={exact:k1,subset:F1,ignored:()=>!0};function M0(t,e,n){return O1[n.paths](t.root,e.root,n.matrixParams)&&L0[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function k1(t,e){return In(t,e)}function V0(t,e,n){if(!Ei(t.segments,e.segments)||!ml(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!V0(t.children[r],e.children[r],n))return!1;return!0}function F1(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>F0(t[n],e[n]))}function U0(t,e,n){return j0(t,e,e.segments,n)}function j0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ei(i,n)||e.hasChildren()||!ml(i,n,r))}else if(t.segments.length===n.length){if(!Ei(t.segments,n)||!ml(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!U0(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Ei(t.segments,i)||!ml(t.segments,i,r)||!t.children[H]?!1:j0(t.children[H],e,s,r)}}function ml(t,e,n){return e.every((r,i)=>L0[n](t[i].parameters,r.parameters))}var Sr=class{constructor(e=new fe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ls(this.queryParams),this._queryParamMap}toString(){return U1.serialize(this)}},fe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gl(this)}},wi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ls(this.parameters),this._parameterMap}toString(){return $0(this)}};function L1(t,e){return Ei(t,e)&&t.every((n,r)=>In(n.parameters,e[r].parameters))}function Ei(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function V1(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===H&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==H&&(n=n.concat(e(i,r)))}),n}var qm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>new vl,providedIn:"root"});let t=e;return t})(),vl=class{parse(e){let n=new Im(e);return new Sr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${na(e.root,!0)}`,r=$1(e.queryParams),i=typeof e.fragment=="string"?`#${j1(e.fragment)}`:"";return`${n}${r}${i}`}},U1=new vl;function gl(t){return t.segments.map(e=>$0(e)).join("/")}function na(t,e){if(!t.hasChildren())return gl(t);if(e){let n=t.children[H]?na(t.children[H],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==H&&r.push(`${i}:${na(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=V1(t,(r,i)=>i===H?[na(t.children[H],!1)]:[`${i}:${na(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[H]!=null?`${gl(t)}/${n[0]}`:`${gl(t)}/(${n.join("//")})`}}function B0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fl(t){return B0(t).replace(/%3B/gi,";")}function j1(t){return encodeURI(t)}function _m(t){return B0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yl(t){return decodeURIComponent(t)}function N0(t){return yl(t.replace(/\+/g,"%20"))}function $0(t){return`${_m(t.path)}${B1(t.parameters)}`}function B1(t){return Object.entries(t).map(([e,n])=>`;${_m(e)}=${_m(n)}`).join("")}function $1(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${fl(n)}=${fl(i)}`).join("&"):`${fl(n)}=${fl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var H1=/^[^\/()?;#]+/;function fm(t){let e=t.match(H1);return e?e[0]:""}var q1=/^[^\/()?;=#]+/;function z1(t){let e=t.match(q1);return e?e[0]:""}var G1=/^[^=?&#]+/;function W1(t){let e=t.match(G1);return e?e[0]:""}var K1=/^[^&#]+/;function Q1(t){let e=t.match(K1);return e?e[0]:""}var Im=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[H]=new fe(e,n)),r}parseSegment(){let e=fm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(e),new wi(yl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=z1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=fm(this.remaining);i&&(r=i,this.capture(r))}e[yl(n)]=yl(r)}parseQueryParam(e){let n=W1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Q1(this.remaining);o&&(r=o,this.capture(r))}let i=N0(n),s=N0(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=fm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new R(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=H);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[H]:new fe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new R(4011,!1)}};function H0(t){return t.segments.length>0?new fe([],{[H]:t}):t}function q0(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=q0(i);if(r===H&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new fe(t.segments,e);return Y1(n)}function Y1(t){if(t.numberOfChildren===1&&t.children[H]){let e=t.children[H];return new fe(t.segments.concat(e.segments),e.children)}return t}function Vs(t){return t instanceof Sr}function Z1(t,e,n=null,r=null){let i=z0(t);return G0(i,e,n,r)}function z0(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new fe(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=H0(r);return e??i}function G0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return pm(i,i,i,n,r);let s=J1(e);if(s.toRoot())return pm(i,i,new fe([],{}),n,r);let o=X1(s,i,t),a=o.processChildren?sa(o.segmentGroup,o.index,s.commands):K0(o.segmentGroup,o.index,s.commands);return pm(i,o.segmentGroup,a,n,r)}function _l(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ca(t){return typeof t=="object"&&t!=null&&t.outlets}function pm(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=W0(t,e,n);let a=H0(q0(o));return new Sr(a,s,i)}function W0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=W0(s,e,n)}),new fe(t.segments,r)}var Il=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&_l(r[0]))throw new R(4003,!1);let i=r.find(ca);if(i&&i!==r.at(-1))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function J1(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Il(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Il(n,e,r)}var ks=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function X1(t,e,n){if(t.isAbsolute)return new ks(e,!0,0);if(!n)return new ks(e,!1,NaN);if(n.parent===null)return new ks(n,!0,0);let r=_l(t.commands[0])?0:1,i=n.segments.length-1+r;return eF(n,i,t.numberOfDoubleDots)}function eF(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new R(4005,!1);i=r.segments.length}return new ks(r,!1,i-s)}function tF(t){return ca(t[0])?t[0].outlets:{[H]:t}}function K0(t,e,n){if(t??=new fe([],{}),t.segments.length===0&&t.hasChildren())return sa(t,e,n);let r=nF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new fe(t.segments.slice(0,r.pathIndex),{});return s.children[H]=new fe(t.segments.slice(r.pathIndex),t.children),sa(s,0,i)}else return r.match&&i.length===0?new fe(t.segments,{}):r.match&&!t.hasChildren()?wm(t,e,n):r.match?sa(t,0,i):wm(t,e,n)}function sa(t,e,n){if(n.length===0)return new fe(t.segments,{});{let r=tF(n),i={};if(Object.keys(r).some(s=>s!==H)&&t.children[H]&&t.numberOfChildren===1&&t.children[H].segments.length===0){let s=sa(t.children[H],e,n);return new fe(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=K0(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new fe(t.segments,i)}}function nF(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(ca(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!O0(c,u,o))return s;r+=2}else{if(!O0(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function wm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ca(s)){let c=rF(s.outlets);return new fe(r,c)}if(i===0&&_l(n[0])){let c=t.segments[e];r.push(new wi(c.path,P0(n[0]))),i++;continue}let o=ca(s)?s.outlets[H]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&_l(a)?(r.push(new wi(o,P0(a))),i+=2):(r.push(new wi(o,{})),i++)}return new fe(r,{})}function rF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=wm(new fe([],{}),0,r))}),e}function P0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function O0(t,e,n){return t==n.path&&In(e,n.parameters)}var oa="imperative",Ye=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ye||{}),Ht=class{constructor(e,n){this.id=e,this.url=n}},ua=class extends Ht{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ye.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ar=class extends Ht{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ye.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},$t=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}($t||{}),Em=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Em||{}),Rr=class extends Ht{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ye.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Di=class extends Ht{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ye.NavigationSkipped}},la=class extends Ht{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ye.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},wl=class extends Ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dm=class extends Ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tm=class extends Ht{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ye.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Cm=class extends Ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bm=class extends Ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sm=class{constructor(e){this.route=e,this.type=Ye.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Am=class{constructor(e){this.route=e,this.type=Ye.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Rm=class{constructor(e){this.snapshot=e,this.type=Ye.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xm=class{constructor(e){this.snapshot=e,this.type=Ye.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mm=class{constructor(e){this.snapshot=e,this.type=Ye.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nm=class{constructor(e){this.snapshot=e,this.type=Ye.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var da=class{},ha=class{constructor(e){this.url=e}};var Pm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Sl,this.attachRef=null}},Sl=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Pm,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),El=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Om(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Om(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=km(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return km(e,this._root).map(n=>n.value)}};function Om(t,e){if(t===e.value)return e;for(let n of e.children){let r=Om(t,n);if(r)return r}return null}function km(t,e){if(t===e.value)return[e];for(let n of e.children){let r=km(t,n);if(r.length)return r.unshift(e),r}return[]}var xt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Os(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Dl=class extends El{constructor(e,n){super(e),this.snapshot=n,Gm(this,e)}toString(){return this.snapshot.toString()}};function Q0(t){let e=iF(t),n=new Qe([new wi("",{})]),r=new Qe({}),i=new Qe({}),s=new Qe({}),o=new Qe(""),a=new nn(n,r,s,o,i,H,t,e.root);return a.snapshot=e.root,new Dl(new xt(a,[]),e)}function iF(t){let e={},n={},r={},i="",s=new fa([],e,r,i,n,H,t,null,{});return new Tl("",new xt(s,[]))}var nn=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Z(u=>u[ga]))??U(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(e=>Ls(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(e=>Ls(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function zm(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:A(A({},e.params),t.params),data:A(A({},e.data),t.data),resolve:A(A(A(A({},t.data),e.data),i?.data),t._resolvedData)}:r={params:A({},t.params),data:A({},t.data),resolve:A(A({},t.data),t._resolvedData??{})},i&&Z0(i)&&(r.resolve[ga]=i.title),r}var fa=class{get title(){return this.data?.[ga]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ls(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ls(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Tl=class extends El{constructor(e,n){super(n),this.url=e,Gm(this,n)}toString(){return Y0(this._root)}};function Gm(t,e){e.value._routerState=t,e.children.forEach(n=>Gm(t,n))}function Y0(t){let e=t.children.length>0?` { ${t.children.map(Y0).join(", ")} } `:"";return`${t.value}${e}`}function mm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,In(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),In(e.params,n.params)||t.paramsSubject.next(n.params),P1(e.url,n.url)||t.urlSubject.next(n.url),In(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Fm(t,e){let n=In(t.params,e.params)&&L1(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Fm(t.parent,e.parent))}function Z0(t){return typeof t.title=="string"||t.title===null}var Wm=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=H,this.activateEvents=new et,this.deactivateEvents=new et,this.attachEvents=new et,this.detachEvents=new et,this.parentContexts=S(Sl),this.location=S(Rs),this.changeDetector=S(As),this.environmentInjector=S(Vt),this.inputBinder=S(Km,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Lm(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=qe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_r]});let t=e;return t})(),Lm=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===nn?this.route:e===Sl?this.childContexts:this.parent.get(e,n)}},Km=new N("");function sF(t,e,n){let r=pa(t,e._root,n?n._root:void 0);return new Dl(r,e)}function pa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=oF(t,e,n);return new xt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>pa(t,a)),o}}let r=aF(e.value),i=e.children.map(s=>pa(t,s));return new xt(r,i)}}function oF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return pa(t,r,i);return pa(t,r)})}function aF(t){return new nn(new Qe(t.url),new Qe(t.params),new Qe(t.queryParams),new Qe(t.fragment),new Qe(t.data),t.outlet,t.component,t)}var J0="ngNavigationCancelingError";function X0(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Vs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=eT(!1,$t.Redirect,e);return i.url=n,i.navigationBehaviorOptions=r,i}function eT(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[J0]=!0,r.cancellationCode=e,n&&(r.url=n),r}function cF(t){return tT(t)&&Vs(t.url)}function tT(t){return t&&t[J0]}var uF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=le({type:e,selectors:[["ng-component"]],standalone:!0,features:[he],decls:1,vars:0,template:function(i,s){i&1&&se(0,"router-outlet")},dependencies:[Wm],encapsulation:2});let t=e;return t})();function lF(t,e){return t.providers&&!t._injector&&(t._injector=Qp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Qm(t){let e=t.children&&t.children.map(Qm),n=e?me(A({},t),{children:e}):A({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==H&&(n.component=uF),n}function wn(t){return t.outlet||H}function dF(t,e){let n=t.filter(r=>wn(r)===e);return n.push(...t.filter(r=>wn(r)!==e)),n}function ya(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var hF=(t,e,n,r)=>Z(i=>(new Vm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Vm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),mm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Os(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Os(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Os(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Os(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Nm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new xm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(mm(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),mm(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=ya(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Cl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Fs=class{constructor(e,n){this.component=e,this.route=n}};function fF(t,e,n){let r=t._root,i=e?e._root:null;return ra(r,i,n,[r.value])}function pF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function js(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!zw(t)?t:e.get(t):r}function ra(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Os(e);return t.children.forEach(o=>{mF(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>aa(a,n.getContext(o),i)),i}function mF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=gF(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Cl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ra(t,e,a?a.children:null,r,i):ra(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Fs(a.outlet.component,o))}else o&&aa(e,a,i),i.canActivateChecks.push(new Cl(r)),s.component?ra(t,null,a?a.children:null,r,i):ra(t,null,n,r,i);return i}function gF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ei(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ei(t.url,e.url)||!In(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fm(t,e)||!In(t.queryParams,e.queryParams);case"paramsChange":default:return!Fm(t,e)}}function aa(t,e,n){let r=Os(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?aa(o,e.children.getContext(s),n):aa(o,null,n):aa(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Fs(e.outlet.component,i)):n.canDeactivateChecks.push(new Fs(null,i)):n.canDeactivateChecks.push(new Fs(null,i))}function va(t){return typeof t=="function"}function yF(t){return typeof t=="boolean"}function vF(t){return t&&va(t.canLoad)}function _F(t){return t&&va(t.canActivate)}function IF(t){return t&&va(t.canActivateChild)}function wF(t){return t&&va(t.canDeactivate)}function EF(t){return t&&va(t.canMatch)}function nT(t){return t instanceof Vn||t?.name==="EmptyError"}var pl=Symbol("INITIAL_VALUE");function Us(){return Qt(t=>Yc(t.map(e=>e.pipe(Un(1),uf(pl)))).pipe(Z(e=>{for(let n of e)if(n!==!0){if(n===pl)return pl;if(n===!1||n instanceof Sr)return n}return!0}),Kt(e=>e!==pl),Un(1)))}function DF(t,e){return je(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?U(me(A({},n),{guardsResult:!0})):TF(o,r,i,t).pipe(je(a=>a&&yF(a)?CF(r,s,t,e):U(a)),Z(a=>me(A({},n),{guardsResult:a})))})}function TF(t,e,n,r){return Me(t).pipe(je(i=>xF(i.component,i.route,n,e,r)),ln(i=>i!==!0,!0))}function CF(t,e,n,r){return Me(e).pipe(hs(i=>ds(SF(i.route.parent,r),bF(i.route,r),RF(t,i.path,n),AF(t,i.route,n))),ln(i=>i!==!0,!0))}function bF(t,e){return t!==null&&e&&e(new Mm(t)),U(!0)}function SF(t,e){return t!==null&&e&&e(new Rm(t)),U(!0)}function AF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return U(!0);let i=r.map(s=>Zc(()=>{let o=ya(e)??n,a=js(s,o),c=_F(a)?a.canActivate(e,t):mi(o,()=>a(e,t));return xr(c).pipe(ln())}));return U(i).pipe(Us())}function RF(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>pF(o)).filter(o=>o!==null).map(o=>Zc(()=>{let a=o.guards.map(c=>{let u=ya(o.node)??n,l=js(c,u),d=IF(l)?l.canActivateChild(r,t):mi(u,()=>l(r,t));return xr(d).pipe(ln())});return U(a).pipe(Us())}));return U(s).pipe(Us())}function xF(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return U(!0);let o=s.map(a=>{let c=ya(e)??i,u=js(a,c),l=wF(u)?u.canDeactivate(t,e,n,r):mi(c,()=>u(t,e,n,r));return xr(l).pipe(ln())});return U(o).pipe(Us())}function MF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return U(!0);let s=i.map(o=>{let a=js(o,t),c=vF(a)?a.canLoad(e,n):mi(t,()=>a(e,n));return xr(c)});return U(s).pipe(Us(),rT(r))}function rT(t){return Kh(Oe(e=>{if(Vs(e))throw X0(t,e)}),Z(e=>e===!0))}function NF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return U(!0);let s=i.map(o=>{let a=js(o,t),c=EF(a)?a.canMatch(e,n):mi(t,()=>a(e,n));return xr(c)});return U(s).pipe(Us(),rT(r))}var ma=class{constructor(e){this.segmentGroup=e||null}},bl=class extends Error{constructor(e){super(),this.urlTree=e}};function Ps(t){return ls(new ma(t))}function PF(t){return ls(new R(4e3,!1))}function OF(t){return ls(eT(!1,$t.GuardRejected))}var Um=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return U(r);if(i.numberOfChildren>1||!i.children[H])return PF(e.redirectTo);i=i.children[H]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new bl(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Sr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new fe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new R(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},jm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kF(t,e,n,r,i){let s=Ym(t,e,n);return s.matched?(r=lF(e,r),NF(r,e,n,i).pipe(Z(o=>o===!0?s:A({},jm)))):U(s)}function Ym(t,e,n){if(e.path==="**")return FF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?A({},jm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||N1)(n,t,e);if(!i)return A({},jm);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?A(A({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function FF(t){return{matched:!0,parameters:t.at(-1)?.parameters??{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function k0(t,e,n,r){return n.length>0&&UF(t,n,r)?{segmentGroup:new fe(e,VF(r,new fe(n,t.children))),slicedSegments:[]}:n.length===0&&jF(t,n,r)?{segmentGroup:new fe(t.segments,LF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new fe(t.segments,t.children),slicedSegments:n}}function LF(t,e,n,r){let i={};for(let s of n)if(Al(t,e,s)&&!r[wn(s)]){let o=new fe([],{});i[wn(s)]=o}return A(A({},r),i)}function VF(t,e){let n={};n[H]=e;for(let r of t)if(r.path===""&&wn(r)!==H){let i=new fe([],{});n[wn(r)]=i}return n}function UF(t,e,n){return n.some(r=>Al(t,e,r)&&wn(r)!==H)}function jF(t,e,n){return n.some(r=>Al(t,e,r))}function Al(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function BF(t,e,n,r){return wn(t)!==r&&(r===H||!Al(e,n,t))?!1:Ym(e,t,n).matched}function $F(t,e,n){return e.length===0&&!t.children[n]}var Bm=class{};function HF(t,e,n,r,i,s,o="emptyOnly"){return new $m(t,e,n,r,i,o,s).recognize()}var qF=31,$m=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Um(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new R(4002,`'${e.segmentGroup}'`)}recognize(){let e=k0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Z(n=>{let r=new fa([],Object.freeze({}),Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,{},H,this.rootComponentType,null,{}),i=new xt(r,n),s=new Tl("",i),o=Z1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,H).pipe(fr(r=>{if(r instanceof bl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ma?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=zm(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(Z(s=>s instanceof xt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Me(i).pipe(hs(s=>{let o=r.children[s],a=dF(n,s);return this.processSegmentGroup(e,a,o,s)}),cf((s,o)=>(s.push(...o),s)),pr(null),af(),je(s=>{if(s===null)return Ps(r);let o=iT(s);return zF(o),U(o)}))}processSegment(e,n,r,i,s,o){return Me(n).pipe(hs(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(fr(c=>{if(c instanceof ma)return U(null);throw c}))),ln(a=>!!a),fr(a=>{if(nT(a))return $F(r,i,s)?U(new Bm):Ps(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return BF(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ps(i):Ps(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Ym(n,i,s);if(!a)return Ps(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>qF&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(je(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=kF(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(Qt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Qt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,p=new fa(l,h,Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,WF(r),wn(r),r.component??r._loadedComponent??null,r,KF(r)),{segmentGroup:m,slicedSegments:w}=k0(n,l,d,c);if(w.length===0&&m.hasChildren())return this.processChildren(u,c,m).pipe(Z(b=>b===null?null:new xt(p,b)));if(c.length===0&&w.length===0)return U(new xt(p,[]));let _=wn(r)===s;return this.processSegment(u,c,m,w,_?H:s,!0).pipe(Z(b=>new xt(p,b instanceof xt?[b]:[])))}))):Ps(n)))}getChildConfig(e,n,r){return n.children?U({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?U({routes:n._loadedRoutes,injector:n._loadedInjector}):MF(e,n,r,this.urlSerializer).pipe(je(i=>i?this.configLoader.loadChildren(e,n).pipe(Oe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):OF(n))):U({routes:[],injector:e})}};function zF(t){t.sort((e,n)=>e.value.outlet===H?-1:n.value.outlet===H?1:e.value.outlet.localeCompare(n.value.outlet))}function GF(t){let e=t.value.routeConfig;return e&&e.path===""}function iT(t){let e=[],n=new Set;for(let r of t){if(!GF(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=iT(r.children);e.push(new xt(r.value,i))}return e.filter(r=>!n.has(r))}function WF(t){return t.data||{}}function KF(t){return t.resolve||{}}function QF(t,e,n,r,i,s){return je(o=>HF(t,e,n,r,o.extractedUrl,i,s).pipe(Z(({state:a,tree:c})=>me(A({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function YF(t,e){return je(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return U(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of sT(c))o.add(u);let a=0;return Me(o).pipe(hs(c=>s.has(c)?ZF(c,r,t,e):(c.data=zm(c,c.parent,t).resolve,U(void 0))),Oe(()=>a++),fs(1),je(c=>a===o.size?U(n):kt))})}function sT(t){let e=t.children.map(n=>sT(n)).flat();return[t,...e]}function ZF(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Z0(i)&&(s[ga]=i.title),JF(s,t,e,r).pipe(Z(o=>(t._resolvedData=o,t.data=zm(t,t.parent,n).resolve,null)))}function JF(t,e,n,r){let i=vm(t);if(i.length===0)return U({});let s={};return Me(i).pipe(je(o=>XF(t[o],e,n,r).pipe(ln(),Oe(a=>{s[o]=a}))),fs(1),of(s),fr(o=>nT(o)?kt:ls(o)))}function XF(t,e,n,r){let i=ya(e)??r,s=js(t,i),o=s.resolve?s.resolve(e,n):mi(i,()=>s(e,n));return xr(o)}function gm(t){return Qt(e=>{let n=t(e);return n?Me(n).pipe(Z(()=>e)):U(e)})}var oT=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===H);return i}getResolvedTitleForRoute(r){return r.data[ga]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>S(eL),providedIn:"root"});let t=e;return t})(),eL=(()=>{let e=class e extends oT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(j(hm))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zm=new N("",{providedIn:"root",factory:()=>({})}),Jm=new N("ROUTES"),tL=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=S(Yp)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return U(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=xr(r.loadComponent()).pipe(Z(aT),Oe(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Co(()=>{this.componentLoaders.delete(r)})),s=new os(i,()=>new vt).pipe(ss());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return U({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=nL(i,this.compiler,r,this.onLoadEndListener).pipe(Co(()=>{this.childrenLoaders.delete(i)})),a=new os(o,()=>new vt).pipe(ss());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function nL(t,e,n,r){return xr(t.loadChildren()).pipe(Z(aT),je(i=>i instanceof jo||Array.isArray(i)?U(i):Me(e.compileModuleAsync(i))),Z(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Jm,[],{optional:!0,self:!0}).flat()),{routes:o.map(Qm),injector:s}}))}function rL(t){return t&&typeof t=="object"&&"default"in t}function aT(t){return rL(t)?t.default:t}var Xm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>S(iL),providedIn:"root"});let t=e;return t})(),iL=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sL=new N("");var oL=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new vt,this.transitionAbortSubject=new vt,this.configLoader=S(tL),this.environmentInjector=S(Vt),this.urlSerializer=S(qm),this.rootContexts=S(Sl),this.location=S(Jo),this.inputBindingEnabled=S(Km,{optional:!0})!==null,this.titleStrategy=S(oT),this.options=S(Zm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=S(Xm),this.createViewTransition=S(sL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>U(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Sm(s)),i=s=>this.events.next(new Am(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(me(A(A({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Qe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:oa,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Kt(o=>o.id!==0),Z(o=>me(A({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Qt(o=>{this.currentTransition=o;let a=!1,c=!1;return U(o).pipe(Oe(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?me(A({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Qt(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Di(u.id,this.urlSerializer.serialize(u.rawUrl),h,Em.IgnoredSameUrlNavigation)),u.resolve(null),kt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return U(u).pipe(Qt(h=>{let p=this.transitions?.getValue();return this.events.next(new ua(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?kt:Promise.resolve(h)}),QF(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Oe(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=me(A({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new wl(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:p,source:m,restoredState:w,extras:_}=u,b=new ua(h,this.urlSerializer.serialize(p),m,w);this.events.next(b);let q=Q0(this.rootComponentType).snapshot;return this.currentTransition=o=me(A({},u),{targetSnapshot:q,urlAfterRedirects:p,extras:me(A({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,U(o)}else{let h="";return this.events.next(new Di(u.id,this.urlSerializer.serialize(u.extractedUrl),h,Em.IgnoredByUrlHandlingStrategy)),u.resolve(null),kt}}),Oe(u=>{let l=new Dm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Z(u=>(this.currentTransition=o=me(A({},u),{guards:fF(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),DF(this.environmentInjector,u=>this.events.next(u)),Oe(u=>{if(o.guardsResult=u.guardsResult,Vs(u.guardsResult))throw X0(this.urlSerializer,u.guardsResult);let l=new Tm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Kt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",$t.GuardRejected),!1)),gm(u=>{if(u.guards.canActivateChecks.length)return U(u).pipe(Oe(l=>{let d=new Cm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Qt(l=>{let d=!1;return U(l).pipe(YF(this.paramsInheritanceStrategy,this.environmentInjector),Oe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",$t.NoDataFromResolver)}}))}),Oe(l=>{let d=new bm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),gm(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Oe(p=>{d.component=p}),Z(()=>{})));for(let p of d.children)h.push(...l(p));return h};return Yc(l(u.targetSnapshot.root)).pipe(pr(null),Un(1))}),gm(()=>this.afterPreactivation()),Qt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?Me(d).pipe(Z(()=>o)):U(o)}),Z(u=>{let l=sF(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=me(A({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Oe(()=>{this.events.next(new da)}),hF(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Un(1),Oe({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ar(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),lf(this.transitionAbortSubject.pipe(Oe(u=>{throw u}))),Co(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",$t.SupersededByNewNavigation),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),fr(u=>{if(c=!0,tT(u))this.events.next(new Rr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),cF(u)?this.events.next(new ha(u.url)):o.resolve(!1);else{this.events.next(new la(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return kt}))}))}cancelNavigationTransition(r,i,s){let o=new Rr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aL(t){return t!==oa}var cL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>S(uL),providedIn:"root"});let t=e;return t})(),Hm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},uL=(()=>{let e=class e extends Hm{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=pi(e)))(s||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>S(lL),providedIn:"root"});let t=e;return t})(),lL=(()=>{let e=class e extends cT{constructor(){super(...arguments),this.location=S(Jo),this.urlSerializer=S(qm),this.options=S(Zm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=S(Xm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Sr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Q0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ua)this.stateMemento=this.createStateMemento();else if(r instanceof Di)this.rawUrlTree=i.initialUrl;else if(r instanceof wl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof da?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Rr&&(r.code===$t.GuardRejected||r.code===$t.NoDataFromResolver)?this.restoreHistory(i):r instanceof la?this.restoreHistory(i,!0):r instanceof Ar&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=A(A({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=A(A({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=pi(e)))(s||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ia=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ia||{});function dL(t,e){t.events.pipe(Kt(n=>n instanceof Ar||n instanceof Rr||n instanceof la||n instanceof Di),Z(n=>n instanceof Ar||n instanceof Di?ia.COMPLETE:(n instanceof Rr?n.code===$t.Redirect||n.code===$t.SupersededByNewNavigation:!1)?ia.REDIRECTING:ia.FAILED),Kt(n=>n!==ia.REDIRECTING),Un(1)).subscribe(()=>{e()})}function hL(t){throw t}var fL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},eg=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=S(Yu),this.stateManager=S(cT),this.options=S(Zm,{optional:!0})||{},this.pendingTasks=S(Zu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=S(oL),this.urlSerializer=S(qm),this.location=S(Jo),this.urlHandlingStrategy=S(Xm),this._events=new vt,this.errorHandler=this.options.errorHandler||hL,this.navigated=!1,this.routeReuseStrategy=S(cL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=S(Jm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!S(Km,{optional:!0}),this.eventsSubscription=new xe,this.isNgZoneEnabled=S(ue)instanceof ue&&ue.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Rr&&i.code!==$t.Redirect&&i.code!==$t.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ar)this.navigated=!0;else if(i instanceof ha){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||aL(s.source)};this.scheduleNavigation(a,oa,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}gL(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),oa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=A({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Qm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=A(A({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=s?s.snapshot:this.routerState.snapshot.root;h=z0(p)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return G0(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Vs(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,oa,null,i)}navigate(r,i={skipLocationChange:!1}){return mL(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=A({},fL):i===!1?s=A({},pL):s=i,Vs(r))return M0(this.currentUrlTree,r,s);let o=this.parseUrl(r);return M0(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,p)=>{c=h,u=p});let d=this.pendingTasks.add();return dL(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new R(4008,!1)}function gL(t){return!(t instanceof da)&&!(t instanceof ha)}var Rl=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new vt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Ar&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(this.urlTree,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:vD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(P(eg),P(nn),Ap("tabindex"),P(gi),P(Er),P(Ms))},e.\u0275dir=qe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Tr("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Ko("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[tt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Gn],skipLocationChange:[tt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Gn],replaceUrl:[tt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Gn],routerLink:"routerLink"},standalone:!0,features:[Kp,_r]});let t=e;return t})();var yL=new N("");function uT(t,...e){return Fu([{provide:Jm,multi:!0,useValue:t},[],{provide:nn,useFactory:vL,deps:[eg]},{provide:Zp,multi:!0,useFactory:_L},e.map(n=>n.\u0275providers)])}function vL(t){return t.routerState.root}function _L(){let t=S(ht);return e=>{let n=t.get(Yo);if(e!==n.components[0])return;let r=t.get(eg),i=t.get(IL);t.get(wL)===1&&r.initialNavigation(),t.get(EL,null,K.Optional)?.setUpPreloading(),t.get(yL,null,K.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var IL=new N("",{factory:()=>new vt}),wL=new N("",{providedIn:"root",factory:()=>1});var EL=new N("");var DL=t=>["/post",t];function TL(t,e){if(t&1&&(v(0,"div")(1,"div",1),se(2,"img",2),v(3,"div",3)(4,"small",4),E(5),y(),v(6,"small",5),E(7,"Featured"),y(),v(8,"small",6),E(9),y(),v(10,"h5",7),E(11),y(),v(12,"p"),E(13),y(),v(14,"small",8),E(15),Ku(16,"date"),y()()()()),t&2){let n=Cr();G(),de("routerLink",XD(9,DL,n.post_data.id)),G(),Qo("src",n.post_data.data.postImgPath,Wo),G(3),vn(n.post_data.data.catogory.category),G(4),_n("Views ",n.post_data.data.view,""),G(2),_n("",n.post_data.data.title," "),G(2),_n(" ",n.post_data.data.excert,""),G(2),_n("Last updated ",Qu(16,7,n.post_data.data.created.toMillis()),"")}}var Bs=(()=>{let e=class e{constructor(){}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=le({type:e,selectors:[["app-post-card"]],inputs:{post_data:"post_data"},standalone:!0,features:[he],decls:1,vars:1,consts:[[4,"ngIf"],[1,"card",3,"routerLink"],["alt","burger-photo",1,"card-img-top",3,"src"],[1,"card-body"],[1,"bg-light","text-denger","text-center"],[1,"bg-light","text-success","text-center","ml-3"],[1,"bg-light","text-info","text-center","ml-3"],[1,"mt-1"],[1,"bg-light","text-warning","text-center","ml-3"]],template:function(i,s){i&1&&Be(0,TL,17,11,"div",0),i&2&&de("ngIf",s.post_data)},dependencies:[pt,Ns,ll,Rl],styles:[".card[_ngcontent-%COMP%]{max-width:400px;min-height:500px;border:none;box-shadow:0 0 33px -10px #4772fe4d}small[_ngcontent-%COMP%]{margin-right:10px;padding:3px;border-radius:5px}"]});let t=e;return t})();var hT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},CL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},fT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(h=64)),r.push(n[l],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new ng;let h=s<<2|a>>4;if(r.push(h),u!==64){let p=a<<4&240|u>>2;if(r.push(p),d!==64){let m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ng=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},bL=function(t){let e=hT(t);return fT.encodeByteArray(e,!0)},_a=function(t){return bL(t).replace(/\./g,"")},ig=function(t){try{return fT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function SL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var AL=()=>SL().__FIREBASE_DEFAULTS__,RL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&ig(t[1]);return e&&JSON.parse(e)},Ml=()=>{try{return AL()||RL()||xL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sg=t=>{var e,n;return(n=(e=Ml())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Nl=t=>{let e=sg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},og=()=>{var t;return(t=Ml())===null||t===void 0?void 0:t.config},ag=t=>{var e;return(e=Ml())===null||e===void 0?void 0:e[`_${t}`]};var xl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Pl(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_a(JSON.stringify(n)),_a(JSON.stringify(o)),""].join(".")}function be(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function ML(){var t;let e=(t=Ml())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yT(){let t=be();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vT(){return!ML()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ol(){try{return typeof indexedDB=="object"}catch{return!1}}function _T(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var NL="FirebaseError",mt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zn.prototype.create)}},Zn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?PL(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new mt(i,a,r)}};function PL(t,e){return t.replace(OL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var OL=/\{\$([^}]+)}/g;function IT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ti(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(dT(s)&&dT(o)){if(!Ti(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function dT(t){return t!==null&&typeof t=="object"}function Ia(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wT(t,e){let n=new rg(t,e);return n.subscribe.bind(n)}var rg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=tg),i.error===void 0&&(i.error=tg),i.complete===void 0&&(i.complete=tg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function kL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tg(){}var L5=4*60*60*1e3;function $e(t){return t&&t._delegate?t._delegate:t}var wt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ci="[DEFAULT]";var cg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new xl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LL(e))try{this.getOrInitializeService({instanceIdentifier:Ci})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return f(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ci){return this.instances.has(e)}getOptions(e=Ci){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ci){return this.component?this.component.multipleInstances?e:Ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function FL(t){return t===Ci?void 0:t}function LL(t){return t.instantiationMode==="EAGER"}var kl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new cg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var VL=[],X=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(X||{}),UL={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},jL=X.INFO,BL={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},$L=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=BL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Mr=class{constructor(e){this.name=e,this._logLevel=jL,this._logHandler=$L,this._userLogHandler=null,VL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in X))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...e),this._logHandler(this,X.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...e),this._logHandler(this,X.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,X.INFO,...e),this._logHandler(this,X.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,X.WARN,...e),this._logHandler(this,X.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...e),this._logHandler(this,X.ERROR,...e)}};var HL=(t,e)=>e.some(n=>t instanceof n),ET,DT;function qL(){return ET||(ET=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zL(){return DT||(DT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var TT=new WeakMap,lg=new WeakMap,CT=new WeakMap,ug=new WeakMap,hg=new WeakMap;function GL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(En(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&TT.set(n,t)}).catch(()=>{}),hg.set(e,t),e}function WL(t){if(lg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});lg.set(t,e)}var dg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return En(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bT(t){dg=t(dg)}function KL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Fl(this),e,...n);return CT.set(r,e.sort?e.sort():[e]),En(r)}:zL().includes(t)?function(...e){return t.apply(Fl(this),e),En(TT.get(this))}:function(...e){return En(t.apply(Fl(this),e))}}function QL(t){return typeof t=="function"?KL(t):(t instanceof IDBTransaction&&WL(t),HL(t,qL())?new Proxy(t,dg):t)}function En(t){if(t instanceof IDBRequest)return GL(t);if(ug.has(t))return ug.get(t);let e=QL(t);return e!==t&&(ug.set(t,e),hg.set(e,t)),e}var Fl=t=>hg.get(t);function AT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=En(o);return r&&o.addEventListener("upgradeneeded",c=>{r(En(o.result),c.oldVersion,c.newVersion,En(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var YL=["get","getKey","getAll","getAllKeys","count"],ZL=["put","add","delete","clear"],fg=new Map;function ST(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fg.get(e))return fg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=ZL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||YL.includes(n)))return;let s=function(o,...a){return f(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return fg.set(e,s),s}bT(t=>me(A({},t),{get:(e,n,r)=>ST(e,n)||t.get(e,n,r),has:(e,n)=>!!ST(e,n)||t.has(e,n)}));var mg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function JL(t){let e=t.getComponent();return e?.type==="VERSION"}var gg="@firebase/app",RT="0.9.26";var bi=new Mr("@firebase/app"),XL="@firebase/app-compat",eV="@firebase/analytics-compat",tV="@firebase/analytics",nV="@firebase/app-check-compat",rV="@firebase/app-check",iV="@firebase/auth",sV="@firebase/auth-compat",oV="@firebase/database",aV="@firebase/database-compat",cV="@firebase/functions",uV="@firebase/functions-compat",lV="@firebase/installations",dV="@firebase/installations-compat",hV="@firebase/messaging",fV="@firebase/messaging-compat",pV="@firebase/performance",mV="@firebase/performance-compat",gV="@firebase/remote-config",yV="@firebase/remote-config-compat",vV="@firebase/storage",_V="@firebase/storage-compat",IV="@firebase/firestore",wV="@firebase/firestore-compat",EV="firebase",DV="10.7.2";var yg="[DEFAULT]",TV={[gg]:"fire-core",[XL]:"fire-core-compat",[tV]:"fire-analytics",[eV]:"fire-analytics-compat",[rV]:"fire-app-check",[nV]:"fire-app-check-compat",[iV]:"fire-auth",[sV]:"fire-auth-compat",[oV]:"fire-rtdb",[aV]:"fire-rtdb-compat",[cV]:"fire-fn",[uV]:"fire-fn-compat",[lV]:"fire-iid",[dV]:"fire-iid-compat",[hV]:"fire-fcm",[fV]:"fire-fcm-compat",[pV]:"fire-perf",[mV]:"fire-perf-compat",[gV]:"fire-rc",[yV]:"fire-rc-compat",[vV]:"fire-gcs",[_V]:"fire-gcs-compat",[IV]:"fire-fst",[wV]:"fire-fst-compat","fire-js":"fire-js",[EV]:"fire-js-all"};var wa=new Map,vg=new Map;function CV(t,e){try{t.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dn(t){let e=t.name;if(vg.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;vg.set(e,t);for(let n of wa.values())CV(n,t);return!0}function Si(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var bV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Nr=new Zn("app","Firebase",bV);var _g=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}};var Tn=DV;function Eg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:yg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Nr.create("bad-app-name",{appName:String(i)});if(n||(n=og()),!n)throw Nr.create("no-options");let s=wa.get(i);if(s){if(Ti(n,s.options)&&Ti(r,s.config))return s;throw Nr.create("duplicate-app",{appName:i})}let o=new kl(i);for(let c of vg.values())o.addComponent(c);let a=new _g(n,r,o);return wa.set(i,a),a}function Pr(t=yg){let e=wa.get(t);if(!e&&t===yg&&og())return Eg();if(!e)throw Nr.create("no-app",{appName:t});return e}function Ll(){return Array.from(wa.values())}function Te(t,e,n){var r;let i=(r=TV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(a.join(" "));return}Dn(new wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var SV="firebase-heartbeat-database",AV=1,Ea="firebase-heartbeat-store",pg=null;function PT(){return pg||(pg=AT(SV,AV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ea)}catch(n){console.warn(n)}}}}).catch(t=>{throw Nr.create("idb-open",{originalErrorMessage:t.message})})),pg}function RV(t){return f(this,null,function*(){try{return yield(yield PT()).transaction(Ea).objectStore(Ea).get(OT(t))}catch(e){if(e instanceof mt)bi.warn(e.message);else{let n=Nr.create("idb-get",{originalErrorMessage:e?.message});bi.warn(n.message)}}})}function xT(t,e){return f(this,null,function*(){try{let r=(yield PT()).transaction(Ea,"readwrite");yield r.objectStore(Ea).put(e,OT(t)),yield r.done}catch(n){if(n instanceof mt)bi.warn(n.message);else{let r=Nr.create("idb-set",{originalErrorMessage:n?.message});bi.warn(r.message)}}})}function OT(t){return`${t.name}!${t.options.appId}`}var xV=1024,MV=30*24*60*60*1e3,Ig=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new wg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return f(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=MT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=MV}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return f(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=MT(),{heartbeatsToSend:r,unsentEntries:i}=NV(this._heartbeatsCache.heartbeats),s=_a(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function MT(){return new Date().toISOString().substring(0,10)}function NV(t,e=xV){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),NT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),NT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var wg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return f(this,null,function*(){return Ol()?_T().then(()=>!0).catch(()=>!1):!1})}read(){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield RV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function NT(t){return _a(JSON.stringify({version:2,heartbeats:t})).length}function PV(t){Dn(new wt("platform-logger",e=>new mg(e),"PRIVATE")),Dn(new wt("heartbeat",e=>new Ig(e),"PRIVATE")),Te(gg,RT,t),Te(gg,RT,"esm2017"),Te("fire-js","")}PV("");var OV="firebase",kV="10.7.2";Te(OV,kV,"app");var Jn=new $n("ANGULARFIRE2_VERSION");function Hs(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ri=(t,e)=>{let n=e?[e]:Ll(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Or=class{constructor(){return Ri(FV)}},FV="app-check";function $s(){}var Vl=class{zone;delegate;constructor(e,n=ef){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Dg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$s,{},$s,$s)),n.pipe(Oe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},kr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Vl(Zone.current)),this.insideAngular=n.run(()=>new Vl(Zone.current,Xh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(j(ue))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ul(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function LV(t){return Ul().ngZone.runOutsideAngular(()=>t())}function Ai(t){return Ul().ngZone.run(()=>t())}function VV(t){return UV(Ul())(t)}function UV(t){return function(n){return n=n.lift(new Dg(t.ngZone)),n.pipe(hr(t.outsideAngular),dr(t.insideAngular))}}var jV=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ai(()=>t.apply(void 0,r))},ze=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Ai(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$s,{},$s,$s))),r[s]=jV(r[s],n));let i=LV(()=>t.apply(this,r));if(!e)if(i instanceof te){let s=Ul();return i.pipe(hr(s.outsideAngular),dr(s.insideAngular))}else return Ai(()=>i);return i instanceof te?i.pipe(VV):i instanceof Promise?Ai(()=>new Promise((s,o)=>i.then(a=>Ai(()=>s(a)),a=>Ai(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ai(()=>i)};var rn=class{constructor(e){return e}},Xn=class{constructor(){return Ll()}};function BV(t){return t&&t.length===1?t[0]:new rn(Pr())}var Tg=new N("angularfire2._apps"),$V={provide:rn,useFactory:BV,deps:[[new ke,Tg]]},HV={provide:Xn,deps:[[new ke,Tg]]};function qV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new rn(r)}}var zV=(()=>{class t{constructor(n){Te("angularfire",Jn.full,"core"),Te("angularfire",Jn.full,"app"),Te("angular",r0.full,n.toString())}static \u0275fac=function(r){return new(r||t)(j(wr))};static \u0275mod=it({type:t});static \u0275inj=rt({providers:[$V,HV]})}return t})();function kT(t,...e){return{ngModule:zV,providers:[{provide:Tg,useFactory:qV(t),multi:!0,deps:[ue,ht,kr,...e]}]}}var FT=ze(Eg,!0);function YT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ZT=YT,JT=new Zn("auth","Firebase",YT());var zl=new Mr("@firebase/auth");function GV(t,...e){zl.logLevel<=X.WARN&&zl.warn(`Auth (${Tn}): ${t}`,...e)}function Bl(t,...e){zl.logLevel<=X.ERROR&&zl.error(`Auth (${Tn}): ${t}`,...e)}function Lr(t,...e){throw qg(t,...e)}function xi(t,...e){return qg(t,...e)}function WV(t,e,n){let r=Object.assign(Object.assign({},ZT()),{[e]:n});return new Zn("auth","Firebase",r).create(e,{appName:t.name})}function qg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JT.create(t,...e)}function V(t,e,...n){if(!t)throw qg(e,...n)}function er(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Bl(e),new Error(e)}function Vr(t,e){t||er(e)}function Ag(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function KV(){return LT()==="http:"||LT()==="https:"}function LT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function QV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KV()||mT()||"connection"in navigator)?navigator.onLine:!0}function YV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Mi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vr(n>e,"Short delay should be less than long delay!"),this.isMobile=pT()||gT()}get(){return QV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function zg(t,e){Vr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Gl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var ZV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var JV=new Mi(3e4,6e4);function Gg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function qs(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){return XT(t,i,()=>f(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=Ia(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Gl.fetch()(eC(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function XT(t,e,n){return f(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},ZV),e);try{let i=new Rg(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw jl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw jl(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw jl(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw jl(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw WV(t,l,u);Lr(t,l)}}catch(i){if(i instanceof mt)throw i;Lr(t,"network-request-failed",{message:String(i)})}})}function XV(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){let u=yield qs(t,e,n,r,i);return"mfaPendingCredential"in u&&Lr(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function eC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?zg(t.config,i):`${t.config.apiScheme}://${i}`}var Rg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),JV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function jl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=xi(t,e,r);return i.customData._tokenResponse=n,i}function eU(t,e){return f(this,null,function*(){return qs(t,"POST","/v1/accounts:delete",e)})}function tU(t,e){return f(this,null,function*(){return qs(t,"POST","/v1/accounts:lookup",e)})}function Da(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Wg(t,e=!1){return f(this,null,function*(){let n=$e(t),r=yield n.getIdToken(e),i=Kg(r);V(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Da(Cg(i.auth_time)),issuedAtTime:Da(Cg(i.iat)),expirationTime:Da(Cg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Cg(t){return Number(t)*1e3}function Kg(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bl("JWT malformed, contained fewer than 3 sections"),null;try{let i=ig(n);return i?JSON.parse(i):(Bl("Failed to decode base64 JWT payload"),null)}catch(i){return Bl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function nU(t){let e=Kg(t);return V(e,"internal-error"),V(typeof e.exp<"u","internal-error"),V(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ta(t,e,n=!1){return f(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof mt&&rU(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function rU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var xg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>f(this,null,function*(){yield this.iteration()}),n)}iteration(){return f(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Wl=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Da(this.lastLoginAt),this.creationTime=Da(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Kl(t){return f(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ta(t,tU(n,{idToken:r}));V(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?sU(s.providerUserInfo):[],a=iU(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Wl(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function Qg(t){return f(this,null,function*(){let e=$e(t);yield Kl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function iU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sU(t){return t.map(e=>{var{providerId:n}=e,r=tf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function oU(t,e){return f(this,null,function*(){let n=yield XT(t,{},()=>f(this,null,function*(){let r=Ia({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=eC(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Gl.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function aU(t,e){return f(this,null,function*(){return qs(t,"POST","/v2/accounts:revokeToken",Gg(t,e))})}var Ql=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,"internal-error"),V(typeof e.idToken<"u","internal-error"),V(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return f(this,null,function*(){return V(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return f(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield oU(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(V(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(V(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(V(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return er("not implemented")}};function Fr(t,e){V(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ca=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=tf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wl(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return f(this,null,function*(){let n=yield Ta(this,this.stsTokenManager.getToken(this.auth,e));return V(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Wg(this,e)}reload(){return Qg(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return f(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Kl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return f(this,null,function*(){let e=yield this.getIdToken();return yield Ta(this,eU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,q=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:W,emailVerified:z,isAnonymous:_e,providerData:ie,stsTokenManager:ut}=n;V(W&&ut,e,"internal-error");let Ot=Ql.fromJSON(this.name,ut);V(typeof W=="string",e,"internal-error"),Fr(d,e.name),Fr(h,e.name),V(typeof z=="boolean",e,"internal-error"),V(typeof _e=="boolean",e,"internal-error"),Fr(p,e.name),Fr(m,e.name),Fr(w,e.name),Fr(_,e.name),Fr(b,e.name),Fr(q,e.name);let Yr=new t({uid:W,auth:e,email:h,emailVerified:z,displayName:d,isAnonymous:_e,photoURL:m,phoneNumber:p,tenantId:w,stsTokenManager:Ot,createdAt:b,lastLoginAt:q});return ie&&Array.isArray(ie)&&(Yr.providerData=ie.map(bc=>Object.assign({},bc))),_&&(Yr._redirectEventId=_),Yr}static _fromIdTokenResponse(e,n,r=!1){return f(this,null,function*(){let i=new Ql;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Kl(s),s})}};var VT=new Map;function tr(t){Vr(t instanceof Function,"Expected a class definition");let e=VT.get(t);return e?(Vr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VT.set(t,e),e)}var cU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return f(this,null,function*(){return!0})}_set(n,r){return f(this,null,function*(){this.storage[n]=r})}_get(n){return f(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return f(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Mg=cU;function $l(t,e,n){return`firebase:${t}:${e}:${n}`}var Yl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=$l(this.userKey,i.apiKey,s),this.fullPersistenceKey=$l("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return f(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ca._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return f(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return f(this,null,function*(){if(!n.length)return new t(tr(Mg),e,r);let i=(yield Promise.all(n.map(u=>f(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||tr(Mg),o=$l(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=Ca._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>f(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function UT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sC(e))return"Blackberry";if(oC(e))return"Webos";if(Yg(e))return"Safari";if((e.includes("chrome/")||nC(e))&&!e.includes("edge/"))return"Chrome";if(iC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function tC(t=be()){return/firefox\//i.test(t)}function Yg(t=be()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nC(t=be()){return/crios\//i.test(t)}function rC(t=be()){return/iemobile/i.test(t)}function iC(t=be()){return/android/i.test(t)}function sC(t=be()){return/blackberry/i.test(t)}function oC(t=be()){return/webos/i.test(t)}function id(t=be()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uU(t=be()){var e;return id(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lU(){return yT()&&document.documentMode===10}function aC(t=be()){return id(t)||iC(t)||oC(t)||sC(t)||/windows phone/i.test(t)||rC(t)}function dU(){try{return!!(window&&window!==window.top)}catch{return!1}}function cC(t,e=[]){let n;switch(t){case"Browser":n=UT(be());break;case"Worker":n=`${UT(be())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Tn}/${r}`}var Ng=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return f(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function hU(n){return f(this,arguments,function*(t,e={}){return qs(t,"GET","/v2/passwordPolicy",Gg(t,e))})}var fU=6,Pg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:fU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Og=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zl(this),this.idTokenSubscription=new Zl(this),this.beforeStateQueue=new Ng(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(()=>f(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Yl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return f(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return f(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return V(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return f(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return f(this,null,function*(){try{yield Kl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=YV()}_delete(){return f(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return f(this,null,function*(){let n=e?$e(e):null;return n&&V(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return f(this,null,function*(){if(!this._deleted)return e&&V(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>f(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return f(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>f(this,null,function*(){yield this.assertedPersistence.setPersistence(tr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return f(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return f(this,null,function*(){let e=yield hU(this),n=new Pg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return f(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield aU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return f(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return f(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&tr(e)||this._popupRedirectResolver;V(n,this,"argument-error"),this.redirectPersistenceManager=yield Yl.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return f(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>f(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return f(this,null,function*(){if(e===this.currentUser)return this.queue(()=>f(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(V(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return f(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return f(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return f(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&GV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Zg(t){return $e(t)}var Zl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=wT(n=>this.observer=n)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function pU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function mU(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=xi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",pU().appendChild(r)})}function uC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Jg(t,e){let n=Si(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Ti(s,e??{}))return i;Lr(i,"already-initialized")}return n.initialize({options:e})}function gU(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(tr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Xg(t,e,n){let r=Zg(t);V(r._canInitEmulator,r,"emulator-config-failed"),V(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=lC(e),{host:o,port:a}=yU(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||vU()}function lC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yU(t){let e=lC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:jT(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:jT(o)}}}function jT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function vU(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Jl=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,n){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}};function bg(t,e){return f(this,null,function*(){return XV(t,"POST","/v1/accounts:signInWithIdp",Gg(t,e))})}var Xl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var kg=class extends Xl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var ba=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return f(this,null,function*(){let s=yield Ca._fromIdTokenResponse(e,r,i),o=BT(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return f(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=BT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function BT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Fg=class t extends mt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function dC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Fg._fromErrorAndOperation(t,s,e,r):s})}function _U(t,e,n=!1){return f(this,null,function*(){let r=yield Ta(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ba._forOperation(t,"link",r)})}function IU(t,e,n=!1){return f(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield Ta(t,dC(r,i,e,t),n);V(s.idToken,r,"internal-error");let o=Kg(s.idToken);V(o,r,"internal-error");let{sub:a}=o;return V(t.uid===a,r,"user-mismatch"),ba._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Lr(r,"user-mismatch"),s}})}function wU(t,e,n=!1){return f(this,null,function*(){let r="signIn",i=yield dC(t,r,e),s=yield ba._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function ey(t,e,n,r){return $e(t).onIdTokenChanged(e,n,r)}function ty(t,e,n){return $e(t).beforeAuthStateChanged(e,n)}var ed="__sak";var td=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ed,"1"),this.storage.removeItem(ed),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function EU(){let t=be();return Yg(t)||id(t)}var DU=1e3,TU=10,CU=(()=>{class t extends td{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=EU()&&dU(),this.fallbackToPolling=aC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);lU()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,TU):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},DU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return f(this,null,function*(){yield ur(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return f(this,null,function*(){let r=yield ur(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return f(this,null,function*(){yield ur(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),hC=CU;var bU=(()=>{class t extends td{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),ny=bU;function SU(t){return Promise.all(t.map(e=>f(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var AU=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return f(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>f(this,null,function*(){return l(r.origin,o)})),u=yield SU(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function fC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Lg=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return f(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=fC("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Cn(){return window}function RU(t){Cn().location.href=t}function pC(){return typeof Cn().WorkerGlobalScope<"u"&&typeof Cn().importScripts=="function"}function xU(){return f(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function MU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function NU(){return pC()?self:null}var mC="firebaseLocalStorageDb",PU=1,nd="firebaseLocalStorage",gC="fbase_key",Ni=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function sd(t,e){return t.transaction([nd],e?"readwrite":"readonly").objectStore(nd)}function OU(){let t=indexedDB.deleteDatabase(mC);return new Ni(t).toPromise()}function Vg(){let t=indexedDB.open(mC,PU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(nd,{keyPath:gC})}catch(i){n(i)}}),t.addEventListener("success",()=>f(this,null,function*(){let r=t.result;r.objectStoreNames.contains(nd)?e(r):(r.close(),yield OU(),e(yield Vg()))}))})}function $T(t,e,n){return f(this,null,function*(){let r=sd(t,!0).put({[gC]:e,value:n});return new Ni(r).toPromise()})}function kU(t,e){return f(this,null,function*(){let n=sd(t,!1).get(e),r=yield new Ni(n).toPromise();return r===void 0?null:r.value})}function HT(t,e){let n=sd(t,!0).delete(e);return new Ni(n).toPromise()}var FU=800,LU=3,VU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return f(this,null,function*(){return this.db?this.db:(this.db=yield Vg(),this.db)})}_withRetries(n){return f(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>LU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return f(this,null,function*(){return pC()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return f(this,null,function*(){this.receiver=AU._getInstance(NU()),this.receiver._subscribe("keyChanged",(n,r)=>f(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>f(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return f(this,null,function*(){var n,r;if(this.activeServiceWorker=yield xU(),!this.activeServiceWorker)return;this.sender=new Lg(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return f(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||MU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return f(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Vg();return yield $T(n,ed,"1"),yield HT(n,ed),!0}catch{}return!1})}_withPendingWrite(n){return f(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(i=>$T(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return f(this,null,function*(){let r=yield this._withRetries(i=>kU(i,n));return this.localCache[n]=r,r})}_remove(n){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(r=>HT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return f(this,null,function*(){let n=yield this._withRetries(s=>{let o=sd(s,!1).getAll();return new Ni(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>f(this,null,function*(){return this._poll()}),FU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),yC=VU;var R8=uC("rcb"),x8=new Mi(3e4,6e4);function UU(t,e){return e?tr(e):(V(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Sa=class extends Jl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bg(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function jU(t){return wU(t.auth,new Sa(t),t.bypassAuthState)}function BU(t){let{auth:e,user:n}=t;return V(n,e,"internal-error"),IU(n,new Sa(t),t.bypassAuthState)}function $U(t){return f(this,null,function*(){let{auth:e,user:n}=t;return V(n,e,"internal-error"),_U(n,new Sa(t),t.bypassAuthState)})}var Ug=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>f(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return f(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jU;case"linkViaPopup":case"linkViaRedirect":return $U;case"reauthViaPopup":case"reauthViaRedirect":return BU;default:Lr(this.auth,"internal-error")}}resolve(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var M8=new Mi(2e3,1e4);var HU="pendingRedirect",Hl=new Map,jg=class t extends Ug{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return f(this,null,function*(){let e=Hl.get(this.auth._key());if(!e){try{let r=(yield qU(this.resolver,this.auth))?yield ur(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hl.set(this.auth._key(),e)}return this.bypassAuthState||Hl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return f(this,null,function*(){if(e.type==="signInViaRedirect")return ur(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,ur(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return f(this,null,function*(){})}cleanUp(){}};function qU(t,e){return f(this,null,function*(){let n=WU(e),r=GU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function zU(t,e){Hl.set(t._key(),e)}function GU(t){return tr(t._redirectPersistence)}function WU(t){return $l(HU,t.config.apiKey,t.name)}function KU(t,e,n=!1){return f(this,null,function*(){let r=Zg(t),i=UU(r,e),o=yield new jg(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var QU=10*60*1e3,Bg=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vC(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(xi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QU&&this.cachedEventUids.clear(),this.cachedEventUids.has(qT(e))}saveEventToCache(e){this.cachedEventUids.add(qT(e)),this.lastProcessedEventTime=Date.now()}};function qT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function YU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vC(t);default:return!1}}function ZU(n){return f(this,arguments,function*(t,e={}){return qs(t,"GET","/v1/projects",e)})}var JU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XU=/^https?/;function e2(t){return f(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield ZU(t);for(let n of e)try{if(t2(n))return}catch{}Lr(t,"unauthorized-domain")})}function t2(t){let e=Ag(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!XU.test(n))return!1;if(JU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var n2=new Mi(3e4,6e4);function zT(){let t=Cn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function r2(t){return new Promise((e,n)=>{var r,i,s;function o(){zT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zT(),n(xi(t,"network-request-failed"))},timeout:n2.get()})}if(!((i=(r=Cn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Cn().gapi)===null||s===void 0)&&s.load)o();else{let a=uC("iframefcb");return Cn()[a]=()=>{gapi.load?o():n(xi(t,"network-request-failed"))},mU(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw ql=null,e})}var ql=null;function i2(t){return ql=ql||r2(t),ql}var s2=new Mi(5e3,15e3),o2="__/auth/iframe",a2="emulator/auth/iframe",c2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l2(t){let e=t.config;V(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?zg(e,a2):`https://${t.config.authDomain}/${o2}`,r={apiKey:e.apiKey,appName:t.name,v:Tn},i=u2.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ia(r).slice(1)}`}function d2(t){return f(this,null,function*(){let e=yield i2(t),n=Cn().gapi;return V(n,t,"internal-error"),e.open({where:document.body,url:l2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c2,dontclear:!0},r=>new Promise((i,s)=>f(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=xi(t,"network-request-failed"),a=Cn().setTimeout(()=>{s(o)},s2.get());function c(){Cn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var h2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},f2=500,p2=600,m2="_blank",g2="http://localhost",rd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function y2(t,e,n,r=f2,i=p2){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},h2),{width:r.toString(),height:i.toString(),top:s,left:o}),u=be().toLowerCase();n&&(a=nC(u)?m2:n),tC(u)&&(e=e||g2,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(uU(u)&&a!=="_self")return v2(e||"",a),new rd(null);let d=window.open(e||"",a,l);V(d,t,"popup-blocked");try{d.focus()}catch{}return new rd(d)}function v2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var _2="__/auth/handler",I2="emulator/auth/handler",w2=encodeURIComponent("fac");function GT(t,e,n,r,i,s){return f(this,null,function*(){V(t.config.authDomain,t,"auth-domain-config-required"),V(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Tn,eventId:i};if(e instanceof Xl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",IT(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof kg){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${w2}=${encodeURIComponent(c)}`:"";return`${E2(t)}?${Ia(a).slice(1)}${u}`})}function E2({config:t}){return t.emulator?zg(t,I2):`https://${t.authDomain}/${_2}`}var Sg="webStorageSupport",$g=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ny,this._completeRedirectFn=KU,this._overrideRedirectResult=zU}_openPopup(e,n,r,i){return f(this,null,function*(){var s;Vr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield GT(e,n,r,Ag(),i);return y2(e,o,fC())})}_openRedirect(e,n,r,i){return f(this,null,function*(){yield this._originValidation(e);let s=yield GT(e,n,r,Ag(),i);return RU(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Vr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return f(this,null,function*(){let n=yield d2(e),r=new Bg(e);return n.register("authEvent",i=>(V(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sg,{type:Sg},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Sg];o!==void 0&&n(!!o),Lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=e2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aC()||Yg()||id()}},_C=$g;var WT="@firebase/auth",KT="1.5.1";var Hg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return f(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function D2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function T2(t){Dn(new wt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;V(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cC(t)},u=new Og(r,i,s,c);return gU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dn(new wt("auth-internal",e=>{let n=Zg(e.getProvider("auth").getImmediate());return(r=>new Hg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Te(WT,KT,D2(t)),Te(WT,KT,"esm2017")}var C2=5*60,b2=ag("authIdTokenMaxAge")||C2,QT=null,S2=t=>e=>f(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>b2)return;let i=n?.token;QT!==i&&(QT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function ry(t=Pr()){let e=Si(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Jg(t,{popupRedirectResolver:_C,persistence:[yC,hC,ny]}),r=ag("authTokenSyncURL");if(r){let s=S2(r);ty(n,s,()=>s(n.currentUser)),ey(n,o=>s(o))}let i=sg("auth");return i&&Xg(n,`http://${i}`),n}T2("Browser");var IC="auth",Aa=class{constructor(e){return e}},Pi=class{constructor(){return Ri(IC)}};var iy=new N("angularfire2.auth-instances");function wj(t,e){let n=Hs(IC,t,e);return n&&new Aa(n)}function Ej(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Aa(r)}}var Dj={provide:Pi,deps:[[new ke,iy]]},Tj={provide:Aa,useFactory:wj,deps:[[new ke,iy],rn]},Cj=(()=>{class t{constructor(){Te("angularfire",Jn.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=it({type:t});static \u0275inj=rt({providers:[Tj,Dj]})}return t})();function wC(t,...e){return{ngModule:Cj,providers:[{provide:iy,useFactory:Ej(t),multi:!0,deps:[ue,ht,kr,Xn,[new ke,Or],...e]}]}}var EC=ze(ry,!0);var bj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},on={},D,by=by||{},k=bj||self;function _d(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function $a(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Sj(t){return Object.prototype.hasOwnProperty.call(t,sy)&&t[sy]||(t[sy]=++Aj)}var sy="closure_uid_"+(1e9*Math.random()>>>0),Aj=0;function Rj(t,e,n){return t.call.apply(t.bind,arguments)}function xj(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function st(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?st=Rj:st=xj,st.apply(null,arguments)}function od(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function We(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ur(){this.s=this.s,this.o=this.o}var Mj=0;Ur.prototype.s=!1;Ur.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Mj!=0)&&Sj(this)};Ur.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var kC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Sy(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function DC(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(_d(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ot(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var Nj=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};k.addEventListener("test",n,e),k.removeEventListener("test",n,e)}catch{}return t}();function Oa(t){return/^[\s\xa0]*$/.test(t)}function Id(){var t=k.navigator;return t&&(t=t.userAgent)?t:""}function bn(t){return Id().indexOf(t)!=-1}function Ay(t){return Ay[" "](t),t}Ay[" "]=function(){};function Pj(t,e){var n=wB;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Oj=bn("Opera"),Ks=bn("Trident")||bn("MSIE"),FC=bn("Edge"),ly=FC||Ks,LC=bn("Gecko")&&!(Id().toLowerCase().indexOf("webkit")!=-1&&!bn("Edge"))&&!(bn("Trident")||bn("MSIE"))&&!bn("Edge"),kj=Id().toLowerCase().indexOf("webkit")!=-1&&!bn("Edge");function VC(){var t=k.document;return t?t.documentMode:void 0}var dy;e:{if(ad="",cd=function(){var t=Id();if(LC)return/rv:([^\);]+)(\)|;)/.exec(t);if(FC)return/Edge\/([\d\.]+)/.exec(t);if(Ks)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(kj)return/WebKit\/(\S+)/.exec(t);if(Oj)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),cd&&(ad=cd?cd[1]:""),Ks&&(ud=VC(),ud!=null&&ud>parseFloat(ad))){dy=String(ud);break e}dy=ad}var ad,cd,ud,hy;k.document&&Ks?(oy=VC(),hy=oy||parseInt(dy,10)||void 0):hy=void 0;var oy,Fj=hy;function ka(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(LC){e:{try{Ay(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Lj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ka.$.h.call(this)}}We(ka,ot);var Lj={2:"touch",3:"pen",4:"mouse"};ka.prototype.h=function(){ka.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ha="closure_listenable_"+(1e6*Math.random()|0),Vj=0;function Uj(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Vj,this.fa=this.ia=!1}function wd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ry(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function jj(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function UC(t){let e={};for(let n in t)e[n]=t[n];return e}var TC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<TC.length;s++)n=TC[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ed(t){this.src=t,this.g={},this.h=0}Ed.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=py(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Uj(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function fy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=kC(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(wd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function py(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var xy="closure_lm_"+(1e6*Math.random()|0),ay={};function BC(t,e,n,r,i){if(r&&r.once)return HC(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)BC(t,e[s],n,r,i);return null}return n=Py(n),t&&t[Ha]?t.O(e,n,$a(r)?!!r.capture:!!r,i):$C(t,e,n,!1,r,i)}function $C(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=$a(i)?!!i.capture:!!i,a=Ny(t);if(a||(t[xy]=a=new Ed(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=Bj(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Nj||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(zC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Bj(){function t(n){return e.call(t.src,t.listener,n)}let e=$j;return t}function HC(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)HC(t,e[s],n,r,i);return null}return n=Py(n),t&&t[Ha]?t.P(e,n,$a(r)?!!r.capture:!!r,i):$C(t,e,n,!0,r,i)}function qC(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)qC(t,e[s],n,r,i);else r=$a(r)?!!r.capture:!!r,n=Py(n),t&&t[Ha]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=py(s,n,r,i),-1<n&&(wd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ny(t))&&(e=t.g[e.toString()],t=-1,e&&(t=py(e,n,r,i)),(n=-1<t?e[t]:null)&&My(n))}function My(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ha])fy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(zC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ny(e))?(fy(n,t),n.h==0&&(n.src=null,e[xy]=null)):wd(t)}}}function zC(t){return t in ay?ay[t]:ay[t]="on"+t}function $j(t,e){if(t.fa)t=!0;else{e=new ka(e,this);var n=t.listener,r=t.la||t.src;t.ia&&My(t),t=n.call(r,e)}return t}function Ny(t){return t=t[xy],t instanceof Ed?t:null}var cy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Py(t){return typeof t=="function"?t:(t[cy]||(t[cy]=function(e){return t.handleEvent(e)}),t[cy])}function Ge(){Ur.call(this),this.i=new Ed(this),this.S=this,this.J=null}We(Ge,Ur);Ge.prototype[Ha]=!0;Ge.prototype.removeEventListener=function(t,e,n,r){qC(this,t,e,n,r)};function Je(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ot(e,t);else if(e instanceof ot)e.target=e.target||t;else{var i=e;e=new ot(r,t),jC(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ld(o,r,!0,e)&&i}if(o=e.g=t,i=ld(o,r,!0,e)&&i,i=ld(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=ld(o,r,!1,e)&&i}Ge.prototype.N=function(){if(Ge.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)wd(n[r]);delete t.g[e],t.h--}}this.J=null};Ge.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ge.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ld(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&fy(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Oy=k.JSON.stringify,my=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function Hj(){var t=ky;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var gy=class{constructor(){this.h=this.g=null}add(e,n){let r=GC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},GC=new my(()=>new yy,t=>t.reset()),yy=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function qj(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function zj(t){k.setTimeout(()=>{throw t},0)}var Fa,La=!1,ky=new gy,WC=()=>{let t=k.Promise.resolve(void 0);Fa=()=>{t.then(Gj)}},Gj=()=>{for(var t;t=Hj();){try{t.h.call(t.g)}catch(n){zj(n)}var e=GC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}La=!1};function Dd(t,e){Ge.call(this),this.h=t||1,this.g=e||k,this.j=st(this.qb,this),this.l=Date.now()}We(Dd,Ge);D=Dd.prototype;D.ga=!1;D.T=null;D.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Je(this,"tick"),this.ga&&(Fy(this),this.start()))}};D.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Fy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}D.N=function(){Dd.$.N.call(this),Fy(this),delete this.g};function Ly(t,e,n){if(typeof t=="function")n&&(t=st(t,n));else if(t&&typeof t.handleEvent=="function")t=st(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:k.setTimeout(t,e||0)}function KC(t){t.g=Ly(()=>{t.g=null,t.i&&(t.i=!1,KC(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var vy=class extends Ur{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:KC(this)}N(){super.N(),this.g&&(k.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Va(t){Ur.call(this),this.h=t,this.g={}}We(Va,Ur);var CC=[];function QC(t,e,n,r){Array.isArray(n)||(n&&(CC[0]=n.toString()),n=CC);for(var i=0;i<n.length;i++){var s=BC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function YC(t){Ry(t.g,function(e,n){this.g.hasOwnProperty(n)&&My(e)},t),t.g={}}Va.prototype.N=function(){Va.$.N.call(this),YC(this)};Va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Td(){this.g=!0}Td.prototype.Ea=function(){this.g=!1};function Wj(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Kj(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Gs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Yj(t,n)+(r?" "+r:"")})}function Qj(t,e){t.info(function(){return"TIMEOUT: "+e})}Td.prototype.info=function(){};function Yj(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Oy(n)}catch{return e}}var Li={},bC=null;function Cd(){return bC=bC||new Ge}Li.Ta="serverreachability";function ZC(t){ot.call(this,Li.Ta,t)}We(ZC,ot);function Ua(t){let e=Cd();Je(e,new ZC(e))}Li.STAT_EVENT="statevent";function JC(t,e){ot.call(this,Li.STAT_EVENT,t),this.stat=e}We(JC,ot);function gt(t){let e=Cd();Je(e,new JC(e,t))}Li.Ua="timingevent";function XC(t,e){ot.call(this,Li.Ua,t),this.size=e}We(XC,ot);function qa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){t()},e)}var bd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},eb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Vy(){}Vy.prototype.h=null;function SC(t){return t.h||(t.h=t.i())}function tb(){}var za={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Uy(){ot.call(this,"d")}We(Uy,ot);function jy(){ot.call(this,"c")}We(jy,ot);var _y;function Sd(){}We(Sd,Vy);Sd.prototype.g=function(){return new XMLHttpRequest};Sd.prototype.i=function(){return{}};_y=new Sd;function Ga(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Va(this),this.P=Zj,t=ly?125:void 0,this.V=new Dd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new nb}function nb(){this.i=null,this.g="",this.h=!1}var Zj=45e3,rb={},Iy={};D=Ga.prototype;D.setTimeout=function(t){this.P=t};function wy(t,e,n){t.L=1,t.A=Rd(rr(e)),t.u=n,t.S=!0,ib(t,null)}function ib(t,e){t.G=Date.now(),Wa(t),t.B=rr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),hb(n.i,"t",r),t.o=0,n=t.l.J,t.h=new nb,t.g=Pb(t.l,n?e:null,!t.u),0<t.O&&(t.M=new vy(st(t.Pa,t,t.g),t.O)),QC(t.U,t.g,"readystatechange",t.nb),e=t.I?UC(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ua(),Wj(t.j,t.v,t.B,t.m,t.W,t.u)}D.nb=function(t){t=t.target;let e=this.M;e&&Sn(t)==3?e.l():this.Pa(t)};D.Pa=function(t){try{if(t==this.g)e:{let l=Sn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||ly||this.g&&(this.h.h||this.g.ja()||MC(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Ua(3):Ua(2)),Ad(this);var n=this.g.da();this.ca=n;t:if(sb(this)){var r=MC(this.g);t="";var i=r.length,s=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oi(this),Pa(this);var o="";break t}this.h.i=new k.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Kj(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oa(a)){var u=a;break t}}u=null}if(n=u)Gs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ey(this,n);else{this.i=!1,this.s=3,gt(12),Oi(this),Pa(this);break e}}this.S?(ob(this,l,o),ly&&this.i&&l==3&&(QC(this.U,this.V,"tick",this.mb),this.V.start())):(Gs(this.j,this.m,o,null),Ey(this,o)),l==4&&Oi(this),this.i&&!this.J&&(l==4?Rb(this.l,this):(this.i=!1,Wa(this)))}else vB(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),Oi(this),Pa(this)}}}catch{}finally{}};function sb(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function ob(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=Jj(t,n),i==Iy){e==4&&(t.s=4,gt(14),r=!1),Gs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==rb){t.s=4,gt(15),Gs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Gs(t.j,t.m,i,null),Ey(t,i);sb(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,gt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gy(e),e.M=!0,gt(11))):(Gs(t.j,t.m,n,"[Invalid Chunked Response]"),Oi(t),Pa(t))}D.mb=function(){if(this.g){var t=Sn(this.g),e=this.g.ja();this.o<e.length&&(Ad(this),ob(this,t,e),this.i&&t!=4&&Wa(this))}};function Jj(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Iy:(n=Number(e.substring(n,r)),isNaN(n)?rb:(r+=1,r+n>e.length?Iy:(e=e.slice(r,r+n),t.o=r+n,e)))}D.cancel=function(){this.J=!0,Oi(this)};function Wa(t){t.Y=Date.now()+t.P,ab(t,t.P)}function ab(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=qa(st(t.lb,t),e)}function Ad(t){t.C&&(k.clearTimeout(t.C),t.C=null)}D.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(Qj(this.j,this.B),this.L!=2&&(Ua(),gt(17)),Oi(this),this.s=2,Pa(this)):ab(this,this.Y-t)};function Pa(t){t.l.H==0||t.J||Rb(t.l,t)}function Oi(t){Ad(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Fy(t.V),YC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Ey(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Dy(n.i,t))){if(!t.K&&Dy(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)md(n),Nd(n);else break e;zy(n),gt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=qa(st(n.ib,n),6e3));if(1>=mb(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ki(n,11)}else if((t.K||n.g==t)&&md(n),!Oa(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let p=t.g;if(p){let m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(By(s,s.h),s.h=null))}if(r.F){let w=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,De(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Nb(r,r.J?r.pa:null,r.Y),o.K){gb(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Ad(a),Wa(a)),r.g=o}else Sb(r);0<n.j.length&&Pd(n)}else u[0]!="stop"&&u[0]!="close"||ki(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ki(n,7):qy(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ua(4)}catch{}}function Xj(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(_d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function eB(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(_d(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function cb(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(_d(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=eB(t),r=Xj(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var ub=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tB(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Fi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Fi){this.h=t.h,fd(this,t.j),this.s=t.s,this.g=t.g,pd(this,t.m),this.l=t.l;var e=t.i,n=new ja;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),AC(this,n),this.o=t.o}else t&&(e=String(t).match(ub))?(this.h=!1,fd(this,e[1]||"",!0),this.s=Ma(e[2]||""),this.g=Ma(e[3]||"",!0),pd(this,e[4]),this.l=Ma(e[5]||"",!0),AC(this,e[6]||"",!0),this.o=Ma(e[7]||"")):(this.h=!1,this.i=new ja(null,this.h))}Fi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Na(e,RC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Na(e,RC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Na(n,n.charAt(0)=="/"?iB:rB,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Na(n,oB)),t.join("")};function rr(t){return new Fi(t)}function fd(t,e,n){t.j=n?Ma(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function pd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function AC(t,e,n){e instanceof ja?(t.i=e,aB(t.i,t.h)):(n||(e=Na(e,sB)),t.i=new ja(e,t.h))}function De(t,e,n){t.i.set(e,n)}function Rd(t){return De(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ma(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Na(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,nB),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function nB(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var RC=/[#\/\?@]/g,rB=/[#\?:]/g,iB=/[#\?]/g,sB=/[#\?@]/g,oB=/#/g;function ja(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function jr(t){t.g||(t.g=new Map,t.h=0,t.i&&tB(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}D=ja.prototype;D.add=function(t,e){jr(this),this.i=null,t=Qs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function lb(t,e){jr(t),e=Qs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function db(t,e){return jr(t),e=Qs(t,e),t.g.has(e)}D.forEach=function(t,e){jr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};D.ta=function(){jr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};D.Z=function(t){jr(this);let e=[];if(typeof t=="string")db(this,t)&&(e=e.concat(this.g.get(Qs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};D.set=function(t,e){return jr(this),this.i=null,t=Qs(this,t),db(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};D.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function hb(t,e,n){lb(t,e),0<n.length&&(t.i=null,t.g.set(Qs(t,e),Sy(n)),t.h+=n.length)}D.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Qs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function aB(t,e){e&&!t.j&&(jr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(lb(this,r),hb(this,i,n))},t)),t.j=e}var cB=class{constructor(t,e){this.g=t,this.map=e}};function fb(t){this.l=t||uB,k.PerformanceNavigationTiming?(t=k.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(k.g&&k.g.Ka&&k.g.Ka()&&k.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var uB=10;function pb(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function mb(t){return t.h?1:t.g?t.g.size:0}function Dy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function By(t,e){t.g?t.g.add(e):t.h=e}function gb(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}fb.prototype.cancel=function(){if(this.i=yb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function yb(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Sy(t.i)}var lB=class{stringify(t){return k.JSON.stringify(t,void 0)}parse(t){return k.JSON.parse(t,void 0)}};function dB(){this.g=new lB}function hB(t,e,n){let r=n||"";try{cb(t,function(i,s){let o=i;$a(i)&&(o=Oy(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function fB(t,e){let n=new Td;if(k.Image){let r=new Image;r.onload=od(dd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=od(dd,n,r,"TestLoadImage: error",!1,e),r.onabort=od(dd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=od(dd,n,r,"TestLoadImage: timeout",!1,e),k.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function dd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ka(t){this.l=t.ec||null,this.j=t.ob||!1}We(Ka,Vy);Ka.prototype.g=function(){return new xd(this.l,this.j)};Ka.prototype.i=function(t){return function(){return t}}({});function xd(t,e){Ge.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=$y,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}We(xd,Ge);var $y=0;D=xd.prototype;D.open=function(t,e){if(this.readyState!=$y)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ba(this)};D.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||k).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};D.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qa(this)),this.readyState=$y};D.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ba(this)),this.g&&(this.readyState=3,Ba(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof k.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vb(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function vb(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}D.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Qa(this):Ba(this),this.readyState==3&&vb(this)}};D.Za=function(t){this.g&&(this.response=this.responseText=t,Qa(this))};D.Ya=function(t){this.g&&(this.response=t,Qa(this))};D.ka=function(){this.g&&Qa(this)};function Qa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ba(t)}D.setRequestHeader=function(t,e){this.v.append(t,e)};D.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};D.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ba(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(xd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var pB=k.JSON.parse;function Se(t){Ge.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_b,this.L=this.M=!1}We(Se,Ge);var _b="",mB=/^https?$/i,gB=["POST","PUT"];D=Se.prototype;D.Oa=function(t){this.M=t};D.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_y.g(),this.C=this.u?SC(this.u):SC(_y),this.g.onreadystatechange=st(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){xC(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=k.FormData&&t instanceof k.FormData,!(0<=kC(gB,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Eb(this),0<this.B&&((this.L=yB(this.g))?(this.g.timeout=this.B,this.g.ontimeout=st(this.ua,this)):this.A=Ly(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){xC(this,s)}};function yB(t){return Ks&&typeof t.timeout=="number"&&t.ontimeout!==void 0}D.ua=function(){typeof by<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Je(this,"timeout"),this.abort(8))};function xC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Ib(t),Md(t)}function Ib(t){t.F||(t.F=!0,Je(t,"complete"),Je(t,"error"))}D.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Je(this,"complete"),Je(this,"abort"),Md(this))};D.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Md(this,!0)),Se.$.N.call(this)};D.La=function(){this.s||(this.G||this.v||this.l?wb(this):this.kb())};D.kb=function(){wb(this)};function wb(t){if(t.h&&typeof by<"u"&&(!t.C[1]||Sn(t)!=4||t.da()!=2)){if(t.v&&Sn(t)==4)Ly(t.La,0,t);else if(Je(t,"readystatechange"),Sn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(ub)[1]||null;!i&&k.self&&k.self.location&&(i=k.self.location.protocol.slice(0,-1)),r=!mB.test(i?i.toLowerCase():"")}n=r}if(n)Je(t,"complete"),Je(t,"success");else{t.m=6;try{var s=2<Sn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Ib(t)}}finally{Md(t)}}}}function Md(t,e){if(t.g){Eb(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Je(t,"ready");try{n.onreadystatechange=r}catch{}}}function Eb(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(k.clearTimeout(t.A),t.A=null)}D.isActive=function(){return!!this.g};function Sn(t){return t.g?t.g.readyState:0}D.da=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}};D.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};D.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),pB(e)}};function MC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case _b:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function vB(t){let e={};t=(t.g&&2<=Sn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Oa(t[r]))continue;var n=qj(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}jj(e,function(r){return r.join(", ")})}D.Ia=function(){return this.m};D.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Db(t){let e="";return Ry(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Hy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Db(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):De(t,e,n))}function Ra(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Tb(t){this.Ga=0,this.j=[],this.l=new Td,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ra("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ra("baseRetryDelayMs",5e3,t),this.hb=Ra("retryDelaySeedMs",1e4,t),this.eb=Ra("forwardChannelMaxRetries",2,t),this.xa=Ra("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new fb(t&&t.concurrentRequestLimit),this.Ja=new dB,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}D=Tb.prototype;D.ra=8;D.H=1;function qy(t){if(Cb(t),t.H==3){var e=t.W++,n=rr(t.I);if(De(n,"SID",t.K),De(n,"RID",e),De(n,"TYPE","terminate"),Ya(t,n),e=new Ga(t,t.l,e),e.L=2,e.A=Rd(rr(n)),n=!1,k.navigator&&k.navigator.sendBeacon)try{n=k.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&k.Image&&(new Image().src=e.A,n=!0),n||(e.g=Pb(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Wa(e)}Mb(t)}function Nd(t){t.g&&(Gy(t),t.g.cancel(),t.g=null)}function Cb(t){Nd(t),t.u&&(k.clearTimeout(t.u),t.u=null),md(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&k.clearTimeout(t.m),t.m=null)}function Pd(t){if(!pb(t.i)&&!t.m){t.m=!0;var e=t.Na;Fa||WC(),La||(Fa(),La=!0),ky.add(e,t),t.C=0}}function _B(t,e){return mb(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=qa(st(t.Na,t,e),xb(t,t.C)),t.C++,!0)}D.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Ga(this,this.l,t),s=this.s;if(this.U&&(s?(s=UC(s),jC(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=bb(this,i,e),n=rr(this.I),De(n,"RID",t),De(n,"CVER",22),this.F&&De(n,"X-HTTP-Session-Id",this.F),Ya(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Db(s)))+"&"+e:this.o&&Hy(n,this.o,s)),By(this.i,i),this.bb&&De(n,"TYPE","init"),this.P?(De(n,"$req",e),De(n,"SID","null"),i.aa=!0,wy(i,n,null)):wy(i,n,e),this.H=2}}else this.H==3&&(t?NC(this,t):this.j.length==0||pb(this.i)||NC(this))};function NC(t,e){var n;e?n=e.m:n=t.W++;let r=rr(t.I);De(r,"SID",t.K),De(r,"RID",n),De(r,"AID",t.V),Ya(t,r),t.o&&t.s&&Hy(r,t.o,t.s),n=new Ga(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=bb(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),By(t.i,n),wy(n,r,e)}function Ya(t,e){t.na&&Ry(t.na,function(n,r){De(e,r,n)}),t.h&&cb({},function(n,r){De(e,r,n)})}function bb(t,e,n){n=Math.min(t.j.length,n);var r=t.h?st(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{hB(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Sb(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Fa||WC(),La||(Fa(),La=!0),ky.add(e,t),t.A=0}}function zy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=qa(st(t.Ma,t),xb(t,t.A)),t.A++,!0)}D.Ma=function(){if(this.u=null,Ab(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=qa(st(this.jb,this),t)}};D.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,gt(10),Nd(this),Ab(this))};function Gy(t){t.B!=null&&(k.clearTimeout(t.B),t.B=null)}function Ab(t){t.g=new Ga(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=rr(t.wa);De(e,"RID","rpc"),De(e,"SID",t.K),De(e,"AID",t.V),De(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&De(e,"TO",t.qa),De(e,"TYPE","xmlhttp"),Ya(t,e),t.o&&t.s&&Hy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Rd(rr(e)),n.u=null,n.S=!0,ib(n,t)}D.ib=function(){this.v!=null&&(this.v=null,Nd(this),zy(this),gt(19))};function md(t){t.v!=null&&(k.clearTimeout(t.v),t.v=null)}function Rb(t,e){var n=null;if(t.g==e){md(t),Gy(t),t.g=null;var r=2}else if(Dy(t.i,e))n=e.F,gb(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Cd(),Je(r,new XC(r,n)),Pd(t)}else Sb(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&_B(t,e)||r==2&&zy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ki(t,5);break;case 4:ki(t,10);break;case 3:ki(t,6);break;default:ki(t,2)}}}function xb(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ki(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=st(t.pb,t);n||(n=new Fi("//www.google.com/images/cleardot.gif"),k.location&&k.location.protocol=="http"||fd(n,"https"),Rd(n)),fB(n.toString(),r)}else gt(2);t.H=0,t.h&&t.h.za(e),Mb(t),Cb(t)}D.pb=function(t){t?(this.l.info("Successfully pinged google.com"),gt(2)):(this.l.info("Failed to ping google.com"),gt(1))};function Mb(t){if(t.H=0,t.ma=[],t.h){let e=yb(t.i);(e.length!=0||t.j.length!=0)&&(DC(t.ma,e),DC(t.ma,t.j),t.i.i.length=0,Sy(t.j),t.j.length=0),t.h.ya()}}function Nb(t,e,n){var r=n instanceof Fi?rr(n):new Fi(n);if(r.g!="")e&&(r.g=e+"."+r.g),pd(r,r.m);else{var i=k.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Fi(null);r&&fd(s,r),e&&(s.g=e),i&&pd(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&De(r,n,e),De(r,"VER",t.ra),Ya(t,r),r}function Pb(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Se(new Ka({ob:n})):new Se(t.va),e.Oa(t.J),e}D.isActive=function(){return!!this.h&&this.h.isActive(this)};function Ob(){}D=Ob.prototype;D.Ba=function(){};D.Aa=function(){};D.za=function(){};D.ya=function(){};D.isActive=function(){return!0};D.Va=function(){};function gd(){if(Ks&&!(10<=Number(Fj)))throw Error("Environmental error: no available transport.")}gd.prototype.g=function(t,e){return new Mt(t,e)};function Mt(t,e){Ge.call(this),this.g=new Tb(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Oa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Oa(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ys(this)}We(Mt,Ge);Mt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;gt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Nb(t,null,t.Y),Pd(t)};Mt.prototype.close=function(){qy(this.g)};Mt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Oy(t),t=n);e.j.push(new cB(e.fb++,t)),e.H==3&&Pd(e)};Mt.prototype.N=function(){this.g.h=null,delete this.j,qy(this.g),delete this.g,Mt.$.N.call(this)};function kb(t){Uy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}We(kb,Uy);function Fb(){jy.call(this),this.status=1}We(Fb,jy);function Ys(t){this.g=t}We(Ys,Ob);Ys.prototype.Ba=function(){Je(this.g,"a")};Ys.prototype.Aa=function(t){Je(this.g,new kb(t))};Ys.prototype.za=function(t){Je(this.g,new Fb)};Ys.prototype.ya=function(){Je(this.g,"b")};function IB(){this.blockSize=-1}function sn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}We(sn,IB);sn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function uy(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}sn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)uy(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){uy(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){uy(this,r),i=0;break}}this.h=i,this.i+=e};sn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function pe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var wB={};function Wy(t){return-128<=t&&128>t?Pj(t,function(e){return new pe([e|0],0>e?-1:0)}):new pe([t|0],0>t?-1:0)}function An(t){if(isNaN(t)||!isFinite(t))return Ws;if(0>t)return Ze(An(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Ty;return new pe(e,0)}function Lb(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ze(Lb(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=An(Math.pow(e,8)),r=Ws,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=An(Math.pow(e,s)),r=r.R(s).add(An(o))):(r=r.R(n),r=r.add(An(o)))}return r}var Ty=4294967296,Ws=Wy(0),Cy=Wy(1),PC=Wy(16777216);D=pe.prototype;D.ea=function(){if(qt(this))return-Ze(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Ty+r)*e,e*=Ty}return t};D.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(nr(this))return"0";if(qt(this))return"-"+Ze(this).toString(t);for(var e=An(Math.pow(t,6)),n=this,r="";;){var i=vd(n,e).g;n=yd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,nr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};D.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function nr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function qt(t){return t.h==-1}D.X=function(t){return t=yd(this,t),qt(t)?-1:nr(t)?0:1};function Ze(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new pe(n,~t.h).add(Cy)}D.abs=function(){return qt(this)?Ze(this):this};D.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new pe(n,n[n.length-1]&-2147483648?-1:0)};function yd(t,e){return t.add(Ze(e))}D.R=function(t){if(nr(this)||nr(t))return Ws;if(qt(this))return qt(t)?Ze(this).R(Ze(t)):Ze(Ze(this).R(t));if(qt(t))return Ze(this.R(Ze(t)));if(0>this.X(PC)&&0>t.X(PC))return An(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,hd(n,2*r+2*i),n[2*r+2*i+1]+=s*c,hd(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,hd(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,hd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new pe(n,0)};function hd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function xa(t,e){this.g=t,this.h=e}function vd(t,e){if(nr(e))throw Error("division by zero");if(nr(t))return new xa(Ws,Ws);if(qt(t))return e=vd(Ze(t),e),new xa(Ze(e.g),Ze(e.h));if(qt(e))return e=vd(t,Ze(e)),new xa(Ze(e.g),e.h);if(30<t.g.length){if(qt(t)||qt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Cy,r=e;0>=r.X(t);)n=OC(n),r=OC(r);var i=zs(n,1),s=zs(r,1);for(r=zs(r,2),n=zs(n,2);!nr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=zs(r,1),n=zs(n,1)}return e=yd(t,i.R(e)),new xa(i,e)}for(i=Ws;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=An(n),o=s.R(e);qt(o)||0<o.X(t);)n-=r,s=An(n),o=s.R(e);nr(s)&&(s=Cy),i=i.add(s),t=yd(t,o)}return new xa(i,t)}D.gb=function(t){return vd(this,t).h};D.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new pe(n,this.h&t.h)};D.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new pe(n,this.h|t.h)};D.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new pe(n,this.h^t.h)};function OC(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new pe(n,t.h)}function zs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new pe(i,t.h)}gd.prototype.createWebChannel=gd.prototype.g;Mt.prototype.send=Mt.prototype.u;Mt.prototype.open=Mt.prototype.m;Mt.prototype.close=Mt.prototype.close;bd.NO_ERROR=0;bd.TIMEOUT=8;bd.HTTP_ERROR=6;eb.COMPLETE="complete";tb.EventType=za;za.OPEN="a";za.CLOSE="b";za.ERROR="c";za.MESSAGE="d";Ge.prototype.listen=Ge.prototype.O;Se.prototype.listenOnce=Se.prototype.P;Se.prototype.getLastError=Se.prototype.Sa;Se.prototype.getLastErrorCode=Se.prototype.Ia;Se.prototype.getStatus=Se.prototype.da;Se.prototype.getResponseJson=Se.prototype.Wa;Se.prototype.getResponseText=Se.prototype.ja;Se.prototype.send=Se.prototype.ha;Se.prototype.setWithCredentials=Se.prototype.Oa;sn.prototype.digest=sn.prototype.l;sn.prototype.reset=sn.prototype.reset;sn.prototype.update=sn.prototype.j;pe.prototype.add=pe.prototype.add;pe.prototype.multiply=pe.prototype.R;pe.prototype.modulo=pe.prototype.gb;pe.prototype.compare=pe.prototype.X;pe.prototype.toNumber=pe.prototype.ea;pe.prototype.toString=pe.prototype.toString;pe.prototype.getBits=pe.prototype.D;pe.fromNumber=An;pe.fromString=Lb;var Vb=on.createWebChannelTransport=function(){return new gd},Ub=on.getStatEventTarget=function(){return Cd()},Od=on.ErrorCode=bd,jb=on.EventType=eb,Bb=on.Event=Li,Ky=on.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_K=on.FetchXmlHttpFactory=Ka,Za=on.WebChannel=tb,$b=on.XhrIo=Se,Hb=on.Md5=sn,Vi=on.Integer=pe;var qb="@firebase/firestore";var Ke=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");var go="10.7.2";var qi=new Mr("@firebase/firestore");function Ja(){return qi.logLevel}function T(t,...e){if(qi.logLevel<=X.DEBUG){let n=e.map(O_);qi.debug(`Firestore (${go}): ${t}`,...n)}}function Pn(t,...e){if(qi.logLevel<=X.ERROR){let n=e.map(O_);qi.error(`Firestore (${go}): ${t}`,...n)}}function ro(t,...e){if(qi.logLevel<=X.WARN){let n=e.map(O_);qi.warn(`Firestore (${go}): ${t}`,...n)}}function O_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function O(t="Unexpected state"){let e=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: `+t;throw Pn(e),new Error(e)}function Ee(t,e){t||O()}function $(t,e){return t}var g={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=class extends mt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Gt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Ud=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Xy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}},ev=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},tv=class{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Gt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gt,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>f(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gt)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string"),new Ud(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string"),new Ke(e)}},nv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},rv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new nv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}},iv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},sv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string"),this.R=n.token,new iv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function EB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var jd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=EB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ce(t,e){return t<e?-1:t>e?1:0}function io(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Xe=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var B=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Xe(0,0))}static max(){return new t(new Xe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Bd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&O(),r===void 0?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ce=class t extends Bd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new C(g.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},DB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Pt=class t extends Bd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return DB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new C(g.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new C(g.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new C(g.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(g.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var x=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ce.fromString(e))}static fromName(e){return new t(Ce.fromString(e).popFirst(5))}static empty(){return new t(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ce(e.slice()))}};var ov=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};ov.UNKNOWN_ID=-1;function TB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=B.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new zi(i,x.empty(),e)}function CB(t){return new zi(t.readTime,t.key,-1)}var zi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(B.min(),x.empty(),-1)}static max(){return new t(B.max(),x.empty(),-1)}};function bB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=x.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}var SB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",av=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function gc(t){return f(this,null,function*(){if(t.code!==g.FAILED_PRECONDITION||t.message!==SB)throw t;T("LocalStore","Unexpectedly lost primary lease")})}var I=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var cv=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Gt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Hi(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=k_(r.target.error);this.V.reject(new Hi(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new Hi(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(T("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new lv(n)}},$d=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(be())===12.2&&Pn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return T("SimpleDb","Removing database:",e),Ui(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ol())return!1;if(t.C())return!0;let e=be(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return f(this,null,function*(){return this.db||(T("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new Hi(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new C(g.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new C(g.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Hi(e,o))},i.onupgradeneeded=s=>{T("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{T("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return f(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=cv.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),I.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(T("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},uv=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ui(this.k.delete())}},Hi=class extends C{constructor(e,n){super(g.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function yc(t){return t.name==="IndexedDbTransactionError"}var lv=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(T("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(T("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ui(r)}add(e){return T("SimpleDb","ADD",this.store.name,e,e),Ui(this.store.add(e))}get(e){return Ui(this.store.get(e)).next(n=>(n===void 0&&(n=null),T("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return T("SimpleDb","DELETE",this.store.name,e),Ui(this.store.delete(e))}count(){return T("SimpleDb","COUNT",this.store.name),Ui(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new I((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new I((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){T("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new I((r,i)=>{n.onerror=s=>{let o=k_(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new I((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new uv(a),u=n(a.primaryKey,a.value,c);if(u instanceof I){let l=u.catch(d=>(c.done(),I.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>I.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Ui(t){return new I((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=k_(r.target.error);n(i)}})}var zb=!1;function k_(t){let e=$d.S(be());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new C("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zb||(zb=!0,setTimeout(()=>{throw r},0)),r}}return t}var wS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function wh(t){return t==null}function ic(t){return t===0&&1/t==-1/0}function AB(t){return typeof t=="number"&&Number.isInteger(t)&&!ic(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var RB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],RK=[...RB,"documentOverlays"],xB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],MB=xB,xK=[...MB,"indexConfiguration","indexState","indexEntries"];function Gb(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ji(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ES(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Re=class t{constructor(e,n){this.comparator=e,this.root=n||xn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eo(this.root,e,this.comparator,!1)}getReverseIterator(){return new eo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eo(this.root,e,this.comparator,!0)}},eo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},xn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();let e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}};xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(e,n,r,i,s){return this}insert(e,n,r){return new xn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ct=class t{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hd(this.data.getIterator())}getIteratorFrom(e){return new Hd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Hd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var zt=class t{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ct(Pt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return io(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var qd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var yt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new qd("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};yt.EMPTY_BYTE_STRING=new yt("");var NB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(t){if(Ee(!!t),typeof t=="string"){let e=0,n=NB.exec(t);if(Ee(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(t.seconds),nanos:Ae(t.nanos)}}function Ae(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qr(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}function F_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function L_(t){let e=t.mapValue.fields.__previous_value__;return F_(e)?L_(e):e}function sc(t){let e=Hr(t.mapValue.fields.__local_write_time__.timestampValue);return new Xe(e.seconds,e.nanos)}var dv=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},zd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var kd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?F_(t)?4:DS(t)?9007199254740991:10:O()}function On(t,e){if(t===e)return!0;let n=Gi(t);if(n!==Gi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sc(t).isEqual(sc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Hr(i.timestampValue),a=Hr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return qr(i.bytesValue).isEqual(qr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ae(i.geoPointValue.latitude)===Ae(s.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ae(i.integerValue)===Ae(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ae(i.doubleValue),a=Ae(s.doubleValue);return o===a?ic(o)===ic(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return io(t.arrayValue.values||[],e.arrayValue.values||[],On);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Gb(o)!==Gb(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!On(o[c],a[c])))return!1;return!0}(t,e);default:return O()}}function oc(t,e){return(t.values||[]).find(n=>On(n,e))!==void 0}function so(t,e){if(t===e)return 0;let n=Gi(t),r=Gi(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ae(s.integerValue||s.doubleValue),c=Ae(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Wb(t.timestampValue,e.timestampValue);case 4:return Wb(sc(t),sc(e));case 5:return ce(t.stringValue,e.stringValue);case 6:return function(s,o){let a=qr(s),c=qr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=ce(a[u],c[u]);if(l!==0)return l}return ce(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ce(Ae(s.latitude),Ae(o.latitude));return a!==0?a:ce(Ae(s.longitude),Ae(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=so(a[u],c[u]);if(l)return l}return ce(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===kd.mapValue&&o===kd.mapValue)return 0;if(s===kd.mapValue)return 1;if(o===kd.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=ce(c[d],l[d]);if(h!==0)return h;let p=so(a[c[d]],u[l[d]]);if(p!==0)return p}return ce(c.length,l.length)}(t.mapValue,e.mapValue);default:throw O()}}function Wb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);let n=Hr(t),r=Hr(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function oo(t){return hv(t)}function hv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Hr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return x.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=hv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${hv(n.fields[o])}`;return i+"}"}(t.mapValue):O()}function Kb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fv(t){return!!t&&"integerValue"in t}function V_(t){return!!t&&"arrayValue"in t}function Qb(t){return!!t&&"nullValue"in t}function Yb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ld(t){return!!t&&"mapValue"in t}function ec(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ji(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ec(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ec(t.arrayValue.values[n]);return e}return Object.assign({},t)}function DS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Nt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ld(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ec(n)}setAll(e){let n=Pt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ec(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Ld(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return On(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ld(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ji(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(ec(this.value))}};function TS(t){let e=[];return Ji(t.fields,(n,r)=>{let i=new Pt([n]);if(Ld(r)){let s=TS(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new zt(e)}var an=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,B.min(),B.min(),B.min(),Nt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,B.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,B.min(),B.min(),Nt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,B.min(),B.min(),Nt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ao=class{constructor(e,n){this.position=e,this.inclusive=n}};function Zb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=x.comparator(x.fromName(o.referenceValue),n.key):r=so(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!On(t.position[n],e.position[n]))return!1;return!0}var Wi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function PB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Gd=class{},Ue=class t extends Gd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mv(e,n,r):n==="array-contains"?new vv(e,r):n==="in"?new _v(e,r):n==="not-in"?new Iv(e,r):n==="array-contains-any"?new wv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gv(e,r):new yv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(so(n,this.value)):n!==null&&Gi(this.value)===Gi(n)&&this.matchesComparison(so(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},cn=class t extends Gd{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return CS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function CS(t){return t.op==="and"}function bS(t){return OB(t)&&CS(t)}function OB(t){for(let e of t.filters)if(e instanceof cn)return!1;return!0}function pv(t){if(t instanceof Ue)return t.field.canonicalString()+t.op.toString()+oo(t.value);if(bS(t))return t.filters.map(e=>pv(e)).join(",");{let e=t.filters.map(n=>pv(n)).join(",");return`${t.op}(${e})`}}function SS(t,e){return t instanceof Ue?function(r,i){return i instanceof Ue&&r.op===i.op&&r.field.isEqual(i.field)&&On(r.value,i.value)}(t,e):t instanceof cn?function(r,i){return i instanceof cn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&SS(o,i.filters[a]),!0):!1}(t,e):void O()}function AS(t){return t instanceof Ue?function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`}(t):t instanceof cn?function(n){return n.op.toString()+" {"+n.getFilters().map(AS).join(" ,")+"}"}(t):"Filter"}var mv=class extends Ue{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){let n=x.comparator(e.key,this.key);return this.matchesComparison(n)}},gv=class extends Ue{constructor(e,n){super(e,"in",n),this.keys=RS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},yv=class extends Ue{constructor(e,n){super(e,"not-in",n),this.keys=RS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function RS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}var vv=class extends Ue{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return V_(n)&&oc(n.arrayValue,this.value)}},_v=class extends Ue{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&oc(this.value.arrayValue,n)}},Iv=class extends Ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!oc(this.value.arrayValue,n)}},wv=class extends Ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!V_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>oc(this.value.arrayValue,r))}};var Ev=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function Xb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Ev(t,e,n,r,i,s,o)}function U_(t){let e=$(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),wh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oo(r)).join(",")),e.ce=n}return e.ce}function j_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Jb(t.startAt,e.startAt)&&Jb(t.endAt,e.endAt)}function Dv(t){return x.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var zr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function kB(t,e,n,r,i,s,o,a){return new zr(t,e,n,r,i,s,o,a)}function B_(t){return new zr(t)}function eS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xS(t){return t.collectionGroup!==null}function tc(t){let e=$(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ct(Pt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Wi(s,r))}),n.has(Pt.keyField().canonicalString())||e.le.push(new Wi(Pt.keyField(),r))}return e.le}function Mn(t){let e=$(t);return e.he||(e.he=FB(e,tc(t))),e.he}function FB(t,e){if(t.limitType==="F")return Xb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Wi(i.field,s)});let n=t.endAt?new ao(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ao(t.startAt.position,t.startAt.inclusive):null;return Xb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Tv(t,e){let n=t.filters.concat([e]);return new zr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wd(t,e,n){return new zr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Eh(t,e){return j_(Mn(t),Mn(e))&&t.limitType===e.limitType}function MS(t){return`${U_(Mn(t))}|lt:${t.limitType}`}function Zs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>AS(i)).join(", ")}]`),wh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>oo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>oo(i)).join(",")),`Target(${r})`}(Mn(t))}; limitType=${t.limitType})`}function Dh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):x.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of tc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=Zb(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,tc(r),i)||r.endAt&&!function(o,a,c){let u=Zb(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,tc(r),i))}(t,e)}function LB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NS(t){return(e,n)=>{let r=!1;for(let i of tc(t)){let s=VB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function VB(t,e,n){let r=t.field.isKeyField()?x.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?so(c,u):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}var Gr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return ES(this.inner)}size(){return this.innerSize}};var UB=new Re(x.comparator);function ir(){return UB}var PS=new Re(x.comparator);function Xa(...t){let e=PS;for(let n of t)e=e.insert(n.key,n);return e}function OS(t){let e=PS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ji(){return nc()}function kS(){return nc()}function nc(){return new Gr(t=>t.toString(),(t,e)=>t.isEqual(e))}var jB=new Re(x.comparator),BB=new ct(x.comparator);function ee(...t){let e=BB;for(let n of t)e=e.add(n);return e}var $B=new ct(ce);function HB(){return $B}function FS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function LS(t){return{integerValue:""+t}}function qB(t,e){return AB(e)?LS(e):FS(t,e)}var co=class{constructor(){this._=void 0}};function zB(t,e,n){return t instanceof uo?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&F_(s)&&(s=L_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ki?US(t,e):t instanceof Qi?jS(t,e):function(i,s){let o=VS(i,s),a=tS(o)+tS(i.Ie);return fv(o)&&fv(i.Ie)?LS(a):FS(i.serializer,a)}(t,e)}function GB(t,e,n){return t instanceof Ki?US(t,e):t instanceof Qi?jS(t,e):n}function VS(t,e){return t instanceof lo?function(r){return fv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var uo=class extends co{},Ki=class extends co{constructor(e){super(),this.elements=e}};function US(t,e){let n=BS(e);for(let r of t.elements)n.some(i=>On(i,r))||n.push(r);return{arrayValue:{values:n}}}var Qi=class extends co{constructor(e){super(),this.elements=e}};function jS(t,e){let n=BS(e);for(let r of t.elements)n=n.filter(i=>!On(i,r));return{arrayValue:{values:n}}}var lo=class extends co{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function tS(t){return Ae(t.integerValue||t.doubleValue)}function BS(t){return V_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function WB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ki&&i instanceof Ki||r instanceof Qi&&i instanceof Qi?io(r.elements,i.elements,On):r instanceof lo&&i instanceof lo?On(r.Ie,i.Ie):r instanceof uo&&i instanceof uo}(t.transform,e.transform)}var Cv=class{constructor(e,n){this.version=e,this.transformResults=n}},Br=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Vd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ho=class{};function $S(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kd(t.key,Br.none()):new Yi(t.key,t.data,Br.none());{let n=t.data,r=Nt.empty(),i=new ct(Pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new kn(t.key,r,new zt(i.toArray()),Br.none())}}function KB(t,e,n){t instanceof Yi?function(i,s,o){let a=i.value.clone(),c=rS(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof kn?function(i,s,o){if(!Vd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=rS(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(HS(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function rc(t,e,n,r){return t instanceof Yi?function(s,o,a,c){if(!Vd(s.precondition,o))return a;let u=s.value.clone(),l=iS(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof kn?function(s,o,a,c){if(!Vd(s.precondition,o))return a;let u=iS(s.fieldTransforms,c,o),l=o.data;return l.setAll(HS(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Vd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function QB(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=VS(r.transform,i||null);s!=null&&(n===null&&(n=Nt.empty()),n.set(r.field,s))}return n||null}function nS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&io(r,i,(s,o)=>WB(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Yi=class extends ho{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},kn=class extends ho{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function HS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function rS(t,e,n){let r=new Map;Ee(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,GB(o,a,n[i]))}return r}function iS(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,zB(s,o,e))}return r}var Kd=class extends ho{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},bv=class extends ho{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Sv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&KB(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=rc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=rc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=kS();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=$S(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ee())}isEqual(e){return this.batchId===e.batchId&&io(this.mutations,e.mutations,(n,r)=>nS(n,r))&&io(this.baseMutations,e.baseMutations,(n,r)=>nS(n,r))}},Av=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ee(e.mutations.length===r.length);let i=function(){return jB}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Rv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var xv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Le,re;function YB(t){switch(t){default:return O();case g.CANCELLED:case g.UNKNOWN:case g.DEADLINE_EXCEEDED:case g.RESOURCE_EXHAUSTED:case g.INTERNAL:case g.UNAVAILABLE:case g.UNAUTHENTICATED:return!1;case g.INVALID_ARGUMENT:case g.NOT_FOUND:case g.ALREADY_EXISTS:case g.PERMISSION_DENIED:case g.FAILED_PRECONDITION:case g.ABORTED:case g.OUT_OF_RANGE:case g.UNIMPLEMENTED:case g.DATA_LOSS:return!0}}function qS(t){if(t===void 0)return Pn("GRPC error has no .code"),g.UNKNOWN;switch(t){case Le.OK:return g.OK;case Le.CANCELLED:return g.CANCELLED;case Le.UNKNOWN:return g.UNKNOWN;case Le.DEADLINE_EXCEEDED:return g.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return g.RESOURCE_EXHAUSTED;case Le.INTERNAL:return g.INTERNAL;case Le.UNAVAILABLE:return g.UNAVAILABLE;case Le.UNAUTHENTICATED:return g.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return g.INVALID_ARGUMENT;case Le.NOT_FOUND:return g.NOT_FOUND;case Le.ALREADY_EXISTS:return g.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return g.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return g.FAILED_PRECONDITION;case Le.ABORTED:return g.ABORTED;case Le.OUT_OF_RANGE:return g.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return g.UNIMPLEMENTED;case Le.DATA_LOSS:return g.DATA_LOSS;default:return O()}}(re=Le||(Le={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";var sS=null;function ZB(){return new TextEncoder}var JB=new Vi([4294967295,4294967295],0);function oS(t){let e=ZB().encode(t),n=new Hb;return n.update(e),new Uint8Array(n.digest())}function aS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Vi([n,r],0),new Vi([i,s],0)]}var Mv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bi(`Invalid padding: ${n}`);if(r<0)throw new Bi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bi(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Vi.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Vi.fromNumber(r)));return i.compare(JB)===1&&(i=new Vi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=oS(e),[r,i]=aS(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=oS(e),[r,i]=aS(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Bi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Qd=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ac.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(B.min(),i,new Re(ce),ir(),ee())}},ac=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ee(),ee(),ee())}};var to=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},Yd=class{constructor(e,n){this.targetId=e,this.fe=n}},Zd=class{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Jd=class{constructor(){this.ge=0,this.pe=uS(),this.ye=yt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ee(),n=ee(),r=ee();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:O()}}),new ac(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=uS()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ee(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},Nv=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=ir(),this.Qe=cS(),this.Ke=new Re(ce)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(Dv(s))if(r===0){let o=new x(s.path);this.We(n,o,an.newNoDocument(o,B.min()))}else Ee(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}sS?.tt(function(l,d,h,p,m){var w,_,b,q,W,z;let _e={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},ie=d.unchangedNames;return ie&&(_e.bloomFilter={applied:m===0,hashCount:(w=ie?.hashCount)!==null&&w!==void 0?w:0,bitmapLength:(q=(b=(_=ie?.bits)===null||_===void 0?void 0:_.bitmap)===null||b===void 0?void 0:b.length)!==null&&q!==void 0?q:0,padding:(z=(W=ie?.bits)===null||W===void 0?void 0:W.padding)!==null&&z!==void 0?z:0,mightContain:ut=>{var Ot;return(Ot=p?.mightContain(ut))!==null&&Ot!==void 0&&Ot}}),_e}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=qr(r).toUint8Array()}catch(c){if(c instanceof qd)return ro("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Mv(o,i,s)}catch(c){return ro(c instanceof Bi?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&Dv(a.target)){let c=new x(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,an.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ee();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new Qd(e,n,this.Ke,this.qe,r);return this.qe=ir(),this.Qe=cS(),this.Ke=new Re(ce),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Jd,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new ct(ce),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||T("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Jd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function cS(){return new Re(x.comparator)}function uS(){return new Re(x.comparator)}var XB={asc:"ASCENDING",desc:"DESCENDING"},e$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t$={and:"AND",or:"OR"},Pv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Ov(t,e){return t.useProto3Json||wh(e)?e:{value:e}}function Xd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function n$(t,e){return Xd(t,e.toTimestamp())}function Nn(t){return Ee(!!t),B.fromTimestamp(function(n){let r=Hr(n);return new Xe(r.seconds,r.nanos)}(t))}function $_(t,e){return kv(t,e).canonicalString()}function kv(t,e){let n=function(i){return new Ce(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function GS(t){let e=Ce.fromString(t);return Ee(ZS(e)),e}function Fv(t,e){return $_(t.databaseId,e.path)}function Qy(t,e){let n=GS(e);if(n.get(1)!==t.databaseId.projectId)throw new C(g.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(g.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(KS(n))}function WS(t,e){return $_(t.databaseId,e)}function r$(t){let e=GS(t);return e.length===4?Ce.emptyPath():KS(e)}function Lv(t){return new Ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KS(t){return Ee(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function lS(t,e,n){return{name:Fv(t,e),fields:n.value.mapValue.fields}}function i$(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:O()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(Ee(l===void 0||typeof l=="string"),yt.fromBase64String(l||"")):(Ee(l===void 0||l instanceof Uint8Array),yt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?g.UNKNOWN:qS(u.code);return new C(l,u.message||"")}(o);n=new Zd(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Qy(t,r.document.name),s=Nn(r.document.updateTime),o=r.document.createTime?Nn(r.document.createTime):B.min(),a=new Nt({mapValue:{fields:r.document.fields}}),c=an.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new to(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Qy(t,r.document),s=r.readTime?Nn(r.readTime):B.min(),o=an.newNoDocument(i,s),a=r.removedTargetIds||[];n=new to([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Qy(t,r.document),s=r.removedTargetIds||[];n=new to([],s,i,null)}else{if(!("filter"in e))return O();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new xv(i,s),a=r.targetId;n=new Yd(a,o)}}return n}function s$(t,e){let n;if(e instanceof Yi)n={update:lS(t,e.key,e.value)};else if(e instanceof Kd)n={delete:Fv(t,e.key)};else if(e instanceof kn)n={update:lS(t,e.key,e.data),updateMask:p$(e.fieldMask)};else{if(!(e instanceof bv))return O();n={verify:Fv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof uo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ki)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof lo)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw O()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:n$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:O()}(t,e.precondition)),n}function o$(t,e){return t&&t.length>0?(Ee(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Nn(i.updateTime):Nn(s);return o.isEqual(B.min())&&(o=Nn(s)),new Cv(o,i.transformResults||[])}(n,e))):[]}function a$(t,e){return{documents:[WS(t,e.path)]}}function c$(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=WS(t,i);let s=function(u){if(u.length!==0)return YS(cn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:Js(h.field),direction:d$(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Ov(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function u$(t){let e=r$(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ee(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=QS(d);return h instanceof cn&&bS(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new Wi(Xs(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,wh(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,p=d.values||[];return new ao(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,p=d.values||[];return new ao(p,h)}(n.endAt)),kB(e,i,o,s,a,"F",c,u)}function l$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Xs(n.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Xs(n.unaryFilter.field);return Ue.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Xs(n.unaryFilter.field);return Ue.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Xs(n.unaryFilter.field);return Ue.create(o,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):t.fieldFilter!==void 0?function(n){return Ue.create(Xs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return cn.create(n.compositeFilter.filters.map(r=>QS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return O()}}(n.compositeFilter.op))}(t):O()}function d$(t){return XB[t]}function h$(t){return e$[t]}function f$(t){return t$[t]}function Js(t){return{fieldPath:t.canonicalString()}}function Xs(t){return Pt.fromServerFormat(t.fieldPath)}function YS(t){return t instanceof Ue?function(n){if(n.op==="=="){if(Yb(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NAN"}};if(Qb(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Yb(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NOT_NAN"}};if(Qb(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Js(n.field),op:h$(n.op),value:n.value}}}(t):t instanceof cn?function(n){let r=n.getFilters().map(i=>YS(i));return r.length===1?r[0]:{compositeFilter:{op:f$(n.op),filters:r}}}(t):O()}function p$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var cc=class t{constructor(e,n,r,i,s=B.min(),o=B.min(),a=yt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Vv=class{constructor(e){this.ct=e}};function m$(t){let e=u$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wd(e,e.limit,"L"):e}var eh=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),ic(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(qr(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?DS(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):O()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),x.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};eh.bt=new eh;var Uv=class{constructor(){this._n=new jv}addToCollectionParentIndex(e,n){return this._n.add(n),I.resolve()}getCollectionParents(e,n){return I.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return I.resolve()}deleteFieldIndex(e,n){return I.resolve()}deleteAllFieldIndexes(e){return I.resolve()}createTargetIndexes(e,n){return I.resolve()}getDocumentsMatchingTarget(e,n){return I.resolve(null)}getIndexType(e,n){return I.resolve(0)}getFieldIndexes(e,n){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,n){return I.resolve(zi.min())}getMinOffsetFromCollectionGroup(e,n){return I.resolve(zi.min())}updateCollectionGroup(e,n,r){return I.resolve()}updateIndexEntries(e,n){return I.resolve()}},jv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ct(Ce.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(Ce.comparator)).toArray()}};var NK=new Uint8Array(0);var Rn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(41943040,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);var uc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var Bv=class{constructor(){this.changes=new Gr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?I.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var $v=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Hv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&rc(r.mutation,i,zt.empty(),Xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ee()){let i=ji();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Xa();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=ji();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ee()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ir(),o=nc(),a=function(){return nc()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof kn)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),rc(l.mutation,u,l.mutation.getFieldMask(),Xe.now())):o.set(u.key,zt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new $v(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=nc(),i=new Re((o,a)=>o-a),s=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||zt.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||ee()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=kS();l.forEach(h=>{if(!s.has(h)){let p=$S(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return I.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return x.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):I.resolve(ji()),a=-1,c=s;return o.next(u=>I.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?I.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ee())).next(l=>({batchId:a,changes:OS(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=Xa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Xa();return this.indexManager.getCollectionParents(e,s).next(a=>I.forEach(a,c=>{let u=function(d,h){return new zr(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,an.newInvalidDocument(l)))});let a=Xa();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&rc(l.mutation,u,zt.empty(),Xe.now()),Dh(n,u)&&(a=a.insert(c,u))}),a})}};var qv=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return I.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Nn(i.createTime)}}(n)),I.resolve()}getNamedQuery(e,n){return I.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:m$(i.bundledQuery),readTime:Nn(i.readTime)}}(n)),I.resolve()}};var zv=class{constructor(){this.overlays=new Re(x.comparator),this.hr=new Map}getOverlay(e,n){return I.resolve(this.overlays.get(n))}getOverlays(e,n){let r=ji();return I.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),I.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),I.resolve()}getOverlaysForCollection(e,n,r){let i=ji(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return I.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Re((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=ji(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=ji(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return I.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Rv(n,r));let s=this.hr.get(n);s===void 0&&(s=ee(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var lc=class{constructor(){this.Pr=new ct(Ve.Ir),this.Tr=new ct(Ve.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Ve(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ve(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new x(new Ce([])),r=new Ve(n,e),i=new Ve(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new x(new Ce([])),r=new Ve(n,e),i=new Ve(n,e+1),s=ee();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ve(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ve=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return x.comparator(e.key,n.key)||ce(e.pr,n.pr)}static Er(e,n){return ce(e.pr,n.pr)||x.comparator(e.key,n.key)}};var Gv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ct(Ve.Ir)}checkEmpty(e){return I.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Sv(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new Ve(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(e,n){return I.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return I.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ve(n,0),i=new Ve(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),I.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(ce);return n.forEach(i=>{let s=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),I.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;x.isDocumentKey(s)||(s=s.child(""));let o=new Ve(new x(s),0),a=new ct(ce);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),I.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ee(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return I.forEach(n.mutations,i=>{let s=new Ve(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Ve(n,0),i=this.wr.firstAfterOrEqual(r);return I.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,I.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Wv=class{constructor(e){this.vr=e,this.docs=function(){return new Re(x.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return I.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let r=ir();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():an.newInvalidDocument(i))}),I.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ir(),o=n.path,a=new x(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||bB(CB(l),r)<=0||(i.has(l.key)||Dh(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return I.resolve(s)}getAllFromCollectionGroup(e,n,r,i){O()}Fr(e,n){return I.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Kv(this)}getSize(e){return I.resolve(this.size)}},Kv=class extends Bv{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),I.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var Qv=class{constructor(e){this.persistence=e,this.Mr=new Gr(n=>U_(n),j_),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Or=0,this.Nr=new lc,this.targetCount=0,this.Br=uc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),I.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new uc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,I.resolve()}updateTargetData(e,n){return this.qn(n),I.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),I.waitFor(s).next(()=>i)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return I.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),I.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),I.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),I.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return I.resolve(r)}containsKey(e,n){return I.resolve(this.Nr.containsKey(n))}};var Yv=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new wS(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Qv(this),this.indexManager=new Uv,this.remoteDocumentCache=function(i){return new Wv(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Vv(n),this.$r=new qv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new Gv(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){T("MemoryPersistence","Starting transaction:",e);let i=new Zv(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return I.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},Zv=class extends av{constructor(e){super(),this.currentSequenceNumber=e}},Jv=class t{constructor(e){this.persistence=e,this.zr=new lc,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw O()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),I.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),I.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Jr,r=>{let i=x.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,B.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return I.or([()=>I.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Xv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ee(),i=ee();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var e_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var t_=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return vT()?8:$d.v(be())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new e_;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ja()<=X.DEBUG&&T("QueryEngine","SDK will not create cache indexes for query:",Zs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),I.resolve()):(Ja()<=X.DEBUG&&T("QueryEngine","Query:",Zs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ja()<=X.DEBUG&&T("QueryEngine","The SDK decides to create cache indexes for query:",Zs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(n))):I.resolve())}ji(e,n){if(eS(n))return I.resolve(null);let r=Mn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Wd(n,null,"F"),r=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ee(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,Wd(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return eS(n)||i.isEqual(B.min())?I.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?I.resolve(null):(Ja()<=X.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zs(n)),this.es(e,o,n,TB(i,-1)).next(a=>a))})}Zi(e,n){let r=new ct(NS(e));return n.forEach((i,s)=>{Dh(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ja()<=X.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",Zs(n)),this.zi.getDocumentsMatchingQuery(e,n,zi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var n_=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Re(ce),this.rs=new Gr(s=>U_(s),j_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hv(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function g$(t,e,n,r){return new n_(t,e,n,r)}function JS(t,e){return f(this,null,function*(){let n=$(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=ee();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function y$(t,e){let n=$(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),p=I.resolve();return h.forEach(m=>{p=p.next(()=>l.getEntry(c,m)).next(w=>{let _=u.docVersions.get(m);Ee(_!==null),w.version.compareTo(_)<0&&(d.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),l.addEntry(w)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ee();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function XS(t){let e=$(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function v$(t,e){let n=$(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,l.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(yt.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(l.resumeToken,r)),i=i.insert(d,p),function(w,_,b){return w.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,p,l)&&a.push(n.Qr.updateTargetData(s,p))});let c=ir(),u=ee();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(_$(s,o,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(B.min())){let l=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return I.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function _$(t,e,n){let r=ee(),i=ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ir();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(B.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function I$(t,e){let n=$(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function w$(t,e){let n=$(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,I.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new cc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function r_(t,e,n){return f(this,null,function*(){let r=$(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!yc(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function dS(t,e,n){let r=$(t),i=B.min(),s=ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=$(c),h=d.rs.get(l);return h!==void 0?I.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,o,Mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:B.min(),n?s:ee())).next(a=>(E$(r,LB(e),a),{documents:a,hs:s})))}function E$(t,e,n){let r=t.ss.get(e)||B.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var th=class{constructor(){this.activeTargetIds=HB()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var i_=class{constructor(){this.no=new th,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new th,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var s_=class{io(e){}shutdown(){}};var nh=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Fd=null;function Yy(){return Fd===null?Fd=function(){return 268435456+Math.round(2147483648*Math.random())}():Fd++,"0x"+Fd.toString(16)}var D$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var o_=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var at="WebChannelConnection",a_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=Yy(),c=this.bo(n,r.toUriEncodedString());T("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,c,u,i).then(l=>(T("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw ro("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+go}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=D$[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=Yy();return new Promise((o,a)=>{let c=new $b;c.setWithCredentials(!0),c.listenOnce(jb.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Od.NO_ERROR:let l=c.getResponseJson();T(at,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Od.TIMEOUT:T(at,`RPC '${e}' ${s} timed out`),a(new C(g.DEADLINE_EXCEEDED,"Request time out"));break;case Od.HTTP_ERROR:let d=c.getStatus();if(T(at,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let p=h?.error;if(p&&p.status&&p.message){let m=function(_){let b=_.toLowerCase().replace(/_/g,"-");return Object.values(g).indexOf(b)>=0?b:g.UNKNOWN}(p.status);a(new C(m,p.message))}else a(new C(g.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new C(g.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{T(at,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);T(at,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=Yy(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Vb(),a=Ub(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");T(at,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,p=!1,m=new o_({lo:_=>{p?T(at,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(T(at,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),T(at,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},ho:()=>d.close()}),w=(_,b,q)=>{_.listen(b,W=>{try{q(W)}catch(z){setTimeout(()=>{throw z},0)}})};return w(d,Za.EventType.OPEN,()=>{p||T(at,`RPC '${e}' stream ${i} transport opened.`)}),w(d,Za.EventType.CLOSE,()=>{p||(p=!0,T(at,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),w(d,Za.EventType.ERROR,_=>{p||(p=!0,ro(at,`RPC '${e}' stream ${i} transport errored:`,_),m.Vo(new C(g.UNAVAILABLE,"The operation could not be completed")))}),w(d,Za.EventType.MESSAGE,_=>{var b;if(!p){let q=_.data[0];Ee(!!q);let W=q,z=W.error||((b=W[0])===null||b===void 0?void 0:b.error);if(z){T(at,`RPC '${e}' stream ${i} received error:`,z);let _e=z.status,ie=function(Yr){let bc=Le[Yr];if(bc!==void 0)return qS(bc)}(_e),ut=z.message;ie===void 0&&(ie=g.INTERNAL,ut="Unknown error status: "+_e+" with message "+z.message),p=!0,m.Vo(new C(ie,ut)),d.close()}else T(at,`RPC '${e}' stream ${i} received:`,q),m.mo(q)}}),w(a,Bb.STAT_EVENT,_=>{_.stat===Ky.PROXY?T(at,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Ky.NOPROXY&&T(at,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}};function Zy(){return typeof document<"u"?document:null}function Th(t){return new Pv(t,!0)}var rh=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var ih=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new rh(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return f(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return f(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return f(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===g.RESOURCE_EXHAUSTED?(Pn(n.toString()),Pn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===g.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new C(g.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>f(this,null,function*(){this.state=0,this.start()}))}__(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},c_=class extends ih{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=i$(this.serializer,e),r=function(s){if(!("targetChange"in s))return B.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?B.min():o.readTime?Nn(o.readTime):B.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=Lv(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=Dv(c)?{documents:a$(s,c)}:{query:c$(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=zS(s,o.resumeToken);let u=Ov(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(B.min())>0){a.readTime=Xd(s,o.snapshotVersion.toTimestamp());let u=Ov(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=l$(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=Lv(this.serializer),n.removeTarget=e,this.t_(n)}},u_=class extends ih{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=o$(e.writeResults,e.commitTime),r=Nn(e.commitTime);return this.listener.T_(r,n)}return Ee(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=Lv(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>s$(this.serializer,r))};this.t_(n)}};var l_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new C(g.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,kv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(g.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,kv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new C(g.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var d_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Pn(n),this.g_=!1):T("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var h_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>f(this,null,function*(){Xi(this)&&(T("RemoteStore","Restarting streams for network reachability change."),yield function(c){return f(this,null,function*(){let u=$(c);u.v_.add(4),yield vc(u),u.x_.set("Unknown"),u.v_.delete(4),yield Ch(u)})}(this))}))}),this.x_=new d_(r,i)}};function Ch(t){return f(this,null,function*(){if(Xi(t))for(let e of t.F_)yield e(!0)})}function vc(t){return f(this,null,function*(){for(let e of t.F_)yield e(!1)})}function eA(t,e){let n=$(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),z_(n)?q_(n):yo(n).Jo()&&H_(n,e))}function tA(t,e){let n=$(t),r=yo(n);n.C_.delete(e),r.Jo()&&nA(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Xi(n)&&n.x_.set("Unknown"))}function H_(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yo(t).c_(e)}function nA(t,e){t.O_.Oe(e),yo(t).l_(e)}function q_(t){t.O_=new Nv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),yo(t).start(),t.x_.p_()}function z_(t){return Xi(t)&&!yo(t).Ho()&&t.C_.size>0}function Xi(t){return $(t).v_.size===0}function rA(t){t.O_=void 0}function T$(t){return f(this,null,function*(){t.C_.forEach((e,n)=>{H_(t,e)})})}function C$(t,e){return f(this,null,function*(){rA(t),z_(t)?(t.x_.S_(e),q_(t)):t.x_.set("Unknown")})}function b$(t,e,n){return f(this,null,function*(){if(t.x_.set("Online"),e instanceof Zd&&e.state===2&&e.cause)try{yield function(i,s){return f(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield sh(t,r)}else if(e instanceof to?t.O_.$e(e):e instanceof Yd?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(B.min()))try{let r=yield XS(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.C_.get(u);l&&s.C_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.C_.get(c);if(!l)return;s.C_.set(c,l.withResumeToken(yt.EMPTY_BYTE_STRING,l.snapshotVersion)),nA(s,c);let d=new cc(l.target,c,u,l.sequenceNumber);H_(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield sh(t,r)}})}function sh(t,e,n){return f(this,null,function*(){if(!yc(e))throw e;t.v_.add(1),yield vc(t),t.x_.set("Offline"),n||(n=()=>XS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>f(this,null,function*(){T("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield Ch(t)}))})}function iA(t,e){return e().catch(n=>sh(t,n,e))}function bh(t){return f(this,null,function*(){let e=$(t),n=Wr(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;S$(e);)try{let i=yield I$(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,A$(e,i)}catch(i){yield sh(e,i)}sA(e)&&oA(e)})}function S$(t){return Xi(t)&&t.D_.length<10}function A$(t,e){t.D_.push(e);let n=Wr(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function sA(t){return Xi(t)&&!Wr(t).Ho()&&t.D_.length>0}function oA(t){Wr(t).start()}function R$(t){return f(this,null,function*(){Wr(t).d_()})}function x$(t){return f(this,null,function*(){let e=Wr(t);for(let n of t.D_)e.I_(n.mutations)})}function M$(t,e,n){return f(this,null,function*(){let r=t.D_.shift(),i=Av.from(r,e,n);yield iA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield bh(t)})}function N$(t,e){return f(this,null,function*(){e&&Wr(t).P_&&(yield function(r,i){return f(this,null,function*(){if(function(o){return YB(o)&&o!==g.ABORTED}(i.code)){let s=r.D_.shift();Wr(r).Zo(),yield iA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield bh(r)}})}(t,e)),sA(t)&&oA(t)})}function hS(t,e){return f(this,null,function*(){let n=$(t);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");let r=Xi(n);n.v_.add(3),yield vc(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Ch(n)})}function P$(t,e){return f(this,null,function*(){let n=$(t);e?(n.v_.delete(2),yield Ch(n)):e||(n.v_.add(2),yield vc(n),n.x_.set("Unknown"))})}function yo(t){return t.N_||(t.N_=function(n,r,i){let s=$(n);return s.R_(),new c_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:T$.bind(null,t),To:C$.bind(null,t),u_:b$.bind(null,t)}),t.F_.push(e=>f(this,null,function*(){e?(t.N_.Zo(),z_(t)?q_(t):t.x_.set("Unknown")):(yield t.N_.stop(),rA(t))}))),t.N_}function Wr(t){return t.B_||(t.B_=function(n,r,i){let s=$(n);return s.R_(),new u_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:R$.bind(null,t),To:N$.bind(null,t),E_:x$.bind(null,t),T_:M$.bind(null,t)}),t.F_.push(e=>f(this,null,function*(){e?(t.B_.Zo(),yield bh(t)):(yield t.B_.stop(),t.D_.length>0&&(T("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}var f_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new C(g.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function G_(t,e){if(Pn("AsyncQueue",`${e}: ${t}`),yc(t))return new C(g.UNAVAILABLE,`${e}: ${t}`);throw t}var oh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=Xa(),this.sortedSet=new Re(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var ah=class{constructor(){this.L_=new Re(x.comparator)}track(e){let n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):O():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}},fo=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,oh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var p_=class{constructor(){this.q_=void 0,this.Q_=[]}},m_=class{constructor(){this.queries=new Gr(e=>MS(e),Eh),this.onlineState="Unknown",this.K_=new Set}};function aA(t,e){return f(this,null,function*(){let n=$(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new p_),i)try{s.q_=yield n.onListen(r)}catch(o){let a=G_(o,`Initialization of query '${Zs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&W_(n)})}function cA(t,e){return f(this,null,function*(){let n=$(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function O$(t,e){let n=$(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&W_(n)}function k$(t,e,n){let r=$(t),i=r.queries.get(e);if(i)for(let s of i.Q_)s.onError(n);r.queries.delete(e)}function W_(t){t.K_.forEach(e=>{e.next()})}var ch=class{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new fo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var uh=class{constructor(e){this.key=e}},lh=class{constructor(e){this.key=e}},g_=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ee(),this.mutatedKeys=ee(),this.ua=NS(e),this.ca=new oh(this.ua)}get la(){return this.oa}ha(e,n){let r=n?n.Pa:new ah,i=n?n.ca:this.ca,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),p=Dh(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),_=!1;h&&p?h.data.isEqual(p.data)?m!==w&&(r.track({type:3,doc:p}),_=!0):this.Ia(h,p)||(r.track({type:2,doc:p}),_=!0,(c&&this.ua(p,c)>0||u&&this.ua(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),_=!0):h&&!p&&(r.track({type:1,doc:h}),_=!0,(c||u)&&(a=!0)),_&&(p?(o=o.add(p),s=w?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let o=e.Pa.k_();o.sort((l,d)=>function(p,m){let w=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return w(p)-w(m)}(l.type,d.type)||this.ua(l.doc,d.doc)),this.Ta(r),i=i!=null&&i;let a=n&&!i?this.Ea():[],c=this.aa.size===0&&this.current&&!i?1:0,u=c!==this._a;return this._a=c,o.length!==0||u?{snapshot:new fo(this.query,e.ca,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new ah,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=ee(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});let n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new lh(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new uh(r))}),n}Ra(e){this.oa=e.hs,this.aa=ee();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return fo.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},y_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},v_=class{constructor(e){this.key=e,this.ma=!1}},__=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Gr(a=>MS(a),Eh),this.pa=new Map,this.ya=new Set,this.wa=new Re(x.comparator),this.Sa=new Map,this.ba=new lc,this.Da={},this.Ca=new Map,this.va=uc.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function F$(t,e){return f(this,null,function*(){let n=G$(t),r,i,s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{let o=yield w$(n.localStore,Mn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield L$(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&eA(n.remoteStore,o)}return i})}function L$(t,e,n,r,i){return f(this,null,function*(){t.Ma=(d,h,p)=>function(w,_,b,q){return f(this,null,function*(){let W=_.view.ha(b);W.Xi&&(W=yield dS(w.localStore,_.query,!1).then(({documents:ut})=>_.view.ha(ut,W)));let z=q&&q.targetChanges.get(_.targetId),_e=q&&q.targetMismatches.get(_.targetId)!=null,ie=_.view.applyChanges(W,w.isPrimaryClient,z,_e);return pS(w,_.targetId,ie.da),ie.snapshot})}(t,d,h,p);let s=yield dS(t.localStore,e,!0),o=new g_(e,s.hs),a=o.ha(s.documents),c=ac.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);pS(t,n,u.da);let l=new y_(e,n,o);return t.ga.set(e,l),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot})}function V$(t,e){return f(this,null,function*(){let n=$(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Eh(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield r_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),tA(n.remoteStore,r.targetId),I_(n,r.targetId)}).catch(gc))):(I_(n,r.targetId),yield r_(n.localStore,r.targetId,!0))})}function U$(t,e,n){return f(this,null,function*(){let r=W$(t);try{let i=yield function(o,a){let c=$(o),u=Xe.now(),l=a.reduce((p,m)=>p.add(m.key),ee()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=ir(),w=ee();return c.os.getEntries(p,l).next(_=>{m=_,m.forEach((b,q)=>{q.isValidDocument()||(w=w.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,m)).next(_=>{d=_;let b=[];for(let q of a){let W=QB(q,d.get(q.key).overlayedDocument);W!=null&&b.push(new kn(q.key,W,TS(W.value.mapValue),Br.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,b,a)}).next(_=>{h=_;let b=_.applyToLocalDocumentSet(d,w);return c.documentOverlayCache.saveOverlays(p,_.batchId,b)})}).then(()=>({batchId:h.batchId,changes:OS(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Da[o.currentUser.toKey()];u||(u=new Re(ce)),u=u.insert(a,c),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),yield _c(r,i.changes),yield bh(r.remoteStore)}catch(i){let s=G_(i,"Failed to persist write");n.reject(s)}})}function uA(t,e){return f(this,null,function*(){let n=$(t);try{let r=yield v$(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Sa.get(s);o&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?Ee(o.ma):i.removedDocuments.size>0&&(Ee(o.ma),o.ma=!1))}),yield _c(n,r,e)}catch(r){yield gc(r)}})}function fS(t,e,n){let r=$(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ga.forEach((s,o)=>{let a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=$(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.U_(a)&&(u=!0)}),u&&W_(c)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function j$(t,e,n){return f(this,null,function*(){let r=$(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Re(x.comparator);o=o.insert(s,an.newNoDocument(s,B.min()));let a=ee().add(s),c=new Qd(B.min(),new Map,new Re(ce),o,a);yield uA(r,c),r.wa=r.wa.remove(s),r.Sa.delete(e),K_(r)}else yield r_(r.localStore,e,!1).then(()=>I_(r,e,n)).catch(gc)})}function B$(t,e){return f(this,null,function*(){let n=$(t),r=e.batch.batchId;try{let i=yield y$(n.localStore,e);dA(n,r,null),lA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield _c(n,i)}catch(i){yield gc(i)}})}function $$(t,e,n){return f(this,null,function*(){let r=$(t);try{let i=yield function(o,a){let c=$(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(Ee(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);dA(r,e,n),lA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield _c(r,i)}catch(i){yield gc(i)}})}function lA(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function dA(t,e,n){let r=$(t),i=r.Da[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function I_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||hA(t,r)})}function hA(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(tA(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),K_(t))}function pS(t,e,n){for(let r of n)r instanceof uh?(t.ba.addReference(r.key,e),H$(t,r)):r instanceof lh?(T("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||hA(t,r.key)):O()}function H$(t,e){let n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(T("SyncEngine","New document in limbo: "+n),t.ya.add(r),K_(t))}function K_(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new x(Ce.fromString(e)),r=t.va.next();t.Sa.set(r,new v_(n)),t.wa=t.wa.insert(n,r),eA(t.remoteStore,new cc(Mn(B_(n.path)),r,"TargetPurposeLimboResolution",wS._e))}}function _c(t,e,n){return f(this,null,function*(){let r=$(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,c)=>{o.push(r.Ma(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=Xv.Ki(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.fa.u_(i),yield function(c,u){return f(this,null,function*(){let l=$(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>I.forEach(u,h=>I.forEach(h.qi,p=>l.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>I.forEach(h.Qi,p=>l.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!yc(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let p=l.ns.get(h),m=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(m);l.ns=l.ns.insert(h,w)}}})}(r.localStore,s))})}function q$(t,e){return f(this,null,function*(){let n=$(t);if(!n.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());let r=yield JS(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(c=>{c.reject(new C(g.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _c(n,r.us)}})}function z$(t,e){let n=$(t),r=n.Sa.get(e);if(r&&r.ma)return ee().add(r.key);{let i=ee(),s=n.pa.get(e);if(!s)return i;for(let o of s){let a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function G$(t){let e=$(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j$.bind(null,e),e.fa.u_=O$.bind(null,e.eventManager),e.fa.xa=k$.bind(null,e.eventManager),e}function W$(t){let e=$(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$$.bind(null,e),e}var dh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return f(this,null,function*(){this.serializer=Th(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return g$(this.persistence,new t_,e.initialUser,this.serializer)}createPersistence(e){return new Yv(Jv.Hr,this.serializer)}createSharedClientState(e){return new i_}terminate(){return f(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var w_=class{initialize(e,n){return f(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=q$.bind(null,this.syncEngine),yield P$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new m_}()}createDatastore(e){let n=Th(e.databaseInfo.databaseId),r=function(s){return new a_(s)}(e.databaseInfo);return function(s,o,a,c){return new l_(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new h_(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>fS(this.syncEngine,n,0),function(){return nh.D()?new nh:new s_}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new __(i,s,o,a,c,u);return l&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return f(this,null,function*(){var e;yield function(r){return f(this,null,function*(){let i=$(r);T("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield vc(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var hh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Pn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var E_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ke.UNAUTHENTICATED,this.clientId=jd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>f(this,null,function*(){T("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(T("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(g.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Gt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>f(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=G_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Jy(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>f(this,null,function*(){r.isEqual(i)||(yield JS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function mS(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Q$(t);T("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>hS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>hS(e.remoteStore,i)),t._onlineComponents=e})}function K$(t){return t.name==="FirebaseError"?t.code===g.FAILED_PRECONDITION||t.code===g.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Q$(t){return f(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){T("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Jy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!K$(n))throw n;ro("Error using user provided cache. Falling back to memory cache: "+n),yield Jy(t,new dh)}}else T("FirestoreClient","Using default OfflineComponentProvider"),yield Jy(t,new dh);return t._offlineComponents})}function fA(t){return f(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(T("FirestoreClient","Using user provided OnlineComponentProvider"),yield mS(t,t._uninitializedComponentsProvider._online)):(T("FirestoreClient","Using default OnlineComponentProvider"),yield mS(t,new w_))),t._onlineComponents})}function Y$(t){return fA(t).then(e=>e.syncEngine)}function pA(t){return f(this,null,function*(){let e=yield fA(t),n=e.eventManager;return n.onListen=F$.bind(null,e.syncEngine),n.onUnlisten=V$.bind(null,e.syncEngine),n})}function Z$(t,e,n={}){let r=new Gt;return t.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return function(s,o,a,c,u){let l=new hh({next:h=>{o.enqueueAndForget(()=>cA(s,d));let p=h.docs.has(a);!p&&h.fromCache?u.reject(new C(g.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&c&&c.source==="server"?u.reject(new C(g.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new ch(B_(a.path),l,{includeMetadataChanges:!0,Z_:!0});return aA(s,d)}(yield pA(t),t.asyncQueue,e,n,r)})),r.promise}function J$(t,e,n={}){let r=new Gt;return t.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return function(s,o,a,c,u){let l=new hh({next:h=>{o.enqueueAndForget(()=>cA(s,d)),h.fromCache&&c.source==="server"?u.reject(new C(g.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new ch(a,l,{includeMetadataChanges:!0,Z_:!0});return aA(s,d)}(yield pA(t),t.asyncQueue,e,n,r)})),r.promise}function mA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var gS=new Map;function gA(t,e,n){if(!n)throw new C(g.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function X$(t,e,n,r){if(e===!0&&r===!0)throw new C(g.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yS(t){if(!x.isDocumentKey(t))throw new C(g.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vS(t){if(x.isDocumentKey(t))throw new C(g.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":O()}function Kr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(g.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Sh(t);throw new C(g.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function eH(t,e){if(e<=0)throw new C(g.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var fh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new C(g.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new C(g.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new C(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new C(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new C(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},po=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(g.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new C(g.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Xy;switch(r.type){case"firstParty":return new rv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new C(g.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=gS.get(n);r&&(T("ComponentProvider","Removing Datastore"),gS.delete(n),r.terminate())}(this),Promise.resolve()}};function yA(t,e,n,r={}){var i;let s=(t=Kr(t,po))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Ke.MOCK_USER;else{a=Pl(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(g.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ke(u)}t._authCredentials=new ev(new Ud(a,c))}}var Qr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Et=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},$r=class t extends Qr{constructor(e,n,r){super(e,n,B_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new x(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function vA(t,e,...n){if(t=$e(t),gA("collection","path",e),t instanceof po){let r=Ce.fromString(e,...n);return vS(r),new $r(t,null,r)}{if(!(t instanceof Et||t instanceof $r))throw new C(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ce.fromString(e,...n));return vS(r),new $r(t.firestore,null,r)}}function Q_(t,e,...n){if(t=$e(t),arguments.length===1&&(e=jd.newId()),gA("doc","path",e),t instanceof po){let r=Ce.fromString(e,...n);return yS(r),new Et(t,null,new x(r))}{if(!(t instanceof Et||t instanceof $r))throw new C(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ce.fromString(e,...n));return yS(r),new Et(t.firestore,t instanceof $r?t.converter:null,new x(r))}}var D_=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new rh(this,"async_queue_retry"),this._u=()=>{let n=Zy();n&&T("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Zy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=Zy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new Gt;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return f(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!yc(e))throw e;T("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Pn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=f_.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&O()}verifyOperationInProgress(){}hu(){return f(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var Zi=class extends po{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new D_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||IA(this),this._firestoreClient.terminate()}};function _A(t,e){let n=typeof t=="object"?t:Pr(),r=typeof t=="string"?t:e||"(default)",i=Si(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Nl("firestore");s&&yA(i,...s)}return i}function Y_(t){return t._firestoreClient||IA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function IA(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new dv(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,mA(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new E_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var dc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(yt.fromBase64String(e))}catch(n){throw new C(g.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var mo=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new C(g.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var hc=class{constructor(e){this._methodName=e}};var fc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(g.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(g.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}};var tH=/^__.*__$/,T_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new kn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yi(e,this.data,n,this.fieldTransforms)}},ph=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new kn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function wA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}var C_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return gh(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(wA(this.du)&&tH.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},b_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Th(e)}Su(e,n,r,i=!1){return new C_({du:e,methodName:n,wu:r,path:Pt.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Z_(t){let e=t._freezeSettings(),n=Th(t._databaseId);return new b_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nH(t,e,n,r,i,s={}){let o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);J_("Data must be an object, but it was:",o,r);let a=EA(r,o),c,u;if(s.merge)c=new zt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=S_(e,d,n);if(!o.contains(h))throw new C(g.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);TA(l,h)||l.push(h)}c=new zt(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new T_(new Nt(a),c,u)}var mh=class t extends hc{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function rH(t,e,n,r){let i=t.Su(1,e,n);J_("Data must be an object, but it was:",i,r);let s=[],o=Nt.empty();Ji(r,(c,u)=>{let l=X_(e,c,n);u=$e(u);let d=i.fu(l);if(u instanceof mh)s.push(l);else{let h=Ic(u,d);h!=null&&(s.push(l),o.set(l,h))}});let a=new zt(s);return new ph(o,a,i.fieldTransforms)}function iH(t,e,n,r,i,s){let o=t.Su(1,e,n),a=[S_(e,r,n)],c=[i];if(s.length%2!=0)throw new C(g.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(S_(e,s[h])),c.push(s[h+1]);let u=[],l=Nt.empty();for(let h=a.length-1;h>=0;--h)if(!TA(u,a[h])){let p=a[h],m=c[h];m=$e(m);let w=o.fu(p);if(m instanceof mh)u.push(p);else{let _=Ic(m,w);_!=null&&(u.push(p),l.set(p,_))}}let d=new zt(u);return new ph(l,d,o.fieldTransforms)}function sH(t,e,n,r=!1){return Ic(n,t.Su(r?4:3,e))}function Ic(t,e){if(DA(t=$e(t)))return J_("Unsupported field value:",e,t),EA(t,e);if(t instanceof hc)return function(r,i){if(!wA(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=Ic(a,i.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=$e(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Xe.fromDate(r);return{timestampValue:Xd(i.serializer,s)}}if(r instanceof Xe){let s=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xd(i.serializer,s)}}if(r instanceof fc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof dc)return{bytesValue:zS(i.serializer,r._byteString)};if(r instanceof Et){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Sh(r)}`)}(t,e)}function EA(t,e){let n={};return ES(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ji(t,(r,i)=>{let s=Ic(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function DA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof fc||t instanceof dc||t instanceof Et||t instanceof hc)}function J_(t,e,n){if(!DA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Sh(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function S_(t,e,n){if((e=$e(e))instanceof mo)return e._internalPath;if(typeof e=="string")return X_(t,e);throw gh("Field path arguments must be of type string or ",t,!1,void 0,n)}var oH=new RegExp("[~\\*/\\[\\]]");function X_(t,e,n){if(e.search(oH)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mo(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new C(g.INVALID_ARGUMENT,a+t+c)}function TA(t,e){return t.some(n=>n.isEqual(e))}var yh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new A_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Ah("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},A_=class extends yh{data(){return super.data()}};function Ah(t,e){return typeof e=="string"?X_(t,e):e instanceof mo?e._internalPath:e._delegate._internalPath}function aH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new C(g.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var pc=class{},mc=class extends pc{};function CA(t,e,...n){let r=[];e instanceof pc&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof R_).length,a=s.filter(c=>c instanceof vh).length;if(o>1||o>0&&a>0)throw new C(g.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var vh=class t extends mc{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return RA(e._query,n),new Qr(e.firestore,e.converter,Tv(e._query,n))}_parse(e){let n=Z_(e.firestore);return function(s,o,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new C(g.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){IS(d,l);let p=[];for(let m of d)p.push(_S(c,s,m));h={arrayValue:{values:p}}}else h=_S(c,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||IS(d,l),h=sH(a,o,d,l==="in"||l==="not-in");return Ue.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function bA(t,e,n){let r=e,i=Ah("where",t);return vh._create(i,r,n)}var R_=class t extends pc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:cn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)RA(o,c),o=Tv(o,c)}(e._query,n),new Qr(e.firestore,e.converter,Tv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var x_=class t extends mc{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new C(g.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new C(g.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wi(s,o)}(e._query,this._field,this._direction);return new Qr(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new zr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function SA(t,e="asc"){let n=e,r=Ah("orderBy",t);return x_._create(r,n)}var M_=class t extends mc{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new Qr(e.firestore,e.converter,Wd(e._query,this._limit,this._limitType))}};function AA(t){return eH("limit",t),M_._create("limit",t,"F")}function _S(t,e,n){if(typeof(n=$e(n))=="string"){if(n==="")throw new C(g.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xS(e)&&n.indexOf("/")!==-1)throw new C(g.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ce.fromString(n));if(!x.isDocumentKey(r))throw new C(g.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Kb(t,new x(r))}if(n instanceof Et)return Kb(t,n._key);throw new C(g.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sh(n)}.`)}function IS(t,e){if(!Array.isArray(t)||t.length===0)throw new C(g.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RA(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new C(g.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new C(g.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var N_=class{convertValue(e,n="none"){switch(Gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ji(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new fc(Ae(e.latitude),Ae(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=L_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sc(e));default:return null}}convertTimestamp(e){let n=Hr(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ce.fromString(e);Ee(ZS(r));let i=new zd(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||Pn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function cH(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var $i=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},_h=class extends yh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new no(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Ah("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},no=class extends _h{data(e={}){return super.data(e)}},P_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $i(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new no(this._firestore,this._userDataWriter,r.key,r,new $i(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(g.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new no(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $i(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new no(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $i(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:uH(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function uH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}function xA(t){t=Kr(t,Et);let e=Kr(t.firestore,Zi);return Z$(Y_(e),t._key).then(n=>lH(e,t,n))}var Ih=class extends N_{constructor(e){super(),this.firestore=e}convertBytes(e){return new dc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}};function MA(t){t=Kr(t,Qr);let e=Kr(t.firestore,Zi),n=Y_(e),r=new Ih(e);return aH(t._query),J$(n,t._query).then(i=>new P_(e,r,t,i))}function NA(t,e,n,...r){t=Kr(t,Et);let i=Kr(t.firestore,Zi),s=Z_(i),o;return o=typeof(e=$e(e))=="string"||e instanceof mo?iH(s,"updateDoc",t._key,e,n,r):rH(s,"updateDoc",t._key,e),OA(i,[o.toMutation(t._key,Br.exists(!0))])}function PA(t,e){let n=Kr(t.firestore,Zi),r=Q_(t),i=cH(t.converter,e);return OA(n,[nH(Z_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Br.exists(!1))]).then(()=>r)}function OA(t,e){return function(r,i){let s=new Gt;return r.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return U$(yield Y$(r),i,s)})),s.promise}(Y_(t),e)}function lH(t,e,n){let r=n.docs.get(e._key),i=new Ih(t);return new _h(t,i,e._key,r,new $i(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){go=i})(Tn),Dn(new wt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Zi(new tv(r.getProvider("auth-internal")),new sv(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new C(g.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zd(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Te(qb,"4.4.1",e),Te(qb,"4.4.1","esm2017")})();var un=class{constructor(e){return e}},kA="firestore",eI=class{constructor(){return Ri(kA)}};var tI=new N("angularfire2.firestore-instances");function dH(t,e){let n=Hs(kA,t,e);return n&&new un(n)}function hH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new un(r)}}var fH={provide:eI,deps:[[new ke,tI]]},pH={provide:un,useFactory:dH,deps:[[new ke,tI],rn]},mH=(()=>{class t{constructor(){Te("angularfire",Jn.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=it({type:t});static \u0275inj=rt({providers:[pH,fH]})}return t})();function FA(t,...e){return{ngModule:mH,providers:[{provide:tI,useFactory:hH(t),multi:!0,deps:[ue,ht,kr,Xn,[new ke,Pi],[new ke,Or],...e]}]}}var LA=ze(PA,!0);var Fn=ze(vA,!0);var nI=ze(Q_,!0);var VA=ze(xA,!0);var sr=ze(MA,!0);var UA=ze(_A,!0);var Rh=ze(AA,!0);var jA=ze(SA,!0);var or=ze(CA,!0);var BA=ze(NA,!0);var vo=ze(bA,!0);var _o=(()=>{let e=class e{constructor(r){this.firestore=r}loadData(){return f(this,null,function*(){let r=or(Fn(this.firestore,"post"),vo("isFeatured","==",!0),Rh(4));return(yield sr(r)).docs.map(o=>({id:o.id,data:o.data()}))})}load_Latest_Data(){return f(this,null,function*(){let r=or(Fn(this.firestore,"post"),jA("created"));return(yield sr(r)).docs.map(o=>({id:o.id,data:o.data()}))})}loadCategotyPost(r){return f(this,null,function*(){let i=or(Fn(this.firestore,"post"),vo("catogory.categoryId","==",r),Rh(4));return(yield sr(i)).docs.map(a=>({id:a.id,data:a.data()}))})}one_data(r){return f(this,null,function*(){try{let i=nI(this.firestore,"post",r),s=yield VA(i);return{id:s.id,data:s.data()}}catch{throw new Error("No such document!")}})}load_similar(r){return f(this,null,function*(){let i=or(Fn(this.firestore,"post"),vo("catogory.categoryId","==",r),Rh(4));return(yield sr(i)).docs.map(a=>({id:a.id,data:a.data()}))})}update_Data(r,i){return f(this,null,function*(){try{let s=nI(this.firestore,"post",r);yield BA(s,i)}catch(s){console.error("Error updating document: ",s)}})}};e.\u0275fac=function(i){return new(i||e)(j(un))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yH(t,e){if(t&1&&(v(0,"div",9),se(1,"app-post-card",10),y()),t&2){let n=e.$implicit;G(),de("post_data",n)}}function vH(t,e){if(t&1&&(v(0,"div",11),se(1,"app-post-card",10),y()),t&2){let n=e.$implicit;G(),de("post_data",n)}}var $A=(()=>{let e=class e{constructor(r){this.post_services=r}ngOnInit(){return f(this,null,function*(){this.posts=yield this.post_services.loadData(),this.latest_posts=yield this.post_services.load_Latest_Data()})}post(){return f(this,null,function*(){this.posts=yield this.post_services.loadData()})}latest(){return f(this,null,function*(){this.latest_posts=yield this.post_services.load_Latest_Data()})}};e.\u0275fac=function(i){return new(i||e)(P(_o))},e.\u0275cmp=le({type:e,selectors:[["app-home"]],standalone:!0,features:[he],decls:18,vars:2,consts:[[1,"featured-section"],[1,"container-fluid"],[1,"row"],[1,"col-md-12","text-center","mt-5"],[1,"text-white"],["class","col-lg-3",4,"ngFor","ngForOf"],[1,"container","mt-5"],[1,"col-md-12","text-center"],["class","col-md-4 mt-3",4,"ngFor","ngForOf"],[1,"col-lg-3"],[3,"post_data"],[1,"col-md-4","mt-3"]],template:function(i,s){i&1&&(v(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),E(5,"Featured Post"),y(),v(6,"p",4),E(7,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Illum cum est sequi ut, ratione sed perspiciatis facilis minus earum, consequatur ullam consectetur blanditiis quibusdam. Exercitationem nam debitis molestiae officiis dolore incidunt asperiores recusandae repudiandae. Atque recusandae qui saepe, obcaecati, rem fuga molestiae tempora consequuntur hic, dolore natus nulla impedit ratione?"),y()(),v(8,"div",2),Be(9,yH,2,1,"div",5),y()()()(),v(10,"section",6)(11,"div",7)(12,"h2"),E(13,"Latest Post"),y(),v(14,"p"),E(15,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Officia laudantium excepturi dignissimos voluptatem magnam quisquam, aperiam voluptates eos possimus eius, omnis laborum tempora quasi, enim obcaecati? Ex animi ad sunt!"),y()(),v(16,"div",2),Be(17,vH,2,1,"div",8),y()()),i&2&&(G(9),de("ngForOf",s.posts),G(8),de("ngForOf",s.latest_posts))},dependencies:[Bs,pt,br],styles:[".featured-section[_ngcontent-%COMP%]{padding-left:130px;padding-right:130px;padding-bottom:130px;background-color:var(--primary-color)}"]});let t=e;return t})();function _H(t,e){if(t&1&&(v(0,"div",6),se(1,"app-post-card",7),y()),t&2){let n=e.$implicit;G(),de("post_data",n)}}var HA=(()=>{let e=class e{constructor(r,i){this.route=r,this.post=i}ngOnInit(){this.route.params.subscribe(r=>{this.post.loadCategotyPost(r.id).then(i=>{this.postArray=i,this.name=r.category})})}};e.\u0275fac=function(i){return new(i||e)(P(nn),P(_o))},e.\u0275cmp=le({type:e,selectors:[["app-single-category"]],standalone:!0,features:[he],decls:9,vars:2,consts:[[1,"bg-theme","p-5"],[1,"container"],[1,"text-white"],[1,"container","mt-5","mb-5"],[1,"row"],["class","col-md-4 mb-3",4,"ngFor","ngForOf"],[1,"col-md-4","mb-3"],[3,"post_data"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1)(2,"h1",2),E(3),y(),v(4,"p",2),E(5,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Assumenda quasi, cum, itaque non aspernatur deserunt reprehenderit ea eligendi corporis sit possimus. Earum placeat quasi tenetur neque? Consectetur itaque doloremque beatae?"),y()()(),v(6,"div",3)(7,"div",4),Be(8,_H,2,1,"div",5),y()()),i&2&&(G(3),vn(s.name),G(5),de("ngForOf",s.postArray))},dependencies:[Bs,pt,br],styles:[".col-md-4[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.container[_ngcontent-%COMP%]{margin-top:20px}"]});let t=e;return t})();var qA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=le({type:e,selectors:[["app-comment-form"]],standalone:!0,features:[he],decls:17,vars:0,consts:[[1,"shadow-effect","mt-3"],[1,"card-body"],[1,"p-2"],[1,"px-2"],["action",""],[1,"form-group"],["for","name",1,"p-2"],["type","text","placeholder","Enter your name hare","id","name",1,"form-control","shadow-effect","p-3"],["for","comment",1,"p-2"],["name","","id","comment","cols","30","rows","10","placeholder","Add your comment here!",1,"form-control","shadow-effect"],["type","submit",1,"btn","btn-info","m-3","p-2"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1)(2,"h4",2),E(3,"Leave a comment "),y(),v(4,"p",3),E(5,"You can leave a comment using this comment form"),y(),v(6,"form",4)(7,"div",5)(8,"label",6),E(9,"Name"),y(),se(10,"input",7),y(),v(11,"div",5)(12,"label",8),E(13,"Comment"),y(),se(14,"textarea",9),y(),v(15,"button",10),E(16,"Add a comment"),y()()()())}});let t=e;return t})();var zA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=le({type:e,selectors:[["app-comment-list"]],standalone:!0,features:[he],decls:52,vars:0,consts:[[1,"card","mb-5","mt-5","shadow-effect"],[1,"card-body"],[1,"mt-3","mb-3"],[1,"comment-box","mt-3"],[1,"mb-0"],[1,"text-danger"],["href","#",1,"mt-1"],["href","#",1,"mt-1","ms-3"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1)(2,"h4",2),E(3,"Comments (325)"),y(),v(4,"div",3)(5,"h6",4),E(6," Jhon Doe "),y(),v(7,"small",5),E(8,"LAST UPDATED - SEP 20 ,2023"),y(),v(9,"div",2),E(10," Lorem ipsum dolor sit amet consectetur adipisicing elit. Modi quos possimus voluptatibus aliquam esse placeat nihil provident rerum repellat nisi veritatis fugit nobis explicabo libero neque deleniti ducimus, necessitatibus cupiditate officia atque. Dignissimos, repellat hic! Deleniti sequi labore repudiandae aut officia dignissimos et nesciunt atque dicta rerum, aliquam nobis ab! "),y(),v(11,"a",6),E(12,"Reply"),y(),v(13,"a",7),E(14,"View Reply"),y(),se(15,"hr"),y(),v(16,"div",3)(17,"h6",4),E(18," Jhon Doe "),y(),v(19,"small",5),E(20,"LAST UPDATED - SEP 20 ,2023"),y(),v(21,"div",2),E(22," Lorem ipsum dolor sit amet consectetur adipisicing elit. Modi quos possimus voluptatibus aliquam esse placeat nihil provident rerum repellat nisi veritatis fugit nobis explicabo libero neque deleniti ducimus, necessitatibus cupiditate officia atque. Dignissimos, repellat hic! Deleniti sequi labore repudiandae aut officia dignissimos et nesciunt atque dicta rerum, aliquam nobis ab! "),y(),v(23,"a",6),E(24,"Reply"),y(),v(25,"a",7),E(26,"View Reply"),y(),se(27,"hr"),y(),v(28,"div",3)(29,"h6",4),E(30," Jhon Doe "),y(),v(31,"small",5),E(32,"LAST UPDATED - SEP 20 ,2023"),y(),v(33,"div",2),E(34," Lorem ipsum dolor sit amet consectetur adipisicing elit. Modi quos possimus voluptatibus aliquam esse placeat nihil provident rerum repellat nisi veritatis fugit nobis explicabo libero neque deleniti ducimus, necessitatibus cupiditate officia atque. Dignissimos, repellat hic! Deleniti sequi labore repudiandae aut officia dignissimos et nesciunt atque dicta rerum, aliquam nobis ab! "),y(),v(35,"a",6),E(36,"Reply"),y(),v(37,"a",7),E(38,"View Reply"),y(),se(39,"hr"),y(),v(40,"div",3)(41,"h6",4),E(42," Jhon Doe "),y(),v(43,"small",5),E(44,"LAST UPDATED - SEP 20 ,2023"),y(),v(45,"div",2),E(46," Lorem ipsum dolor sit amet consectetur adipisicing elit. Modi quos possimus voluptatibus aliquam esse placeat nihil provident rerum repellat nisi veritatis fugit nobis explicabo libero neque deleniti ducimus, necessitatibus cupiditate officia atque. Dignissimos, repellat hic! Deleniti sequi labore repudiandae aut officia dignissimos et nesciunt atque dicta rerum, aliquam nobis ab! "),y(),v(47,"a",6),E(48,"Reply"),y(),v(49,"a",7),E(50,"View Reply"),y(),se(51,"hr"),y()()())},styles:[".comment-box[_ngcontent-%COMP%]{padding:15px 35px;background-color:#f0f0f0}a[_ngcontent-%COMP%]{text-decoration:none}"]});let t=e;return t})();function IH(t,e){t&1&&(v(0,"div"),E(1,"Loading..."),y())}function wH(t,e){if(t&1&&(v(0,"div",6)(1,"div",7),se(2,"img",8),v(3,"div",9)(4,"small",10),E(5),y(),v(6,"small",11),E(7,"Featured"),y(),v(8,"small",12),E(9),y(),v(10,"small",13),E(11),Ku(12,"date"),y(),v(13,"h1",14),E(14),y(),se(15,"p",15),y()(),se(16,"app-comment-form")(17,"app-comment-list"),y()),t&2){let n=Cr();G(2),Qo("src",n.post_data.postImgPath,Wo),G(3),vn(n.post_data.catogory.category),G(4),_n("View - ",n.post_data.view,""),G(2),_n("LAST UPDATED -",Qu(12,6,n.post_data.created.toMillis()),""),G(3),vn(n.post_data.title),G(),de("innerHTML",n.post_data.content,yD)}}function EH(t,e){if(t&1&&se(0,"app-post-card",16),t&2){let n=e.$implicit;de("post_data",n)}}var GA=(()=>{let e=class e{constructor(r,i){this.one=r,this.post=i,this.category_Id=""}ngOnInit(){this.post.params.subscribe(r=>{this.one.one_data(r.ID).then(i=>{this.post_data=i.data,this.post_data.view=this.post_data.view+1,this.one.update_Data(r.ID,this.post_data),this.one.load_similar(this.post_data.catogory.categoryId).then(s=>{this.similar_post=s})})})}};e.\u0275fac=function(i){return new(i||e)(P(_o),P(nn))},e.\u0275cmp=le({type:e,selectors:[["app-single-post"]],standalone:!0,features:[he],decls:6,vars:3,consts:[[1,"container","shadow-effect"],[1,"row"],[4,"ngIf"],["class"," col col-9",4,"ngIf"],[1,"col","col-3"],[3,"post_data",4,"ngFor","ngForOf"],[1,"col","col-9"],[1,"card","shadow-effect"],["alt","...",1,"card-img-top","img-fluid",3,"src"],[1,"card-body"],[1,"bg-light","text-danger","text-center","ms-2"],[1,"bg-light","text-success","text-center","ms-2"],[1,"bg-light","text-info","text-center","ms-2"],[1,"bg-light","text-warning","text-center","ms-2"],[1,"card-title","mt-3","mb-3"],[1,"card-text",3,"innerHTML"],[3,"post_data"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1),Be(2,IH,2,0,"div",2)(3,wH,18,8,"div",3),v(4,"div",4),Be(5,EH,1,1,"app-post-card",5),y()()()),i&2&&(G(2),de("ngIf",!s.post_data),G(),de("ngIf",s.post_data),G(2),de("ngForOf",s.similar_post))},dependencies:[Bs,qA,zA,pt,br,Ns,ll]});let t=e;return t})();var WA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=le({type:e,selectors:[["app-terms-and-condition"]],standalone:!0,features:[he],decls:14,vars:0,consts:[[1,"mt-5"],[1,"container","mt-5","mb-5","p-5","bg-theme"],[1,"text-white","text-center"],[1,"p-5","mt-4","bg-secondary-theme","text-them-primary"],[1,"text-center"],[1,"btn","btn-info","btn-sm","mt-4"]],template:function(i,s){i&1&&(v(0,"section",0)(1,"div",1)(2,"h1",2),E(3," Terms & Conditions "),y(),v(4,"div",3)(5,"p"),E(6,"Lorem ipsum dolor Lorem ipsum dolor, sit amet consectetur adipisicing elit. Minus illo ullam deleniti aspernatur veritatis officiis ex commodi sequi provident praesentium eius sapiente iure, eligendi, iusto nesciunt unde est deserunt quas delectus nam nobis illum, labore quos modi. Ratione quibusdam illo quis aspernatur, saepe facere numquam incidunt exercitationem dolor nisi maiores. sit amet consectetur adipisicing elit. Fugit vero temporibus repellendus similique atque quo, illum porro quibusdam. Sapiente repellendus pariatur accusantium optio expedita saepe, magnam consectetur vero repudiandae perspiciatis."),y(),v(7,"p"),E(8,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugit vero temporibus repellendus similique atque quo, illum porro quibusdam. Sapiente repellendus pariatur accusantium optio expedita saepe, magnam Lorem ipsum dolor sit amet consectetur adipisicing elit. Cumque earum ullam totam deserunt, reiciendis expedita perferendis. Consequatur sit quas reiciendis. consectetur vero repudiandae perspiciatis."),y(),v(9,"p"),E(10,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugit vero temporibus repellendus similique atque quo, illum porro quibusdam. Sapiente repellendus pariatur accusantium optio expedita saepe, magnam consectetur vero repudiandae perspiciatis."),y(),v(11,"div",4)(12,"button",5),E(13,"Back to Home"),y()()()()())}});let t=e;return t})();var KA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=le({type:e,selectors:[["app-contact-us"]],standalone:!0,features:[he],decls:2,vars:0,template:function(i,s){i&1&&(v(0,"p"),E(1,"contact-us works!"),y())}});let t=e;return t})();var QA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=le({type:e,selectors:[["app-about-us"]],standalone:!0,features:[he],decls:14,vars:0,consts:[[1,"mt-5"],[1,"container","mt-5","mb-5","p-5","bg-theme"],[1,"text-white","text-center"],[1,"p-5","mt-4","bg-secondary-theme","text-them-primary"],[1,"text-center"],[1,"btn","btn-info","btn-sm","mt-4"]],template:function(i,s){i&1&&(v(0,"section",0)(1,"div",1)(2,"h1",2),E(3," About Us "),y(),v(4,"div",3)(5,"p"),E(6,"Lorem ipsum dolor Lorem ipsum dolor, sit amet consectetur adipisicing elit. Minus illo ullam deleniti aspernatur veritatis officiis ex commodi sequi provident praesentium eius sapiente iure, eligendi, iusto nesciunt unde est deserunt quas delectus nam nobis illum, labore quos modi. Ratione quibusdam illo quis aspernatur, saepe facere numquam incidunt exercitationem dolor nisi maiores. sit amet consectetur adipisicing elit. Fugit vero temporibus repellendus similique atque quo, illum porro quibusdam. Sapiente repellendus pariatur accusantium optio expedita saepe, magnam consectetur vero repudiandae perspiciatis."),y(),v(7,"p"),E(8,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugit vero temporibus repellendus similique atque quo, illum porro quibusdam. Sapiente repellendus pariatur accusantium optio expedita saepe, magnam Lorem ipsum dolor sit amet consectetur adipisicing elit. Cumque earum ullam totam deserunt, reiciendis expedita perferendis. Consequatur sit quas reiciendis. consectetur vero repudiandae perspiciatis."),y(),v(9,"p"),E(10,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugit vero temporibus repellendus similique atque quo, illum porro quibusdam. Sapiente repellendus pariatur accusantium optio expedita saepe, magnam consectetur vero repudiandae perspiciatis."),y(),v(11,"div",4)(12,"button",5),E(13,"Back to Home"),y()()()()())}});let t=e;return t})();var YA=[{path:"",component:$A},{path:"category/:category/:id",component:HA},{path:"post/:ID",component:GA},{path:"term-conditions",component:WA},{path:"contact-us",component:KA},{path:"about",component:QA}];var nR="firebasestorage.googleapis.com",DH="storageBucket",TH=2*60*1e3,CH=10*60*1e3;var Ln=class t extends mt{constructor(e,n,r=0){super(iI(e),`Firebase Storage: ${n} (${iI(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return iI(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},cr=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(cr||{});function iI(t){return"storage/"+t}function bH(){let t="An unknown error occurred, please check the error payload for server response.";return new Ln(cr.UNKNOWN,t)}function SH(){return new Ln(cr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function AH(){return new Ln(cr.CANCELED,"User canceled the upload/download.")}function RH(t){return new Ln(cr.INVALID_URL,"Invalid URL '"+t+"'.")}function xH(t){return new Ln(cr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ZA(t){return new Ln(cr.INVALID_ARGUMENT,t)}function rR(){return new Ln(cr.APP_DELETED,"The Firebase app was deleted.")}function MH(t){return new Ln(cr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var ar=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw xH(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(z){z.path_=decodeURIComponent(z.path)}let l="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${l}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},w=n===nR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",b=new RegExp(`^https?://${w}/${i}/${_}`,"i"),W=[{regex:a,indices:c,postModify:s},{regex:p,indices:m,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let z=0;z<W.length;z++){let _e=W[z],ie=_e.regex.exec(e);if(ie){let ut=ie[_e.indices.bucket],Ot=ie[_e.indices.path];Ot||(Ot=""),r=new t(ut,Ot),_e.postModify(r);break}}if(r==null)throw RH(e);return r}},sI=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function NH(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function l(..._){u||(u=!0,e.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,t(p,c())},_)}function h(){s&&clearTimeout(s)}function p(_,...b){if(u){h();return}if(_){h(),l.call(null,_,...b);return}if(c()||o){h(),l.call(null,_,...b);return}r<64&&(r*=2);let W;a===1?(a=2,W=0):W=(r+Math.random())*1e3,d(W)}let m=!1;function w(_){m||(m=!0,h(),!u&&(i!==null?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function PH(t){t(!1)}function OH(t){return t!==void 0}function JA(t,e,n,r){if(r<e)throw ZA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ZA(`Invalid value for '${t}'. Expected ${n} or less.`)}function kH(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var oI=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(oI||{});function FH(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var aI=class{constructor(e,n,r,i,s,o,a,c,u,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Io(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===oI.NO_ERROR,c=s.getStatus();if(!a||FH(c,this.additionalRetryCodes_)&&this.retry){let l=s.getErrorCode()===oI.ABORT;r(!1,new Io(!1,null,l));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new Io(u,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());OH(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=bH();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?rR():AH();o(c)}else{let c=SH();o(c)}};this.canceled_?n(!1,new Io(!1,null,!0)):this.backoffId_=NH(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&PH(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Io=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function LH(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function VH(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function UH(t,e){e&&(t["X-Firebase-GMPID"]=e)}function jH(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function BH(t,e,n,r,i,s,o=!0){let a=kH(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return UH(u,e),LH(u,n),VH(u,s),jH(u,r),new aI(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function $H(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function HH(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var TQ=256*1024;var cI=class t{constructor(e,n){this._service=e,n instanceof ar?this._location=n:this._location=ar.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new ar(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return HH(this._location.path)}get storage(){return this._service}get parent(){let e=$H(this._location.path);if(e===null)return null;let n=new ar(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw MH(e)}};function XA(t,e){let n=e?.[DH];return n==null?null:ar.makeFromBucketSpec(n,t)}function qH(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Pl(i,t.app.options.projectId))}var uI=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=nR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=TH,this._maxUploadRetryTime=CH,this._requests=new Set,i!=null?this._bucket=ar.makeFromBucketSpec(i,this._host):this._bucket=XA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ar.makeFromBucketSpec(this._url,e):this._bucket=XA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){JA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){JA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return f(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return f(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cI(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new sI(rR());{let o=BH(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return f(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},eR="@firebase/storage",tR="0.12.0";var iR="storage";function sR(t=Pr(),e){t=$e(t);let r=Si(t,iR).getImmediate({identifier:e}),i=Nl("storage");return i&&oR(r,...i),r}function oR(t,e,n,r={}){qH(t,e,n,r)}function zH(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new uI(n,r,i,e,Tn)}function GH(){Dn(new wt(iR,zH,"PUBLIC").setMultipleInstances(!0)),Te(eR,tR,""),Te(eR,tR,"esm2017")}GH();var wc=class{constructor(e){return e}},aR="storage",lI=class{constructor(){return Ri(aR)}};var dI=new N("angularfire2.storage-instances");function WH(t,e){let n=Hs(aR,t,e);return n&&new wc(n)}function KH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new wc(r)}}var QH={provide:lI,deps:[[new ke,dI]]},YH={provide:wc,useFactory:WH,deps:[[new ke,dI],rn]},ZH=(()=>{class t{constructor(){Te("angularfire",Jn.full,"gcs")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=it({type:t});static \u0275inj=rt({providers:[YH,QH]})}return t})();function cR(t,...e){return{ngModule:ZH,providers:[{provide:dI,useFactory:KH(t),multi:!0,deps:[ue,ht,kr,Xn,[new ke,Pi],[new ke,Or],...e]}]}}var uR=ze(sR,!0);var lR={providers:[uT(YA),bs(kT(()=>FT({projectId:"blog-2de98",appId:"1:1015353196125:web:a51e1978cb17e401f097b4",storageBucket:"blog-2de98.appspot.com",apiKey:"AIzaSyAdT34h_JlEJPTAAGlVcVqv2g-X9kmwgsg",authDomain:"blog-2de98.firebaseapp.com",messagingSenderId:"1015353196125"}))),bs(wC(()=>EC())),bs(FA(()=>UA())),bs(cR(()=>uR()))]};var dR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=le({type:e,selectors:[["app-header"]],standalone:!0,features:[he],decls:4,vars:0,consts:[[1,"navbar","navbar-expand-lg","fixed-top","bg-white"],[1,"container","justify-content-center"],["href","#","routerLink","/",1,"site-logo"]],template:function(i,s){i&1&&(v(0,"header",0)(1,"div",1)(2,"a",2),E(3," ANG-BLOG "),y()()())},styles:["header[_ngcontent-%COMP%]{height:100px}.site-logo[_ngcontent-%COMP%]{padding:5px 20px;border-radius:20px;background-color:var(--secondary-color);color:var(--primary-color);text-decoration:none;font-size:1.5em}"]});let t=e;return t})();var hR=(()=>{let e=class e{constructor(){this.firestore=S(un)}loadData(){return f(this,null,function*(){let r=or(Fn(this.firestore,"categories"));return(yield sr(r)).docs.map(o=>({id:o.id,data:o.data()}))})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var XH=(t,e)=>["/category",t,e];function eq(t,e){if(t&1&&(v(0,"li",5)(1,"a",6),E(2),y()()),t&2){let n=e.$implicit;de("routerLink",e0(2,XH,n.data.category,n.id)),G(2),vn(n.data.category)}}var fR=(()=>{let e=class e{constructor(r){this.post_cat=r}ngOnInit(){return f(this,null,function*(){yield this.load()})}load(){return f(this,null,function*(){this.data=yield this.post_cat.loadData()})}};e.\u0275fac=function(i){return new(i||e)(P(hR))},e.\u0275cmp=le({type:e,selectors:[["app-category-navbar"]],standalone:!0,features:[he],decls:5,vars:1,consts:[[1,"navbar","navbar-expand-lg","fixed-top"],[1,"container"],[1,"collapse","navbar-collapse","justify-content-center"],[1,"navbar-nav"],["class","nav-item ml-3",3,"routerLink",4,"ngFor","ngForOf"],[1,"nav-item","ml-3",3,"routerLink"],[1,"nav-link"]],template:function(i,s){i&1&&(v(0,"nav",0)(1,"div",1)(2,"div",2)(3,"ul",3),Be(4,eq,3,5,"li",4),y()()()()),i&2&&(G(4),de("ngForOf",s.data))},dependencies:[pt,br,Rl],styles:["nav[_ngcontent-%COMP%]{margin-top:100px;height:50px;background-color:var(--footer-nav-color)}.nav-link[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--primary-color);cursor:pointer}"]});let t=e;return t})();var pR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=le({type:e,selectors:[["app-footer"]],standalone:!0,features:[he],decls:22,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-12","text-center"],[1,"site-logo"],[1,"nav","justify-content-center"],[1,"nav-item"],["href","",1,"nav-link"],[1,"mb-2","mt-2"]],template:function(i,s){i&1&&(v(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),E(5," ANG-BLOG "),y(),v(6,"div")(7,"ul",4)(8,"li",5)(9,"a",6),E(10,"Home"),y()(),v(11,"li",5)(12,"a",6),E(13,"About"),y()(),v(14,"li",5)(15,"a",6),E(16,"Terms & Conditions"),y()(),v(17,"li",5)(18,"a",6),E(19,"Contact"),y()()()(),v(20,"p",7),E(21,"Copyright (c) 2024 Angular Blogsite"),y()()()()())},styles:["footer[_ngcontent-%COMP%]{height:130px;padding:15px;background-color:var(--footer-nav-color)}.site-logo[_ngcontent-%COMP%]{padding:5px 20px;border-radius:20px;background-color:var(--secondary-color);color:var(--primary-color);font-size:1.2em}.nav-link[_ngcontent-%COMP%]{color:var(--primary-color)}"]});let t=e;return t})();var DR=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(P(gi),P(Er))},e.\u0275dir=qe({type:e});let t=e;return t})(),tq=(()=>{let e=class e extends DR{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=pi(e)))(s||e)}})(),e.\u0275dir=qe({type:e,features:[yn]});let t=e;return t})(),TR=new N("NgValueAccessor");var nq={provide:TR,useExisting:vr(()=>Fh),multi:!0};function rq(){let t=Yn()?Yn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var iq=new N("CompositionEventMode"),Fh=(()=>{let e=class e extends DR{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!rq())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(P(gi),P(Er),P(iq,8))},e.\u0275dir=qe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Tr("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[xs([nq]),yn]});let t=e;return t})();function CR(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var Lh=new N("NgValidators"),bR=new N("NgAsyncValidators"),sq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function oq(t){return CR(t.value)?{required:!0}:null}function aq(t){return CR(t.value)||sq.test(t.value)?null:{email:!0}}function mR(t){return null}function SR(t){return t!=null}function AR(t){return yi(t)?Me(t):t}function RR(t){let e={};return t.forEach(n=>{e=n!=null?A(A({},e),n):e}),Object.keys(e).length===0?null:e}function xR(t,e){return e.map(n=>n(t))}function cq(t){return!t.validate}function MR(t){return t.map(e=>cq(e)?e:n=>e.validate(n))}function uq(t){if(!t)return null;let e=t.filter(SR);return e.length==0?null:function(n){return RR(xR(n,e))}}function fI(t){return t!=null?uq(MR(t)):null}function lq(t){if(!t)return null;let e=t.filter(SR);return e.length==0?null:function(n){let r=xR(n,e).map(AR);return sf(r).pipe(Z(RR))}}function pI(t){return t!=null?lq(MR(t)):null}function gR(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function dq(t){return t._rawValidators}function hq(t){return t._rawAsyncValidators}function hI(t){return t?Array.isArray(t)?t:[t]:[]}function Mh(t,e){return Array.isArray(t)?t.includes(e):t===e}function yR(t,e){let n=hI(e);return hI(t).forEach(i=>{Mh(n,i)||n.push(i)}),n}function vR(t,e){return hI(e).filter(n=>!Mh(t,n))}var Nh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Eo=class extends Nh{get formDirective(){return null}get path(){return null}},Cc=class extends Nh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ph=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},fq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},xY=me(A({},fq),{"[class.ng-submitted]":"isSubmitted"}),NR=(()=>{let e=class e extends Ph{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(P(Cc,2))},e.\u0275dir=qe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Gu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[yn]});let t=e;return t})(),PR=(()=>{let e=class e extends Ph{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(P(Eo,10))},e.\u0275dir=qe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Gu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[yn]});let t=e;return t})();var Ec="VALID",xh="INVALID",wo="PENDING",Dc="DISABLED";function OR(t){return(Vh(t)?t.validators:t)||null}function pq(t){return Array.isArray(t)?fI(t):t||null}function kR(t,e){return(Vh(e)?e.asyncValidators:t)||null}function mq(t){return Array.isArray(t)?pI(t):t||null}function Vh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function gq(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new R(1e3,"");if(!r[n])throw new R(1001,"")}function yq(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new R(1002,"")})}var Oh=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ec}get invalid(){return this.status===xh}get pending(){return this.status==wo}get disabled(){return this.status===Dc}get enabled(){return this.status!==Dc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(yR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(yR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(vR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(vR(e,this._rawAsyncValidators))}hasValidator(e){return Mh(this._rawValidators,e)}hasAsyncValidator(e){return Mh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=wo,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Dc,this.errors=null,this._forEachChild(r=>{r.disable(me(A({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(me(A({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ec,this._forEachChild(r=>{r.enable(me(A({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(me(A({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ec||this.status===wo)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dc:Ec}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=wo,this._hasOwnPendingAsyncValidator=!0;let n=AR(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new et,this.statusChanges=new et}_calculateStatus(){return this._allControlsDisabled()?Dc:this.errors?xh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wo)?wo:this._anyControlsHaveStatus(xh)?xh:Ec}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=pq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=mq(this._rawAsyncValidators)}},kh=class extends Oh{constructor(e,n,r){super(OR(n),kR(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){yq(this,!0,e),Object.keys(e).forEach(r=>{gq(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var mI=new N("CallSetDisabledState",{providedIn:"root",factory:()=>gI}),gI="always";function vq(t,e){return[...e.path,t]}function FR(t,e,n=gI){LR(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Iq(t,e),Eq(t,e),wq(t,e),_q(t,e)}function _R(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function _q(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function LR(t,e){let n=dq(t);e.validator!==null?t.setValidators(gR(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=hq(t);e.asyncValidator!==null?t.setAsyncValidators(gR(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();_R(e._rawValidators,i),_R(e._rawAsyncValidators,i)}function Iq(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&VR(t,e)})}function wq(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&VR(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function VR(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Eq(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Dq(t,e){t==null,LR(t,e)}function Tq(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Cq(t){return Object.getPrototypeOf(t.constructor)===tq}function bq(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Sq(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Fh?n=s:Cq(s)?r=s:i=s}),i||r||n||null}var Aq={provide:Eo,useExisting:vr(()=>yI)},Tc=Promise.resolve(),yI=(()=>{let e=class e extends Eo{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new et,this.form=new kh({},fI(r),pI(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Tc.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),FR(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Tc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Tc.then(()=>{let i=this._findContainer(r.path),s=new kh({});Dq(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Tc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Tc.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,bq(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(P(Lh,10),P(bR,10),P(mI,8))},e.\u0275dir=qe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&Tr("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[tt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xs([Aq]),yn]});let t=e;return t})();function IR(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function wR(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Rq=class extends Oh{constructor(e=null,n,r){super(OR(n),kR(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(wR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){IR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){IR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){wR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var xq={provide:Cc,useExisting:vr(()=>vI)},ER=Promise.resolve(),vI=(()=>{let e=class e extends Cc{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new Rq,this._registered=!1,this.name="",this.update=new et,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=Sq(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Tq(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){FR(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){ER.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Gn(i);ER.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?vq(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(P(Eo,9),P(Lh,10),P(bR,10),P(TR,10),P(As,8),P(mI,8))},e.\u0275dir=qe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[tt.None,"disabled","isDisabled"],model:[tt.None,"ngModel","model"],options:[tt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xs([xq]),yn,_r]});let t=e;return t})(),UR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=qe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var Mq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=it({type:e}),e.\u0275inj=rt({});let t=e;return t})();var jR=(()=>{let e=class e{constructor(){this._validator=mR}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):mR,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=qe({type:e,features:[_r]});let t=e;return t})();var Nq={provide:Lh,useExisting:vr(()=>_I),multi:!0};var _I=(()=>{let e=class e extends jR{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Gn,this.createValidator=r=>oq}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=pi(e)))(s||e)}})(),e.\u0275dir=qe({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&Ko("required",s._enabled?"":null)},inputs:{required:"required"},features:[xs([Nq]),yn]});let t=e;return t})();var Pq={provide:Lh,useExisting:vr(()=>II),multi:!0},II=(()=>{let e=class e extends jR{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=Gn,this.createValidator=r=>aq}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=pi(e)))(s||e)}})(),e.\u0275dir=qe({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[xs([Pq]),yn]});let t=e;return t})();var Oq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=it({type:e}),e.\u0275inj=rt({imports:[Mq]});let t=e;return t})();var BR=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:mI,useValue:r.callSetDisabledState??gI}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=it({type:e}),e.\u0275inj=rt({imports:[Oq]});let t=e;return t})();var $R=(()=>{let e=class e{constructor(){this.firestore=S(un)}saveData(r){return f(this,null,function*(){try{let i=yield LA(Fn(this.firestore,"subscribers"),r)}catch{}})}isRegistered(r){return f(this,null,function*(){try{return(yield sr(or(Fn(this.firestore,"subscribers"),vo("email","==",r)))).size>0}catch(i){throw i}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Lq(t,e){t&1&&(v(0,"div"),E(1," Name is required. "),y())}function Vq(t,e){if(t&1&&(v(0,"div",18),Be(1,Lq,2,0,"div",19),y()),t&2){Cr();let n=vi(5);G(),de("ngIf",n.errors==null?null:n.errors.required)}}function Uq(t,e){t&1&&(v(0,"div"),E(1," Email is required. "),y())}function jq(t,e){if(t&1&&(v(0,"div",18),Be(1,Uq,2,0,"div",19),y()),t&2){Cr();let n=vi(9);G(),de("ngIf",n.errors==null?null:n.errors.required)}}function Bq(t,e){if(t&1){let n=QD();v(0,"form",8,9),Tr("ngSubmit",function(){wE(n);let i=vi(1),s=Cr();return EE(s.onsubmit(i))}),v(2,"div",10)(3,"div",11),se(4,"input",12,13),Be(6,Vq,2,1,"div",14),y(),v(7,"div",11),se(8,"input",15,16),Be(10,jq,2,1,"div",14),y()(),v(11,"button",17),E(12,"SUBSCRIBE"),y()()}if(t&2){let n=vi(1),r=vi(5),i=vi(9);G(6),de("ngIf",r.touched&&r.invalid),G(4),de("ngIf",i.touched&&i.invalid),G(),de("disabled",n.invalid)}}function $q(t,e){t&1&&(v(0,"p",20),E(1,"This user is already registered. Try with new email."),y())}function Hq(t,e){t&1&&(v(0,"p",21),E(1,"Thankyou for subscribing."),y())}var HR=(()=>{let e=class e{constructor(r){this.subService=r,this.sucessfully=!1}ngOnInit(){}onsubmit(r){return f(this,null,function*(){let i=r.value;if(this.val=yield this.subService.isRegistered(i.email),!this.val)this.subService.saveData(i),this.sucessfully=!0,r.reset();else throw new Error("This email is already exist")})}};e.\u0275fac=function(i){return new(i||e)(P($R))},e.\u0275cmp=le({type:e,selectors:[["app-subscription-form"]],standalone:!0,features:[he],decls:10,vars:3,consts:[[1,"card"],[1,"card-body"],[1,"text-center","mt-3","mb-5"],[1,"mb-3"],[1,"m-auto","subs-text","mb-3"],["class","form-inline mb-5",3,"ngSubmit",4,"ngIf"],["class","mt-3 text-danger",4,"ngIf"],["class","mt-3 text-info",4,"ngIf"],[1,"form-inline","mb-5",3,"ngSubmit"],["subForm","ngForm"],[1,"row"],[1,"col"],["type","text","placeholder","First name","aria-label","First name","name","name","ngModel","","required","",1,"form-control"],["Name","ngModel"],["class","text_danger",4,"ngIf"],["type","email","placeholder","Email","aria-label","Last name","name","email","ngModel","","required","","email","",1,"form-control"],["Email","ngModel"],["type","submit",1,"btn","btn-info","mt-5","rounded-4",3,"disabled"],[1,"text_danger"],[4,"ngIf"],[1,"mt-3","text-danger"],[1,"mt-3","text-info"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),E(4,"SUBSCRIPTION FORM"),y(),v(5,"p",4),E(6,"Lorem ipsum dolor sit amet consectetur adipisicing elit. dignissimos consectetur fugit."),y(),Be(7,Bq,13,3,"form",5)(8,$q,2,0,"p",6)(9,Hq,2,0,"p",7),y()()()),i&2&&(G(7),de("ngIf",!s.sucessfully),G(),de("ngIf",s.val),G(),de("ngIf",s.sucessfully))},dependencies:[BR,UR,Fh,NR,PR,_I,II,vI,yI,pt,Ns],styles:[".card[_ngcontent-%COMP%]{background-color:var(--secondary-color);border:none;width:100%;margin:auto auto 50px;box-shadow:0 0 33px -10px #4772fe4d}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%]{height:60px;padding-left:20px;font-size:13px;width:100%;border:none;box-shadow:0 0 33px -10px #4772fe4d}.btn[_ngcontent-%COMP%]{border:none;height:45px;margin:auto;width:30%}"]});let t=e;return t})();var qR=(()=>{let e=class e{constructor(){this.title="blogs_project"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=le({type:e,selectors:[["app-root"]],standalone:!0,features:[he],decls:8,vars:0,consts:[[1,"app-body"],[1,"container"],[1,"row","justify-content-center"]],template:function(i,s){i&1&&(se(0,"app-header")(1,"app-category-navbar"),v(2,"div",0),se(3,"router-outlet"),y(),v(4,"div",1)(5,"div",2),se(6,"app-subscription-form"),y()(),se(7,"app-footer"))},dependencies:[pt,HR,pR,fR,Wm,dR],styles:[".app-body[_ngcontent-%COMP%]{min-height:10vh;margin-top:150px;margin-bottom:30px}"]});let t=e;return t})();x0(qR,lR).catch(t=>console.error(t));
